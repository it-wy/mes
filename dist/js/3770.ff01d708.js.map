{"version":3,"file":"js/3770.ff01d708.js","mappings":"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","sources":["webpack://data-v2/./src/views/setting/poster-design/components/PosterCanvas.vue?27e0","webpack://data-v2/src/views/setting/poster-design/components/PosterCanvas.vue","webpack://data-v2/./src/views/setting/poster-design/components/PosterCanvas.vue?31c7","webpack://data-v2/./src/views/setting/poster-design/components/PosterCanvas.vue","webpack://data-v2/./src/views/setting/poster-design/poster-design.vue?ba2f","webpack://data-v2/./src/views/setting/poster-design/config/components.js","webpack://data-v2/src/views/setting/poster-design/poster-design.vue","webpack://data-v2/./src/views/setting/poster-design/poster-design.vue?11b5","webpack://data-v2/./src/views/setting/poster-design/poster-design.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"poster-canvas\",on:{\"dragover\":function($event){$event.preventDefault();},\"drop\":_vm.handleDrop}},[_c('div',{staticClass:\"canvas-container\"},[_c('div',{staticClass:\"canvas-grid\"}),_c('div',{staticClass:\"canvas-size-controller\"},[_c('a-input-number',{attrs:{\"min\":100,\"max\":2000},on:{\"change\":_vm.handleCanvasSizeChange},model:{value:(_vm.canvasWidth),callback:function ($$v) {_vm.canvasWidth=$$v},expression:\"canvasWidth\"}}),_c('span',{staticClass:\"size-separator\"},[_vm._v(\"×\")]),_c('a-input-number',{attrs:{\"min\":100,\"max\":2000},on:{\"change\":_vm.handleCanvasSizeChange},model:{value:(_vm.canvasHeight),callback:function ($$v) {_vm.canvasHeight=$$v},expression:\"canvasHeight\"}})],1),_c('div',{staticClass:\"canvas-content\",style:({\n        width: `${_vm.canvasWidth}px`,\n        height: `${_vm.canvasHeight}px`\n      })},_vm._l((_vm.value),function(element){return _c('div',{key:element.id,staticClass:\"canvas-element\",class:{\n          'is-selected': _vm.selectedElement?.id === element.id\n        },style:(_vm.getElementStyle(element)),on:{\"click\":function($event){$event.stopPropagation();return _vm.handleSelect(element)},\"mousedown\":function($event){$event.stopPropagation();return _vm.handleElementMouseDown($event, element)}}},[(element.type === 'text')?[_c('div',{staticClass:\"text-content\",style:(_vm.getTextStyle(element))},[_vm._v(\" \"+_vm._s(element.content)+\" \")])]:_vm._e(),(element.type === 'image')?[_c('img',{style:(_vm.getImageStyle(element)),attrs:{\"src\":element.url,\"draggable\":\"false\"}})]:_vm._e(),(element.type === 'shape')?[_c('div',{staticClass:\"shape-content\",style:(_vm.getShapeStyle(element))})]:_vm._e(),(element.type === 'qrcode')?[_c('div',{staticClass:\"qrcode-content\"},[_c('qrcode',{attrs:{\"value\":element.content,\"size\":Math.min(element.style.width, element.style.height),\"level\":\"H\",\"foreground\":element.style.color || '#000000',\"background\":element.style.backgroundColor || '#FFFFFF'}})],1)]:_vm._e(),(_vm.selectedElement?.id === element.id)?[_vm._l((_vm.controlPoints),function(point,index){return _c('div',{key:index,staticClass:\"control-point\",class:point.class,style:(_vm.getControlPointStyle(point)),on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.handleControlPointMouseDown($event, point, element)}}})}),_c('div',{staticClass:\"rotate-handle\",on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.handleRotateStart($event, element)}}})]:_vm._e()],2)}),0)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div \n    class=\"poster-canvas\"\n    @dragover.prevent\n    @drop=\"handleDrop\"\n  >\n    <div class=\"canvas-container\">\n      <!-- 网格背景 -->\n      <div class=\"canvas-grid\"></div>\n      \n      <!-- 画布尺寸控制器 -->\n      <div class=\"canvas-size-controller\">\n        <a-input-number\n          v-model:value=\"canvasWidth\"\n          :min=\"100\"\n          :max=\"2000\"\n          @change=\"handleCanvasSizeChange\"\n        />\n        <span class=\"size-separator\">×</span>\n        <a-input-number\n          v-model:value=\"canvasHeight\"\n          :min=\"100\"\n          :max=\"2000\"\n          @change=\"handleCanvasSizeChange\"\n        />\n      </div>\n      <!-- 元素列表 -->\n      <div \n        class=\"canvas-content\"\n        :style=\"{\n          width: `${canvasWidth}px`,\n          height: `${canvasHeight}px`\n        }\"\n      >\n        <div\n          v-for=\"element in value\"\n          :key=\"element.id\"\n          class=\"canvas-element\"\n          :class=\"{\n            'is-selected': selectedElement?.id === element.id\n          }\"\n          :style=\"getElementStyle(element)\"\n          @click.stop=\"handleSelect(element)\"\n          @mousedown.stop=\"handleElementMouseDown($event, element)\"\n        >\n          <!-- 文本元素 -->\n          <template v-if=\"element.type === 'text'\">\n            <div \n              class=\"text-content\"\n              :style=\"getTextStyle(element)\"\n            >\n              {{ element.content }}\n            </div>\n          </template>\n\n          <!-- 图片元素 -->\n          <template v-if=\"element.type === 'image'\">\n            <img \n              :src=\"element.url\"\n              :style=\"getImageStyle(element)\"\n              draggable=\"false\"\n            >\n          </template>\n\n          <!-- 形状元素 -->\n          <template v-if=\"element.type === 'shape'\">\n            <div \n              class=\"shape-content\"\n              :style=\"getShapeStyle(element)\"\n            ></div>\n          </template>\n\n          <!-- 二维码元素 -->\n          <template v-if=\"element.type === 'qrcode'\">\n            <div class=\"qrcode-content\">\n              <qrcode\n                :value=\"element.content\"\n                :size=\"Math.min(element.style.width, element.style.height)\"\n                level=\"H\"\n                :foreground=\"element.style.color || '#000000'\"\n                :background=\"element.style.backgroundColor || '#FFFFFF'\"\n              ></qrcode>\n            </div>\n          </template>\n\n          <!-- 选中时的控制点 -->\n          <template v-if=\"selectedElement?.id === element.id\">\n            <div \n              v-for=\"(point, index) in controlPoints\"\n              :key=\"index\"\n              class=\"control-point\"\n              :class=\"point.class\"\n              :style=\"getControlPointStyle(point)\"\n              @mousedown.stop=\"handleControlPointMouseDown($event, point, element)\"\n            ></div>\n            <div \n              class=\"rotate-handle\"\n              @mousedown.stop=\"handleRotateStart($event, element)\"\n            ></div>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport qrcode from 'qrcode.vue'\n\nexport default {\n  name: 'PosterCanvas',\n  components: {\n    qrcode\n  },\n  props: {\n    value: {\n      type: Array,\n      default: () => []\n    },\n    selectedElement: {\n      type: Object,\n      default: null\n    }\n  },\n  emits: ['update:value', 'select', 'change'],\n  data() {\n    return {\n      canvasWidth: 750,\n      canvasHeight: 1334,\n      isDragging: false,\n      startX: 0,\n      startY: 0,\n      originalPosition: null,\n      originalSize: null,\n      isResizing: false,\n      resizeType: '',\n      isRotating: false,\n      rotateStartAngle: 0,\n      controlPoints: [\n        { class: 'nw', cursor: 'nw-resize', x: 0, y: 0 },\n        { class: 'n', cursor: 'n-resize', x: 0.5, y: 0 },\n        { class: 'ne', cursor: 'ne-resize', x: 1, y: 0 },\n        { class: 'w', cursor: 'w-resize', x: 0, y: 0.5 },\n        { class: 'e', cursor: 'e-resize', x: 1, y: 0.5 },\n        { class: 'sw', cursor: 'sw-resize', x: 0, y: 1 },\n        { class: 's', cursor: 's-resize', x: 0.5, y: 1 },\n        { class: 'se', cursor: 'se-resize', x: 1, y: 1 }\n      ]\n    }\n  },\n  mounted() {\n    document.addEventListener('mousemove', this.handleMouseMove);\n    document.addEventListener('mouseup', this.handleMouseUp);\n  },\n  beforeUnmount() {\n    document.removeEventListener('mousemove', this.handleMouseMove);\n    document.removeEventListener('mouseup', this.handleMouseUp);\n  },\n  methods: {\n    handleDrop(event) {\n      event.preventDefault();\n      const componentType = event.dataTransfer.getData('componentType');\n      if (!componentType) return;\n\n      const rect = event.currentTarget.getBoundingClientRect();\n      const x = event.clientX - rect.left;\n      const y = event.clientY - rect.top;\n\n      this.$emit('add', {\n        type: componentType,\n        style: {\n          left: x,\n          top: y\n        }\n      });\n    },\n\n    handleSelect(element) {\n      this.$emit('select', element);\n    },\n\n    handleElementMouseDown(event, element) {\n      if (event.target.closest('.control-point') || event.target.closest('.rotate-handle')) {\n        return;\n      }\n      event.stopPropagation();\n      this.isDragging = true;\n      this.startX = event.clientX;\n      this.startY = event.clientY;\n      this.originalPosition = {\n        left: element.style.left,\n        top: element.style.top\n      };\n      this.handleSelect(element);\n    },\n\n    handleCanvasSizeChange() {\n      // 画布尺寸改变时，可能需要调整元素位置\n      this.$emit('change', this.value);\n    },\n\n    getElementStyle(element) {\n      return {\n        position: 'absolute',\n        left: `${element.style.left}px`,\n        top: `${element.style.top}px`,\n        width: `${element.style.width}px`,\n        height: `${element.style.height}px`,\n        transform: `rotate(${element.style.rotate || 0}deg)`,\n        opacity: (element.style.opacity || 100) / 100,\n        cursor: this.isDragging && this.selectedElement?.id === element.id ? 'move' : 'pointer'\n      }\n    },\n\n    getTextStyle(element) {\n      return {\n        fontFamily: element.style.fontFamily || 'Arial',\n        fontSize: `${element.style.fontSize || 14}px`,\n        color: element.style.color || '#000000',\n        textAlign: element.style.textAlign || 'left',\n        width: '100%',\n        height: '100%',\n        wordBreak: 'break-word',\n        overflow: 'hidden'\n      }\n    },\n\n    getImageStyle(element) {\n      return {\n        width: '100%',\n        height: '100%',\n        objectFit: element.style.objectFit || 'cover'\n      }\n    },\n\n    getShapeStyle(element) {\n      return {\n        width: '100%',\n        height: '100%',\n        backgroundColor: element.style.backgroundColor || '#000000',\n        borderRadius: element.style.borderRadius || '0'\n      }\n    },\n\n    getControlPointStyle(point) {\n      return {\n        left: `${point.x * 100}%`,\n        top: `${point.y * 100}%`,\n        cursor: point.cursor\n      }\n    },\n\n    handleControlPointMouseDown(event, point, element) {\n      event.stopPropagation();\n      this.isResizing = true;\n      this.resizeType = point.class;\n      this.startX = event.clientX;\n      this.startY = event.clientY;\n      this.originalSize = {\n        width: element.style.width,\n        height: element.style.height,\n        left: element.style.left,\n        top: element.style.top\n      };\n    },\n\n    handleRotateStart(event, element) {\n      event.stopPropagation();\n      this.isRotating = true;\n      // 获取元素的DOM节点\n      if(event.target.closest('.canvas-element')){\n      const elementRect = event.target.closest('.canvas-element').getBoundingClientRect();\n      const centerX = elementRect.left + elementRect.width / 2;\n      const centerY = elementRect.top + elementRect.height / 2;\n      this.rotateStartAngle = Math.atan2(\n        event.clientY - centerY,\n        event.clientX - centerX\n        ) * 180 / Math.PI - (element.style.rotate || 0);\n      }\n    },\n\n    handleMouseMove(event) {\n      if (!this.selectedElement) return;\n\n      if (this.isResizing) {\n        this.handleResize(event);\n      } else if (this.isRotating) {\n        this.handleRotate(event);\n      } else if (this.isDragging) {\n        this.handleDrag(event);\n      }\n    },\n\n    handleMouseUp() {\n      if (this.isResizing || this.isRotating || this.isDragging) {\n        this.$emit('change', this.value);\n      }\n      this.isResizing = false;\n      this.isRotating = false;\n      this.isDragging = false;\n    },\n\n    handleResize(event) {\n      const dx = event.clientX - this.startX;\n      const dy = event.clientY - this.startY;\n      const element = this.selectedElement;\n      const newStyle = { ...element.style };\n\n      switch (this.resizeType) {\n        case 'nw':\n          newStyle.width = this.originalSize.width - dx;\n          newStyle.height = this.originalSize.height - dy;\n          newStyle.left = this.originalSize.left + dx;\n          newStyle.top = this.originalSize.top + dy;\n          break;\n        case 'n':\n          newStyle.height = this.originalSize.height - dy;\n          newStyle.top = this.originalSize.top + dy;\n          break;\n        case 'ne':\n          newStyle.width = this.originalSize.width + dx;\n          newStyle.height = this.originalSize.height - dy;\n          newStyle.top = this.originalSize.top + dy;\n          break;\n        case 'w':\n          newStyle.width = this.originalSize.width - dx;\n          newStyle.left = this.originalSize.left + dx;\n          break;\n        case 'e':\n          newStyle.width = this.originalSize.width + dx;\n          break;\n        case 'sw':\n          newStyle.width = this.originalSize.width - dx;\n          newStyle.height = this.originalSize.height + dy;\n          newStyle.left = this.originalSize.left + dx;\n          break;\n        case 's':\n          newStyle.height = this.originalSize.height + dy;\n          break;\n        case 'se':\n          newStyle.width = this.originalSize.width + dx;\n          newStyle.height = this.originalSize.height + dy;\n          break;\n      }\n\n      // 限制最小尺寸\n      newStyle.width = Math.max(10, newStyle.width);\n      newStyle.height = Math.max(10, newStyle.height);\n\n      // 更新元素样式\n      element.style = newStyle;\n      this.$emit('update:value', [...this.value]);\n    },\n\n    handleRotate(event) {\n      const element = this.selectedElement;\n      // 获取元素的DOM节点\n      if(event.target.closest('.canvas-element')){\n        const elementRect = event.target.closest('.canvas-element').getBoundingClientRect();\n        const centerX = elementRect.left + elementRect.width / 2;\n        const centerY = elementRect.top + elementRect.height / 2;\n        const angle = Math.atan2(\n          event.clientY - centerY,\n          event.clientX - centerX\n        ) * 180 / Math.PI - this.rotateStartAngle;\n\n        element.style.rotate = angle;\n        this.$emit('update:value', [...this.value]);\n      }\n    },\n\n    handleDrag(event) {\n      const dx = event.clientX - this.startX;\n      const dy = event.clientY - this.startY;\n      const element = this.selectedElement;\n\n      element.style.left = this.originalPosition.left + dx;\n      element.style.top = this.originalPosition.top + dy;\n\n      this.$emit('update:value', [...this.value]);\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.poster-canvas {\n  flex: 1;\n  overflow: auto;\n  background-color: #f0f2f5;\n  padding: 20px;\n  position: relative;\n\n  .canvas-container {\n    position: relative;\n    display: inline-block;\n    padding-top: 50px;\n  }\n\n  .canvas-grid {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-size: 20px 20px;\n    background-image:\n      linear-gradient(to right, #e5e5e5 1px, transparent 1px),\n      linear-gradient(to bottom, #e5e5e5 1px, transparent 1px);\n  }\n\n  .canvas-size-controller {\n    position: absolute;\n    top: 10px;\n    left: 50%;\n    transform: translateX(-50%);\n    white-space: nowrap;\n    z-index: 10;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 4px 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    \n    .size-separator {\n      margin: 0 8px;\n      color: #999;\n    }\n  }\n\n  .canvas-content {\n    position: relative;\n    background-color: #fff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  }\n\n  .canvas-element {\n    position: absolute;\n    user-select: none;\n\n    &.is-selected {\n      outline: 1px solid #1890ff;\n    }\n\n    .text-content {\n      width: 100%;\n      height: 100%;\n      cursor: move;\n    }\n\n    img {\n      pointer-events: none;\n    }\n\n    .control-point {\n      position: absolute;\n      width: 8px;\n      height: 8px;\n      background-color: #fff;\n      border: 1px solid #1890ff;\n      border-radius: 50%;\n      transform: translate(-50%, -50%);\n    }\n\n    .rotate-handle {\n      position: absolute;\n      width: 8px;\n      height: 8px;\n      background-color: #1890ff;\n      border-radius: 50%;\n      left: 50%;\n      top: -30px;\n      transform: translateX(-50%);\n      cursor: pointer;\n      \n      &::before {\n        content: '';\n        position: absolute;\n        left: 50%;\n        top: 100%;\n        width: 1px;\n        height: 20px;\n        background-color: #1890ff;\n        transform: translateX(-50%);\n      }\n    }\n  }\n\n  .qrcode-content {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #fff;\n  }\n}\n</style> ","import mod from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PosterCanvas.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PosterCanvas.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PosterCanvas.vue?vue&type=template&id=0270f42a&scoped=true\"\nimport script from \"./PosterCanvas.vue?vue&type=script&lang=js\"\nexport * from \"./PosterCanvas.vue?vue&type=script&lang=js\"\nimport style0 from \"./PosterCanvas.vue?vue&type=style&index=0&id=0270f42a&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0270f42a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"poster-design\"},[_c('div',{staticClass:\"poster-design-header\"},[_c('a-space',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSave},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('save-outlined')]},proxy:true}])},[_vm._v(\" 保存 \")]),_c('a-button',{on:{\"click\":_vm.handlePreview},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('eye-outlined')]},proxy:true}])},[_vm._v(\" 预览 \")]),_c('a-button',{on:{\"click\":_vm.handleClear},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('delete-outlined')]},proxy:true}])},[_vm._v(\" 清空 \")]),_c('a-button',{attrs:{\"disabled\":!_vm.canUndo},on:{\"click\":_vm.handleUndo},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('undo-outlined')]},proxy:true}])},[_vm._v(\" 撤销 \")]),_c('a-button',{attrs:{\"disabled\":!_vm.canRedo},on:{\"click\":_vm.handleRedo},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('redo-outlined')]},proxy:true}])},[_vm._v(\" 重做 \")]),_c('a-dropdown',{scopedSlots:_vm._u([{key:\"overlay\",fn:function(){return [_c('a-menu',[_c('a-menu-item',{key:\"1\",on:{\"click\":_vm.handleExport}},[_c('download-outlined'),_vm._v(\"导出配置 \")],1),_c('a-menu-item',{key:\"2\",on:{\"click\":_vm.handleImportClick}},[_c('upload-outlined'),_vm._v(\"导入配置 \")],1)],1)]},proxy:true}])},[_c('a-button',[_vm._v(\" 更多操作 \"),_c('down-outlined')],1)],1),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\".json\"},on:{\"change\":_vm.handleImportFile}})],1)],1),_c('div',{staticClass:\"poster-design-content\"},[_c('div',{staticClass:\"component-panel\"},[_c('h3',[_vm._v(\"基础组件\")]),_c('div',{staticClass:\"component-list\"},_vm._l((_vm.basicComponents),function(item){return _c('div',{key:item.type,staticClass:\"component-item\",attrs:{\"draggable\":\"\"},on:{\"dragstart\":function($event){return _vm.handleComponentDragStart(item)},\"click\":function($event){return _vm.handleAddComponent(item)}}},[_c(item.icon,{tag:\"component\"}),_c('span',[_vm._v(_vm._s(item.label))])],1)}),0),_c('h3',{staticClass:\"mt-4\"},[_vm._v(\"模板\")]),_c('div',{staticClass:\"template-list\"},_vm._l((_vm.templates),function(template){return _c('div',{key:template.id,staticClass:\"template-item\",on:{\"click\":function($event){return _vm.handleApplyTemplate(template)}}},[_c('img',{attrs:{\"src\":template.thumbnail,\"alt\":template.name}}),_c('span',[_vm._v(_vm._s(template.name))])])}),0)]),_c('poster-canvas',{ref:\"canvas\",attrs:{\"selected-element\":_vm.selectedElement},on:{\"select\":_vm.handleSelectElement,\"change\":_vm.handleCanvasChange},model:{value:(_vm.elements),callback:function ($$v) {_vm.elements=$$v},expression:\"elements\"}}),(_vm.selectedElement)?_c('div',{staticClass:\"property-panel\"},[_c('h3',[_vm._v(\"属性设置\")]),_c('a-form',{attrs:{\"layout\":\"vertical\"}},[_c('a-form-item',{attrs:{\"label\":\"位置\"}},[_c('a-row',{attrs:{\"gutter\":8}},[_c('a-col',{attrs:{\"span\":12}},[_c('a-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"X\"},on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.left),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"left\", $$v)},expression:\"selectedElement.style.left\"}})],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"Y\"},on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.top),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"top\", $$v)},expression:\"selectedElement.style.top\"}})],1)],1)],1),_c('a-form-item',{attrs:{\"label\":\"尺寸\"}},[_c('a-row',{attrs:{\"gutter\":8}},[_c('a-col',{attrs:{\"span\":12}},[_c('a-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"宽\"},on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.width),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"width\", $$v)},expression:\"selectedElement.style.width\"}})],1),_c('a-col',{attrs:{\"span\":12}},[_c('a-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"高\"},on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.height),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"height\", $$v)},expression:\"selectedElement.style.height\"}})],1)],1)],1),_c('a-form-item',{attrs:{\"label\":\"旋转\"}},[_c('a-slider',{attrs:{\"min\":0,\"max\":360},on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.rotate),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"rotate\", $$v)},expression:\"selectedElement.style.rotate\"}})],1),_c('a-form-item',{attrs:{\"label\":\"透明度\"}},[_c('a-slider',{attrs:{\"min\":0,\"max\":100,\"step\":1},on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.opacity),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"opacity\", $$v)},expression:\"selectedElement.style.opacity\"}})],1),(_vm.selectedElement.type === 'text')?[_c('a-form-item',{attrs:{\"label\":\"文本内容\"}},[_c('a-textarea',{attrs:{\"rows\":3},on:{\"change\":_vm.handleContentChange},model:{value:(_vm.selectedElement.content),callback:function ($$v) {_vm.$set(_vm.selectedElement, \"content\", $$v)},expression:\"selectedElement.content\"}})],1),_c('a-form-item',{attrs:{\"label\":\"字体\"}},[_c('a-select',{staticStyle:{\"width\":\"100%\"},on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.fontFamily),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"fontFamily\", $$v)},expression:\"selectedElement.style.fontFamily\"}},[_c('a-select-option',{attrs:{\"value\":\"Arial\"}},[_vm._v(\"Arial\")]),_c('a-select-option',{attrs:{\"value\":\"Times New Roman\"}},[_vm._v(\"Times New Roman\")]),_c('a-select-option',{attrs:{\"value\":\"Microsoft YaHei\"}},[_vm._v(\"微软雅黑\")])],1)],1),_c('a-form-item',{attrs:{\"label\":\"字号\"}},[_c('a-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"min\":12,\"max\":72},on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.fontSize),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"fontSize\", $$v)},expression:\"selectedElement.style.fontSize\"}})],1),_c('a-form-item',{attrs:{\"label\":\"颜色\"}},[_c('a-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"color\"},on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.color),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"color\", $$v)},expression:\"selectedElement.style.color\"}})],1),_c('a-form-item',{attrs:{\"label\":\"对齐方式\"}},[_c('a-radio-group',{on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.textAlign),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"textAlign\", $$v)},expression:\"selectedElement.style.textAlign\"}},[_c('a-radio-button',{attrs:{\"value\":\"left\"}},[_vm._v(\"左对齐\")]),_c('a-radio-button',{attrs:{\"value\":\"center\"}},[_vm._v(\"居中\")]),_c('a-radio-button',{attrs:{\"value\":\"right\"}},[_vm._v(\"右对齐\")])],1)],1)]:_vm._e(),(_vm.selectedElement.type === 'image')?[_c('a-form-item',{attrs:{\"label\":\"图片\"}},[_c('div',{staticClass:\"image-upload\"},[(_vm.selectedElement.url)?_c('img',{staticClass:\"preview-image\",attrs:{\"src\":_vm.selectedElement.url}}):_vm._e(),_c('a-upload',{attrs:{\"show-upload-list\":false,\"before-upload\":_vm.handleImageUpload}},[_c('a-button',[_vm._v(\"更换图片\")])],1)],1)])]:_vm._e(),(_vm.selectedElement.type === 'qrcode')?[_c('a-form-item',{attrs:{\"label\":\"二维码内容\"}},[_c('a-textarea',{attrs:{\"rows\":3,\"placeholder\":\"请输入二维码内容，如网址等\"},on:{\"change\":_vm.handleContentChange},model:{value:(_vm.selectedElement.content),callback:function ($$v) {_vm.$set(_vm.selectedElement, \"content\", $$v)},expression:\"selectedElement.content\"}})],1),_c('a-form-item',{attrs:{\"label\":\"前景色\"}},[_c('a-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"color\"},on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.color),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"color\", $$v)},expression:\"selectedElement.style.color\"}})],1),_c('a-form-item',{attrs:{\"label\":\"背景色\"}},[_c('a-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"color\"},on:{\"change\":_vm.handleStyleChange},model:{value:(_vm.selectedElement.style.backgroundColor),callback:function ($$v) {_vm.$set(_vm.selectedElement.style, \"backgroundColor\", $$v)},expression:\"selectedElement.style.backgroundColor\"}})],1)]:_vm._e()],2)],1):_vm._e()],1),_c('poster-preview',{attrs:{\"visible\":_vm.previewVisible,\"elements\":_vm.elements},on:{\"update:visible\":function($event){_vm.previewVisible=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {\n  FontSizeOutlined,\n  PictureOutlined,\n  BorderOutlined,\n  QrcodeOutlined\n} from '@ant-design/icons-vue';\n\n// 基础组件配置\nexport const basicComponents = [\n  {\n    type: 'text',\n    label: '文本',\n    // icon: FontSizeOutlined,\n    defaultStyle: {\n      left: 0,\n      top: 0,\n      width: 200,\n      height: 40,\n      rotate: 0,\n      opacity: 100,\n      fontSize: 14,\n      fontFamily: 'Arial',\n      color: '#000000',\n      textAlign: 'left'\n    },\n    defaultContent: '请输入文本'\n  },\n  {\n    type: 'image',\n    label: '图片',\n    // icon: PictureOutlined,\n    defaultStyle: {\n      left: 0,\n      top: 0,\n      width: 200,\n      height: 200,\n      rotate: 0,\n      opacity: 100,\n      objectFit: 'cover'\n    },\n    defaultUrl: ''\n  },\n  {\n    type: 'shape',\n    label: '形状',\n    // icon: BorderOutlined,\n    defaultStyle: {\n      left: 0,\n      top: 0,\n      width: 100,\n      height: 100,\n      rotate: 0,\n      opacity: 100,\n      backgroundColor: '#000000',\n      borderRadius: '0'\n    }\n  },\n  {\n    type: 'qrcode',\n    label: '二维码',\n    icon: QrcodeOutlined,\n    defaultStyle: {\n      left: 0,\n      top: 0,\n      width: 200,\n      height: 200,\n      rotate: 0,\n      opacity: 100,\n      color: '#000000',\n      backgroundColor: '#FFFFFF'\n    },\n    defaultContent: 'https://example.com'\n  }\n];\n\n// 模板配置\nexport const templates = [\n  {\n    id: 'template-1',\n    name: '商品海报',\n    thumbnail: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&auto=format',\n    elements: [\n      {\n        id: 'template-1-1',\n        type: 'image',\n        style: {\n          left: 0,\n          top: 0,\n          width: 750,\n          height: 750,\n          rotate: 0,\n          opacity: 100,\n          objectFit: 'cover'\n        },\n        url: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=800&auto=format'\n      },\n      {\n        id: 'template-1-2',\n        type: 'text',\n        style: {\n          left: 20,\n          top: 770,\n          width: 710,\n          height: 60,\n          rotate: 0,\n          opacity: 100,\n          fontSize: 24,\n          fontFamily: 'Microsoft YaHei',\n          color: '#333333',\n          textAlign: 'left'\n        },\n        content: '商品标题'\n      },\n      {\n        id: 'template-1-3',\n        type: 'text',\n        style: {\n          left: 20,\n          top: 840,\n          width: 710,\n          height: 40,\n          rotate: 0,\n          opacity: 100,\n          fontSize: 32,\n          fontFamily: 'Arial',\n          color: '#ff4400',\n          textAlign: 'left'\n        },\n        content: '¥ 99.00'\n      },\n      {\n        id: 'template-1-4',\n        type: 'qrcode',\n        style: {\n          left: 550,\n          top: 900,\n          width: 180,\n          height: 180,\n          rotate: 0,\n          opacity: 100,\n          color: '#000000',\n          backgroundColor: '#FFFFFF'\n        },\n        content: 'https://example.com/product/1'\n      }\n    ]\n  },\n  {\n    id: 'template-2',\n    name: '活动海报',\n    thumbnail: 'https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=400&auto=format',\n    elements: [\n      {\n        id: 'template-2-1',\n        type: 'image',\n        style: {\n          left: 0,\n          top: 0,\n          width: 750,\n          height: 1000,\n          rotate: 0,\n          opacity: 100,\n          objectFit: 'cover'\n        },\n        url: 'https://images.unsplash.com/photo-1505373877841-8d25f7d46678?w=800&auto=format'\n      },\n      {\n        id: 'template-2-2',\n        type: 'text',\n        style: {\n          left: 50,\n          top: 1020,\n          width: 650,\n          height: 80,\n          rotate: 0,\n          opacity: 100,\n          fontSize: 28,\n          fontFamily: 'Microsoft YaHei',\n          color: '#333333',\n          textAlign: 'center'\n        },\n        content: '活动标题'\n      },\n      {\n        id: 'template-2-3',\n        type: 'text',\n        style: {\n          left: 50,\n          top: 1110,\n          width: 650,\n          height: 40,\n          rotate: 0,\n          opacity: 100,\n          fontSize: 20,\n          fontFamily: 'Microsoft YaHei',\n          color: '#666666',\n          textAlign: 'center'\n        },\n        content: '活动时间：2024-01-01 至 2024-12-31'\n      },\n      {\n        id: 'template-2-4',\n        type: 'qrcode',\n        style: {\n          left: 285,\n          top: 1160,\n          width: 180,\n          height: 180,\n          rotate: 0,\n          opacity: 100,\n          color: '#000000',\n          backgroundColor: '#FFFFFF'\n        },\n        content: 'https://example.com/event/1'\n      }\n    ]\n  }\n]; ","<template>\r\n  <div class=\"poster-design\">\r\n    <!-- 顶部操作栏 -->\r\n    <div class=\"poster-design-header\">\r\n      <a-space>\r\n        <a-button type=\"primary\" @click=\"handleSave\">\r\n          <template #icon><save-outlined /></template>\r\n          保存\r\n        </a-button>\r\n        <a-button @click=\"handlePreview\">\r\n          <template #icon><eye-outlined /></template>\r\n          预览\r\n        </a-button>\r\n        <a-button @click=\"handleClear\">\r\n          <template #icon><delete-outlined /></template>\r\n          清空\r\n        </a-button>\r\n        <a-button \r\n          @click=\"handleUndo\" \r\n          :disabled=\"!canUndo\"\r\n        >\r\n          <template #icon><undo-outlined /></template>\r\n          撤销\r\n        </a-button>\r\n        <a-button \r\n          @click=\"handleRedo\" \r\n          :disabled=\"!canRedo\"\r\n        >\r\n          <template #icon><redo-outlined /></template>\r\n          重做\r\n        </a-button>\r\n        <a-dropdown>\r\n          <a-button>\r\n            更多操作\r\n            <down-outlined />\r\n          </a-button>\r\n          <template #overlay>\r\n            <a-menu>\r\n              <a-menu-item key=\"1\" @click=\"handleExport\">\r\n                <download-outlined />导出配置\r\n              </a-menu-item>\r\n              <a-menu-item key=\"2\" @click=\"handleImportClick\">\r\n                <upload-outlined />导入配置\r\n              </a-menu-item>\r\n            </a-menu>\r\n          </template>\r\n        </a-dropdown>\r\n        <input\r\n          type=\"file\"\r\n          ref=\"fileInput\"\r\n          style=\"display: none\"\r\n          accept=\".json\"\r\n          @change=\"handleImportFile\"\r\n        >\r\n      </a-space>\r\n    </div>\r\n    \r\n    <!-- 主要内容区 -->\r\n    <div class=\"poster-design-content\">\r\n      <!-- 左侧组件面板 -->\r\n      <div class=\"component-panel\">\r\n        <h3>基础组件</h3>\r\n        <div class=\"component-list\">\r\n          <div\r\n            v-for=\"item in basicComponents\"\r\n            :key=\"item.type\"\r\n            class=\"component-item\"\r\n            draggable\r\n            @dragstart=\"handleComponentDragStart(item)\"\r\n            @click=\"handleAddComponent(item)\"\r\n          >\r\n            <component :is=\"item.icon\" />\r\n            <span>{{ item.label }}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <h3 class=\"mt-4\">模板</h3>\r\n        <div class=\"template-list\">\r\n          <div\r\n            v-for=\"template in templates\"\r\n            :key=\"template.id\"\r\n            class=\"template-item\"\r\n            @click=\"handleApplyTemplate(template)\"\r\n          >\r\n            <img :src=\"template.thumbnail\" :alt=\"template.name\">\r\n            <span>{{ template.name }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 中间设计画布 -->\r\n      <poster-canvas\r\n        ref=\"canvas\"\r\n        v-model:value=\"elements\"\r\n        :selected-element=\"selectedElement\"\r\n        @select=\"handleSelectElement\"\r\n        @change=\"handleCanvasChange\"\r\n      />\r\n\r\n      <!-- 右侧属性面板 -->\r\n      <div class=\"property-panel\" v-if=\"selectedElement\">\r\n        <h3>属性设置</h3>\r\n        <a-form layout=\"vertical\">\r\n          <!-- 通用属性 -->\r\n          <a-form-item label=\"位置\">\r\n            <a-row :gutter=\"8\">\r\n              <a-col :span=\"12\">\r\n                <a-input-number\r\n                  v-model:value=\"selectedElement.style.left\"\r\n                  placeholder=\"X\"\r\n                  style=\"width: 100%\"\r\n                  @change=\"handleStyleChange\"\r\n                />\r\n              </a-col>\r\n              <a-col :span=\"12\">\r\n                <a-input-number\r\n                  v-model:value=\"selectedElement.style.top\"\r\n                  placeholder=\"Y\"\r\n                  style=\"width: 100%\"\r\n                  @change=\"handleStyleChange\"\r\n                />\r\n              </a-col>\r\n            </a-row>\r\n          </a-form-item>\r\n          \r\n          <a-form-item label=\"尺寸\">\r\n            <a-row :gutter=\"8\">\r\n              <a-col :span=\"12\">\r\n                <a-input-number\r\n                  v-model:value=\"selectedElement.style.width\"\r\n                  placeholder=\"宽\"\r\n                  style=\"width: 100%\"\r\n                  @change=\"handleStyleChange\"\r\n                />\r\n              </a-col>\r\n              <a-col :span=\"12\">\r\n                <a-input-number\r\n                  v-model:value=\"selectedElement.style.height\"\r\n                  placeholder=\"高\"\r\n                  style=\"width: 100%\"\r\n                  @change=\"handleStyleChange\"\r\n                />\r\n              </a-col>\r\n            </a-row>\r\n          </a-form-item>\r\n\r\n          <a-form-item label=\"旋转\">\r\n            <a-slider\r\n              v-model:value=\"selectedElement.style.rotate\"\r\n              :min=\"0\"\r\n              :max=\"360\"\r\n              @change=\"handleStyleChange\"\r\n            />\r\n          </a-form-item>\r\n\r\n          <a-form-item label=\"透明度\">\r\n            <a-slider\r\n              v-model:value=\"selectedElement.style.opacity\"\r\n              :min=\"0\"\r\n              :max=\"100\"\r\n              :step=\"1\"\r\n              @change=\"handleStyleChange\"\r\n            />\r\n          </a-form-item>\r\n\r\n          <!-- 文本特有属性 -->\r\n          <template v-if=\"selectedElement.type === 'text'\">\r\n            <a-form-item label=\"文本内容\">\r\n              <a-textarea\r\n                v-model:value=\"selectedElement.content\"\r\n                :rows=\"3\"\r\n                @change=\"handleContentChange\"\r\n              />\r\n            </a-form-item>\r\n            \r\n            <a-form-item label=\"字体\">\r\n              <a-select\r\n                v-model:value=\"selectedElement.style.fontFamily\"\r\n                style=\"width: 100%\"\r\n                @change=\"handleStyleChange\"\r\n              >\r\n                <a-select-option value=\"Arial\">Arial</a-select-option>\r\n                <a-select-option value=\"Times New Roman\">Times New Roman</a-select-option>\r\n                <a-select-option value=\"Microsoft YaHei\">微软雅黑</a-select-option>\r\n              </a-select>\r\n            </a-form-item>\r\n\r\n            <a-form-item label=\"字号\">\r\n              <a-input-number\r\n                v-model:value=\"selectedElement.style.fontSize\"\r\n                :min=\"12\"\r\n                :max=\"72\"\r\n                style=\"width: 100%\"\r\n                @change=\"handleStyleChange\"\r\n              />\r\n            </a-form-item>\r\n\r\n            <a-form-item label=\"颜色\">\r\n              <a-input\r\n                v-model:value=\"selectedElement.style.color\"\r\n                type=\"color\"\r\n                style=\"width: 100%\"\r\n                @change=\"handleStyleChange\"\r\n              />\r\n            </a-form-item>\r\n\r\n            <a-form-item label=\"对齐方式\">\r\n              <a-radio-group\r\n                v-model:value=\"selectedElement.style.textAlign\"\r\n                @change=\"handleStyleChange\"\r\n              >\r\n                <a-radio-button value=\"left\">左对齐</a-radio-button>\r\n                <a-radio-button value=\"center\">居中</a-radio-button>\r\n                <a-radio-button value=\"right\">右对齐</a-radio-button>\r\n              </a-radio-group>\r\n            </a-form-item>\r\n          </template>\r\n\r\n          <!-- 图片特有属性 -->\r\n          <template v-if=\"selectedElement.type === 'image'\">\r\n            <a-form-item label=\"图片\">\r\n              <div class=\"image-upload\">\r\n                <img\r\n                  v-if=\"selectedElement.url\"\r\n                  :src=\"selectedElement.url\"\r\n                  class=\"preview-image\"\r\n                />\r\n                <a-upload\r\n                  :show-upload-list=\"false\"\r\n                  :before-upload=\"handleImageUpload\"\r\n                >\r\n                  <a-button>更换图片</a-button>\r\n                </a-upload>\r\n              </div>\r\n            </a-form-item>\r\n          </template>\r\n\r\n          <!-- 二维码特有属性 -->\r\n          <template v-if=\"selectedElement.type === 'qrcode'\">\r\n            <a-form-item label=\"二维码内容\">\r\n              <a-textarea\r\n                v-model:value=\"selectedElement.content\"\r\n                :rows=\"3\"\r\n                placeholder=\"请输入二维码内容，如网址等\"\r\n                @change=\"handleContentChange\"\r\n              />\r\n            </a-form-item>\r\n            <a-form-item label=\"前景色\">\r\n              <a-input\r\n                v-model:value=\"selectedElement.style.color\"\r\n                type=\"color\"\r\n                style=\"width: 100%\"\r\n                @change=\"handleStyleChange\"\r\n              />\r\n            </a-form-item>\r\n            <a-form-item label=\"背景色\">\r\n              <a-input\r\n                v-model:value=\"selectedElement.style.backgroundColor\"\r\n                type=\"color\"\r\n                style=\"width: 100%\"\r\n                @change=\"handleStyleChange\"\r\n              />\r\n            </a-form-item>\r\n          </template>\r\n        </a-form>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 预览组件 -->\r\n    <poster-preview\r\n      :visible.sync=\"previewVisible\"\r\n      :elements=\"elements\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { \r\n  SaveOutlined, \r\n  EyeOutlined, \r\n  DeleteOutlined,\r\n  UndoOutlined,\r\n  RedoOutlined,\r\n  DownOutlined,\r\n  UploadOutlined,\r\n  DownloadOutlined\r\n} from '@ant-design/icons-vue';\r\nimport { basicComponents, templates } from './config/components';\r\nimport PosterCanvas from './components/PosterCanvas.vue';\r\nimport PosterPreview from './components/PosterPreview.vue';\r\n\r\nexport default {\r\n  name: 'PosterDesign',\r\n  components: {\r\n    SaveOutlined,\r\n    EyeOutlined,\r\n    DeleteOutlined,\r\n    UndoOutlined,\r\n    RedoOutlined,\r\n    DownOutlined,\r\n    UploadOutlined,\r\n    DownloadOutlined,\r\n    PosterCanvas,\r\n    PosterPreview\r\n  },\r\n  data() {\r\n    return {\r\n      basicComponents,\r\n      templates,\r\n      elements: [],\r\n      selectedElement: null,\r\n      dragComponent: null,\r\n      history: [],\r\n      historyIndex: -1,\r\n      maxHistory: 20,\r\n      previewVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    canUndo() {\r\n      return this.historyIndex > 0;\r\n    },\r\n    canRedo() {\r\n      return this.historyIndex < this.history.length - 1;\r\n    }\r\n  },\r\n  methods: {\r\n    handleComponentDragStart(component) {\r\n      this.dragComponent = component;\r\n      event.dataTransfer.setData('componentType', component.type);\r\n    },\r\n\r\n    handleAddComponent(component) {\r\n      const element = {\r\n        id: `element-${Date.now()}`,\r\n        type: component.type,\r\n        style: { ...component.defaultStyle },\r\n        content: component.defaultContent || '',\r\n        url: component.defaultUrl || ''\r\n      };\r\n      \r\n      const newElements = [...this.elements, element];\r\n      this.saveHistory(newElements);\r\n      this.elements = newElements;\r\n      this.selectedElement = element;\r\n    },\r\n\r\n    handleSelectElement(element) {\r\n      this.selectedElement = element;\r\n    },\r\n\r\n    handleCanvasChange(elements) {\r\n      this.saveHistory(elements);\r\n      this.elements = elements;\r\n    },\r\n\r\n    handleStyleChange() {\r\n      this.saveHistory(this.elements);\r\n    },\r\n\r\n    handleContentChange() {\r\n      this.saveHistory(this.elements);\r\n    },\r\n\r\n    async handleImageUpload(file) {\r\n      if (file.type.indexOf('image/') !== 0) {\r\n        this.$message.error('请上传图片文件');\r\n        return false;\r\n      }\r\n\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        this.selectedElement.url = e.target.result;\r\n        this.saveHistory(this.elements);\r\n      };\r\n      reader.readAsDataURL(file);\r\n      return false;\r\n    },\r\n\r\n    handleSave() {\r\n      // TODO: 实现保存逻辑\r\n      console.log('保存的海报数据：', this.elements);\r\n    },\r\n\r\n    handlePreview() {\r\n      this.previewVisible = true;\r\n    },\r\n\r\n    handleClear() {\r\n      this.$confirm({\r\n        title: '确认清空',\r\n        content: '是否确认清空当前设计？此操作不可恢复。',\r\n        onOk: () => {\r\n          const newElements = [];\r\n          this.saveHistory(newElements);\r\n          this.elements = newElements;\r\n          this.selectedElement = null;\r\n        }\r\n      });\r\n    },\r\n\r\n    handleUndo() {\r\n      if (!this.canUndo) return;\r\n      this.historyIndex--;\r\n      this.elements = JSON.parse(this.history[this.historyIndex]);\r\n      this.selectedElement = null;\r\n    },\r\n\r\n    handleRedo() {\r\n      if (!this.canRedo) return;\r\n      this.historyIndex++;\r\n      this.elements = JSON.parse(this.history[this.historyIndex]);\r\n      this.selectedElement = null;\r\n    },\r\n\r\n    handleExport() {\r\n      const config = {\r\n        version: '1.0.0',\r\n        elements: this.elements\r\n      };\r\n      \r\n      const blob = new Blob([JSON.stringify(config, null, 2)], { type: 'application/json' });\r\n      const url = URL.createObjectURL(blob);\r\n      \r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `poster-config-${Date.now()}.json`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n    },\r\n\r\n    handleImportClick() {\r\n      this.$refs.fileInput.click();\r\n    },\r\n\r\n    handleImportFile(event) {\r\n      const file = event.target.files[0];\r\n      if (!file) return;\r\n      \r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        try {\r\n          const config = JSON.parse(e.target.result);\r\n          if (!config.elements || !Array.isArray(config.elements)) {\r\n            throw new Error('Invalid config format');\r\n          }\r\n          \r\n          this.elements = config.elements.map(element => ({\r\n            ...element,\r\n            id: `element-${Date.now()}-${Math.random()}`\r\n          }));\r\n          \r\n          this.$message.success('配置导入成功');\r\n        } catch (error) {\r\n          this.$message.error('配置文件格式错误');\r\n        }\r\n      };\r\n      reader.readAsText(file);\r\n    },\r\n\r\n    handleApplyTemplate(template) {\r\n      this.$confirm({\r\n        title: '应用模板',\r\n        content: '应用模板将清空当前设计，是否继续？',\r\n        onOk: () => {\r\n          const newElements = template.elements.map(element => ({\r\n            ...element,\r\n            id: `element-${Date.now()}-${Math.random()}`\r\n          }));\r\n          this.saveHistory(newElements);\r\n          this.elements = newElements;\r\n          this.selectedElement = null;\r\n        }\r\n      });\r\n    },\r\n\r\n    saveHistory(elements) {\r\n      const currentState = JSON.stringify(elements);\r\n      const lastState = this.history[this.historyIndex];\r\n      \r\n      if (currentState === lastState) return;\r\n      \r\n      this.historyIndex++;\r\n      this.history.splice(this.historyIndex);\r\n      this.history.push(currentState);\r\n      \r\n      if (this.history.length > this.maxHistory) {\r\n        this.history.shift();\r\n        this.historyIndex--;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.poster-design {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  &-header {\r\n    padding: 8px 16px;\r\n    border-bottom: 1px solid #f0f0f0;\r\n  }\r\n\r\n  &-content {\r\n    flex: 1;\r\n    display: flex;\r\n    padding: 16px;\r\n    gap: 16px;\r\n    height: calc(100vh - 120px);\r\n  }\r\n}\r\n\r\n.component-panel {\r\n  width: 250px;\r\n  border: 1px solid #f0f0f0;\r\n  border-radius: 4px;\r\n  padding: 16px;\r\n  overflow-y: auto;\r\n\r\n  .component-list {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 8px;\r\n  }\r\n\r\n  .component-item {\r\n    padding: 8px;\r\n    border: 1px dashed #d9d9d9;\r\n    border-radius: 4px;\r\n    cursor: move;\r\n    text-align: center;\r\n    transition: all 0.3s;\r\n\r\n    &:hover {\r\n      border-color: #1890ff;\r\n      color: #1890ff;\r\n      transform: translateY(-2px);\r\n      box-shadow: 0 2px 8px rgba(24, 144, 255, 0.15);\r\n    }\r\n  }\r\n\r\n  .template-list {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    gap: 8px;\r\n    margin-top: 8px;\r\n  }\r\n\r\n  .template-item {\r\n    cursor: pointer;\r\n    text-align: center;\r\n    \r\n    img {\r\n      width: 100%;\r\n      height: auto;\r\n      border-radius: 4px;\r\n    }\r\n\r\n    span {\r\n      display: block;\r\n      margin-top: 4px;\r\n      font-size: 12px;\r\n    }\r\n\r\n    &:hover {\r\n      opacity: 0.8;\r\n    }\r\n  }\r\n}\r\n\r\n.property-panel {\r\n  width: 300px;\r\n  border: 1px solid #f0f0f0;\r\n  border-radius: 4px;\r\n  padding: 16px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.image-upload {\r\n  .preview-image {\r\n    width: 100%;\r\n    max-height: 200px;\r\n    object-fit: contain;\r\n    margin-bottom: 8px;\r\n    border: 1px solid #d9d9d9;\r\n    border-radius: 4px;\r\n  }\r\n}\r\n\r\n.mt-4 {\r\n  margin-top: 16px;\r\n}\r\n</style> ","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./poster-design.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./poster-design.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./poster-design.vue?vue&type=template&id=2c5d2838&scoped=true\"\nimport script from \"./poster-design.vue?vue&type=script&lang=js\"\nexport * from \"./poster-design.vue?vue&type=script&lang=js\"\nimport style0 from \"./poster-design.vue?vue&type=style&index=0&id=2c5d2838&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c5d2838\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","$event","preventDefault","handleDrop","attrs","handleCanvasSizeChange","model","value","callback","$$v","canvasWidth","expression","_v","canvasHeight","style","width","height","_l","element","key","id","class","selectedElement","getElementStyle","stopPropagation","handleSelect","handleElementMouseDown","type","getTextStyle","_s","content","_e","getImageStyle","url","getShapeStyle","Math","min","color","backgroundColor","point","index","getControlPointStyle","handleControlPointMouseDown","handleRotateStart","staticRenderFns","name","components","qrcode","props","Array","default","Object","emits","data","isDragging","startX","startY","originalPosition","originalSize","isResizing","resizeType","isRotating","rotateStartAngle","controlPoints","cursor","x","y","mounted","document","addEventListener","handleMouseMove","handleMouseUp","beforeUnmount","removeEventListener","methods","event","componentType","dataTransfer","getData","rect","currentTarget","getBoundingClientRect","clientX","left","clientY","top","$emit","target","closest","position","transform","rotate","opacity","fontFamily","fontSize","textAlign","wordBreak","overflow","objectFit","borderRadius","elementRect","centerX","centerY","atan2","PI","handleResize","handleRotate","handleDrag","dx","dy","newStyle","max","angle","component","handleSave","scopedSlots","_u","fn","proxy","handlePreview","handleClear","canUndo","handleUndo","canRedo","handleRedo","handleExport","handleImportClick","ref","staticStyle","handleImportFile","item","handleComponentDragStart","handleAddComponent","icon","tag","label","template","handleApplyTemplate","thumbnail","handleSelectElement","handleCanvasChange","elements","handleStyleChange","$set","handleContentChange","handleImageUpload","previewVisible","basicComponents","defaultStyle","defaultContent","defaultUrl","QrcodeOutlined","templates","SaveOutlined","EyeOutlined","DeleteOutlined","UndoOutlined","RedoOutlined","DownOutlined","UploadOutlined","DownloadOutlined","PosterCanvas","PosterPreview","dragComponent","history","historyIndex","maxHistory","computed","length","setData","Date","now","newElements","saveHistory","file","indexOf","$message","error","reader","FileReader","onload","e","result","readAsDataURL","console","log","$confirm","title","onOk","JSON","parse","config","version","blob","Blob","stringify","URL","createObjectURL","link","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","$refs","fileInput","files","isArray","Error","map","random","success","readAsText","currentState","lastState","splice","push","shift"],"sourceRoot":""}