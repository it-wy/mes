"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[4063,7040],{99319:function(e,t,o){o.d(t,{Z:function(){return l}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal"},[t("div",{staticClass:"modal-content"},[t("a-form-model",{ref:"copyForms",attrs:{layout:"vertical",rules:e.rules,model:e.copyForm}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{staticClass:"labelStyle",attrs:{name:"value",label:"数据"}},[t("a-input",{staticStyle:{width:"200px"},attrs:{name:"value",type:"text",disabled:""},model:{value:e.copyForm.value,callback:function(t){e.$set(e.copyForm,"value",t)},expression:"copyForm.value"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{staticClass:"labelStyle",attrs:{label:"复制数据",prop:"copyValue"}},[t("a-input",{staticStyle:{width:"200px"},attrs:{name:"copyValue",type:"text","max-length":200},model:{value:e.copyForm.copyValue,callback:function(t){e.$set(e.copyForm,"copyValue",t)},expression:"copyForm.copyValue"}})],1)],1)],1)],1)],1),t("div",{staticClass:"modal-footer"},[t("g-btn",{attrs:{text:"确认",type:"primary"},on:{callback:e.save}}),t("g-btn",{attrs:{text:"取消"},on:{callback:function(t){return e.$emit("closeModal")}}})],1)])},s=[],n=(o(54612),{name:"GCopyNdo",props:{entity:{type:Object,default:()=>({})}},data(){return{copyForm:{value:"",copyValue:""},rules:{copyValue:[{required:!0,message:"请输入目标实例名称",trigger:"change"}]}}},mounted(){this.copyForm=this.entity,this.copyForm.copyValue=`Copy-of-${this.copyForm.value}`},methods:{save(){this.$refs.copyForms.validate().then((e=>{e&&(this.$emit("success",this.copyForm),this.$emit("closeModal"))}))}}}),i=n,r=o(1001),c=(0,r.Z)(i,a,s,!1,null,"04e98444",null),l=c.exports},24958:function(e,t,o){o.r(t),o.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("g-body-layout",{attrs:{pageIndex:e.pageNumber,pageSize:e.pageSize,total:e.total,filterText:e.filterText},on:{"update:filterText":function(t){e.filterText=t},"update:filter-text":function(t){e.filterText=t},pageIndexChange:e.pageIndexChange,pageSizeChange:e.pageSizeChange,suffixSearchCallback:e.onFilterReady},scopedSlots:e._u([{key:"btnGroup",fn:function(){return[t("g-btn-group",{attrs:{buttonLists:e.btnList},on:{btnCallBack:e.btnGroupClick}})]},proxy:!0},{key:"table",fn:function(){return[t("g-ndo-table",{attrs:{id:e.id,handName:"工作流管理",dataList:e.dataList,isTableLoading:e.loading,total:e.total},on:{rowClick:e.rowClick}})]},proxy:!0},{key:"content",fn:function(){return[e.isShowEdit?t("create-or-edit-workflow",{attrs:{ndoEditParams:e.ndoEditParams,refreshTag:e.refreshTag,saveTag:e.saveTag,resetTag:e.resetTag},on:{childRefresh:function(t){return e.childRefresh(t)},rowClick:function(t){return e.rowClick(t)}}}):t("g-empty")]},proxy:!0}])})},s=[],n=o(18504),i=o(99319),r=o(36026),c={name:"Workflow",mixins:[r.He],components:{CreateOrEditWorkflow:n["default"]},data(){return{isTableLoading:!1,filterText:""}},mounted(){},created(){this.getBtnList()},methods:{getBtnList(){this.btnList=[{text:this.AppConst.button.create,icon:this.AppConst.icon.create,eventName:this.AppConst.button.create,display:!0},{text:this.AppConst.button.copy,icon:this.AppConst.icon.copy,eventName:this.AppConst.button.copy,display:!!this.id},{text:this.AppConst.button.delete,icon:this.AppConst.icon.delete,eventName:this.AppConst.button.delete,display:!!this.id},{text:this.AppConst.button.refresh,icon:this.AppConst.icon.refresh,eventName:this.AppConst.button.refresh,right:!0,display:this.isShowEdit},{text:this.AppConst.button.save,icon:this.AppConst.icon.save,eventName:this.AppConst.button.save,right:!0,type:"primary",display:this.isShowEdit}]},copy(){this.createModal({title:"复制",width:"600px"},{component:i.Z,props:{entity:{copyValue:this.dataList[0].name,value:this.dataList[0].name}},on:{success:e=>{console.log(e),this.loading=!0,setTimeout((()=>{this.loading=!1,this.copySuccess(e.value,e.copyValue),this.refreshGoFirstPage()}),500)}}})},delete(){this.$confirm({title:"确认删除",content:"确认删除该工作流吗？删除后无法恢复。",onOk:()=>{this.loading=!0,setTimeout((()=>{this.loading=!1,this.deleteSuccess(),this.refresh()}),500)}})},fetchData(e){this.loading=!0,setTimeout((()=>{e.finishedCallback();let t=[];const o=["生产工作流","质检工作流","采购工作流","销售工作流","研发工作流","服务工作流"],a=["生产部","质量部","采购部","销售部","研发部","客服部"],s=["已发布","草稿","审核中","已废弃"];for(let e=0;e<25;e++){const n=e%6;let i,r,c,l;switch(n){case 0:const t=[{code:"PF001",name:"标准生产工作流",desc:"标准化生产过程管理工作流",ver:"V1.2"},{code:"PF002",name:"紧急生产工作流",desc:"紧急订单生产过程管理工作流",ver:"V2.0"},{code:"PF003",name:"小批量生产工作流",desc:"定制小批量产品生产工作流",ver:"V1.5"},{code:"PF004",name:"大批量生产工作流",desc:"大规模标准产品生产工作流",ver:"V1.1"}],o=e%4;i=t[o].code,r=t[o].name,c=t[o].desc,l=t[o].ver;break;case 1:const a=[{code:"QF001",name:"进料检验工作流",desc:"原材料和采购件进料质量检验工作流",ver:"V1.3"},{code:"QF002",name:"过程检验工作流",desc:"生产过程中的质量检验工作流",ver:"V2.1"},{code:"QF003",name:"成品检验工作流",desc:"最终产品质量检验工作流",ver:"V1.0"}],s=e%3;i=a[s].code,r=a[s].name,c=a[s].desc,l=a[s].ver;break;case 2:const n=[{code:"WF001",name:"常规采购工作流",desc:"常规物料采购审批工作流",ver:"V1.4"},{code:"WF002",name:"紧急采购工作流",desc:"紧急物料采购审批工作流",ver:"V1.8"},{code:"WF003",name:"外协采购工作流",desc:"外协服务采购审批工作流",ver:"V2.2"}],d=e%3;i=n[d].code,r=n[d].name,c=n[d].desc,l=n[d].ver;break;case 3:const p=[{code:"SF001",name:"常规销售工作流",desc:"常规产品销售流程管理",ver:"V1.3"},{code:"SF002",name:"定制化销售工作流",desc:"定制产品销售流程管理",ver:"V1.7"},{code:"SF003",name:"国际销售工作流",desc:"出口产品销售流程管理",ver:"V1.2"}],u=e%3;i=p[u].code,r=p[u].name,c=p[u].desc,l=p[u].ver;break;case 4:const m=[{code:"RF001",name:"新产品研发工作流",desc:"新产品立项到量产全流程管理",ver:"V1.5"},{code:"RF002",name:"产品改良工作流",desc:"现有产品技术改良流程管理",ver:"V1.9"},{code:"RF003",name:"技术问题处理工作流",desc:"生产技术问题处理流程管理",ver:"V1.4"}],h=e%3;i=m[h].code,r=m[h].name,c=m[h].desc,l=m[h].ver;break;case 5:const f=[{code:"SV001",name:"售后服务工作流",desc:"产品售后服务管理流程",ver:"V1.6"},{code:"SV002",name:"客户投诉处理工作流",desc:"客户投诉处理管理流程",ver:"V2.0"},{code:"SV003",name:"产品返修工作流",desc:"产品返修处理管理流程",ver:"V1.3"}],y=e%3;i=f[y].code,r=f[y].name,c=f[y].desc,l=f[y].ver;break}t[e]={id:e+1,workflowCode:`${i}${String(e+1).padStart(2,"0")}`,name:r,workflowType:o[n],department:a[e%6],description:c,version:l,nodeCount:4+e%7,status:s[e%4],createdBy:"admin",createdTime:"2024-03-19 "+(10+e%10)+":"+e%60,modifiedBy:"admin",modifiedTime:"2024-03-"+(20+e%8)+" "+(13+e%10)+":"+e%60}}this.filterText&&(console.log(this.filterText),t=t.filter((e=>e.workflowCode.indexOf(this.filterText)>-1||e.name.indexOf(this.filterText)>-1||e.workflowType.indexOf(this.filterText)>-1||e.department.indexOf(this.filterText)>-1||e.description.indexOf(this.filterText)>-1||e.version.indexOf(this.filterText)>-1))),e.successCallback({items:t,totalCount:2*t.length})}),1e3)}}},l=c,d=o(1001),p=(0,d.Z)(l,a,s,!1,null,"039d6c15",null),u=p.exports}}]);
//# sourceMappingURL=4063.21481811.js.map