{"version":3,"file":"js/7607.be394a69.js","mappings":"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","sources":["webpack://data-v2/./src/components/g-sign-modal/g-sign-modal.vue?0ab2","webpack://data-v2/src/components/g-sign-modal/g-sign-modal.vue","webpack://data-v2/./src/components/g-sign-modal/g-sign-modal.vue?4880","webpack://data-v2/./src/components/g-sign-modal/g-sign-modal.vue","webpack://data-v2/./src/views/resource-operation-manager/resource-maintenance/resource-maintenance.vue?ed5b","webpack://data-v2/src/views/resource-operation-manager/resource-maintenance/resource-maintenance.vue","webpack://data-v2/./src/views/resource-operation-manager/resource-maintenance/resource-maintenance.vue?aa6e","webpack://data-v2/./src/views/resource-operation-manager/resource-maintenance/resource-maintenance.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"sign-container\"},[_c('h3',{staticClass:\"sign-title\"},[_vm._v(_vm._s(_vm.title || '请在下方区域签名'))]),_c('g-sign',{ref:\"signBoard\",attrs:{\"line-width\":_vm.lineWidth,\"line-color\":_vm.lineColor,\"background-color\":_vm.backgroundColor,\"save-format\":_vm.saveFormat},on:{\"save\":_vm.handleSave,\"clear\":_vm.handleClear,\"save-error\":_vm.handleError}})],1)]),_c('div',{staticClass:\"modal-footer\"},[_c('g-btn',{attrs:{\"text\":\"确认\",\"type\":\"primary\"},on:{\"callback\":_vm.save}}),_c('g-btn',{attrs:{\"text\":\"取消\"},on:{\"callback\":function($event){return _vm.$emit('closeModal')}}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modal\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"sign-container\">\r\n        <h3 class=\"sign-title\">{{ title || '请在下方区域签名' }}</h3>\r\n        <g-sign\r\n          ref=\"signBoard\"\r\n          :line-width=\"lineWidth\"\r\n          :line-color=\"lineColor\"\r\n          :background-color=\"backgroundColor\"\r\n          :save-format=\"saveFormat\"\r\n          @save=\"handleSave\"\r\n          @clear=\"handleClear\"\r\n          @save-error=\"handleError\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <g-btn text=\"确认\" @callback=\"save\" type=\"primary\"></g-btn>\r\n      <g-btn text=\"取消\" @callback=\"$emit('closeModal')\"></g-btn>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GSign from '@/components/g-sign/g-sign.vue';\r\n\r\nexport default {\r\n  name: \"GSignModal\",\r\n  components: {\r\n    GSign\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    lineWidth: {\r\n      type: Number,\r\n      default: 2\r\n    },\r\n    lineColor: {\r\n      type: String,\r\n      default: '#000000'\r\n    },\r\n    backgroundColor: {\r\n      type: String,\r\n      default: '#ffffff'\r\n    },\r\n    saveFormat: {\r\n      type: String,\r\n      default: 'png',\r\n      validator: (value) => ['png', 'jpeg', 'webp'].includes(value)\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      signatureData: null,\r\n      hasSignature: false\r\n    };\r\n  },\r\n  methods: {\r\n    handleSave(imageData) {\r\n      this.signatureData = imageData;\r\n      this.hasSignature = true;\r\n    },\r\n    \r\n    handleClear() {\r\n      this.signatureData = null;\r\n      this.hasSignature = false;\r\n    },\r\n    \r\n    handleError(message) {\r\n      this.$message.error(message);\r\n    },\r\n    \r\n    save() {\r\n      if (!this.hasSignature) {\r\n        this.$message.error('请先进行签名');\r\n        return;\r\n      }\r\n      \r\n      this.$emit('success', this.signatureData);\r\n      this.$emit('closeModal');\r\n    },\r\n    \r\n    clearSignature() {\r\n      if (this.$refs.signBoard) {\r\n        this.$refs.signBoard.clearCanvas();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n.modal-content {\r\n  flex: 1;\r\n  padding: 20px;\r\n  overflow: auto;\r\n}\r\n\r\n.sign-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n.sign-title {\r\n  margin-top: 0;\r\n  margin-bottom: 16px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\n.modal-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: 12px 20px;\r\n  border-top: 1px solid #e8e8e8;\r\n  \r\n  :deep(.g-btn) {\r\n    margin-left: 8px;\r\n  }\r\n}\r\n</style> ","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./g-sign-modal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./g-sign-modal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./g-sign-modal.vue?vue&type=template&id=e39a081c&scoped=true\"\nimport script from \"./g-sign-modal.vue?vue&type=script&lang=js\"\nexport * from \"./g-sign-modal.vue?vue&type=script&lang=js\"\nimport style0 from \"./g-sign-modal.vue?vue&type=style&index=0&id=e39a081c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e39a081c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('a-form-model',{ref:\"form\",staticClass:\"h-father\",attrs:{\"model\":_vm.entity,\"layout\":\"vertical\",\"autocomplete\":\"off\",\"rules\":_vm.rules}},[_c('g-body-form-layout',{scopedSlots:_vm._u([{key:\"search-card\",fn:function(){return [_c('div',{staticClass:\"search-card\"},[_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"span\":4}},[_c('a-form-model-item',{attrs:{\"label\":\"设备组\",\"prop\":\"deviceName\"}},[_c('g-select',{attrs:{\"placeholder\":\"请选择设备组\"},model:{value:(_vm.entity.deviceName),callback:function ($$v) {_vm.$set(_vm.entity, \"deviceName\", $$v)},expression:\"entity.deviceName\"}})],1)],1),_c('a-col',{attrs:{\"span\":4}},[_c('a-form-model-item',{attrs:{\"label\":\"设备\",\"prop\":\"deviceName\"}},[_c('g-select',{attrs:{\"placeholder\":\"请选择设备\"},model:{value:(_vm.entity.deviceName),callback:function ($$v) {_vm.$set(_vm.entity, \"deviceName\", $$v)},expression:\"entity.deviceName\"}})],1)],1),_c('a-col',{attrs:{\"span\":4}}),_c('a-col',{attrs:{\"span\":4}}),_c('a-col',{attrs:{\"span\":4}}),_c('a-col',{attrs:{\"span\":4}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"align-items\":\"center\",\"height\":\"100%\"}},[_c('g-btn-group',{attrs:{\"buttonLists\":_vm.btnList},on:{\"btnCallback\":function($event){return _vm.btnCallback($event)}}})],1)])],1)],1)]},proxy:true},{key:\"expand-card\",fn:function(){return [_c('div',{staticClass:\"expand-card\"},[_c('g-collapse',{attrs:{\"headerName\":\"保养计划\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"保养周期\",\"prop\":\"maintenanceCycle\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择保养周期\"},model:{value:(_vm.entity.maintenanceCycle),callback:function ($$v) {_vm.$set(_vm.entity, \"maintenanceCycle\", $$v)},expression:\"entity.maintenanceCycle\"}},[_c('a-select-option',{attrs:{\"value\":\"每周\"}},[_vm._v(\"每周\")]),_c('a-select-option',{attrs:{\"value\":\"每月\"}},[_vm._v(\"每月\")]),_c('a-select-option',{attrs:{\"value\":\"每季度\"}},[_vm._v(\"每季度\")]),_c('a-select-option',{attrs:{\"value\":\"每年\"}},[_vm._v(\"每年\")])],1)],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"上次保养时间\",\"prop\":\"lastMaintenanceTime\"}},[_c('a-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.entity.lastMaintenanceTime),callback:function ($$v) {_vm.$set(_vm.entity, \"lastMaintenanceTime\", $$v)},expression:\"entity.lastMaintenanceTime\"}})],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"下次保养时间\",\"prop\":\"nextMaintenanceTime\"}},[_c('a-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.entity.nextMaintenanceTime),callback:function ($$v) {_vm.$set(_vm.entity, \"nextMaintenanceTime\", $$v)},expression:\"entity.nextMaintenanceTime\"}})],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"负责人\",\"prop\":\"responsiblePerson\"}},[_c('g-select',{attrs:{\"placeholder\":\"请选择负责人\"},model:{value:(_vm.entity.responsiblePerson),callback:function ($$v) {_vm.$set(_vm.entity, \"responsiblePerson\", $$v)},expression:\"entity.responsiblePerson\"}})],1)],1)],1)]},proxy:true}])})],1)]},proxy:true},{key:\"card-body\",fn:function(){return [_c('g-collapse',{attrs:{\"headerName\":\"保养内容\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('a-form-model-item',{attrs:{\"label\":\"保养项目\",\"prop\":\"maintenanceItems\"}},[_c('a-checkbox-group',{model:{value:(_vm.entity.maintenanceItems),callback:function ($$v) {_vm.$set(_vm.entity, \"maintenanceItems\", $$v)},expression:\"entity.maintenanceItems\"}},[_c('a-row',[_c('a-col',{attrs:{\"span\":8}},[_c('a-checkbox',{attrs:{\"value\":\"清洁\"}},[_vm._v(\"清洁\")])],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-checkbox',{attrs:{\"value\":\"润滑\"}},[_vm._v(\"润滑\")])],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-checkbox',{attrs:{\"value\":\"紧固\"}},[_vm._v(\"紧固\")])],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-checkbox',{attrs:{\"value\":\"检查\"}},[_vm._v(\"检查\")])],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-checkbox',{attrs:{\"value\":\"更换\"}},[_vm._v(\"更换\")])],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-checkbox',{attrs:{\"value\":\"校准\"}},[_vm._v(\"校准\")])],1)],1)],1)],1),_c('a-form-model-item',{attrs:{\"label\":\"详细说明\",\"prop\":\"maintenanceDescription\"}},[_c('a-textarea',{attrs:{\"placeholder\":\"请输入详细的保养内容和步骤\",\"rows\":4},model:{value:(_vm.entity.maintenanceDescription),callback:function ($$v) {_vm.$set(_vm.entity, \"maintenanceDescription\", $$v)},expression:\"entity.maintenanceDescription\"}})],1)]},proxy:true}])}),_c('g-collapse',{attrs:{\"headerName\":\"保养记录\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('a-table',{attrs:{\"columns\":_vm.maintenanceRecordColumns,\"dataSource\":_vm.entity.maintenanceRecords}})]},proxy:true}])})]},proxy:true},{key:\"g-fixed-row\",fn:function(){return [_c('div',{staticClass:\"g-fixed-row\"},[_c('g-btn',{attrs:{\"size\":\"large\",\"text\":\"刷新\"},on:{\"callback\":function($event){return _vm.refresh()}}}),_c('g-btn',{attrs:{\"size\":\"large\",\"text\":\"提交\",\"type\":\"primary\"},on:{\"callback\":function($event){return _vm.submitMaintenance()}}})],1)]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <a-form-model\r\n      ref=\"form\"\r\n      :model=\"entity\"\r\n      layout=\"vertical\"\r\n      autocomplete=\"off\"\r\n      :rules=\"rules\"\r\n      class=\"h-father\"\r\n    >\r\n      <g-body-form-layout>\r\n        <!-- 搜索插槽 -->\r\n        <template #search-card>\r\n          <div class=\"search-card\">\r\n            <a-row :gutter=\"24\">\r\n              <a-col :span=\"4\">\r\n                <!-- 设备组 -->\r\n                <a-form-model-item label=\"设备组\" prop=\"deviceName\">\r\n                  <g-select\r\n                    v-model=\"entity.deviceName\"\r\n                    placeholder=\"请选择设备组\"\r\n                  >\r\n                  </g-select>\r\n                </a-form-model-item>\r\n              </a-col>\r\n              <!-- 设备 -->\r\n              <a-col :span=\"4\">\r\n                <a-form-model-item label=\"设备\" prop=\"deviceName\">\r\n                  <g-select\r\n                    v-model=\"entity.deviceName\"\r\n                    placeholder=\"请选择设备\"\r\n                  >\r\n                  </g-select>\r\n                </a-form-model-item>\r\n              </a-col>\r\n              <a-col :span=\"4\">  </a-col>\r\n              <a-col :span=\"4\">  </a-col>\r\n              <a-col :span=\"4\">  </a-col>\r\n              <a-col :span=\"4\">\r\n                <div\r\n                  style=\"display: flex;\r\n                  justify-content: flex-end;\r\n                  align-items: center;\r\n                  height: 100%;\"\r\n                >\r\n                  <g-btn-group\r\n                    :buttonLists=\"btnList\"\r\n                    @btnCallback=\"btnCallback($event)\"\r\n                  ></g-btn-group>\r\n                </div>\r\n              </a-col>\r\n            </a-row>\r\n          </div>\r\n        </template>\r\n        <!-- 展开插槽 -->\r\n        <template #expand-card>\r\n          <div class=\"expand-card\">\r\n            <g-collapse headerName=\"保养计划\">\r\n              <template #content>\r\n                <a-row :gutter=\"24\">\r\n                  <a-col :span=\"6\">\r\n                    <!-- 保养周期 -->\r\n                    <a-form-model-item label=\"保养周期\" prop=\"maintenanceCycle\">\r\n                      <a-select\r\n                        v-model=\"entity.maintenanceCycle\"\r\n                        placeholder=\"请选择保养周期\"\r\n                      >\r\n                        <a-select-option value=\"每周\">每周</a-select-option>\r\n                        <a-select-option value=\"每月\">每月</a-select-option>\r\n                        <a-select-option value=\"每季度\">每季度</a-select-option>\r\n                        <a-select-option value=\"每年\">每年</a-select-option>\r\n                      </a-select>\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n                  <a-col :span=\"6\">\r\n                    <!-- 上次保养时间 -->\r\n                    <a-form-model-item label=\"上次保养时间\" prop=\"lastMaintenanceTime\">\r\n                      <a-date-picker\r\n                        v-model=\"entity.lastMaintenanceTime\"\r\n                        style=\"width: 100%\"\r\n                        type=\"date\"\r\n                        placeholder=\"选择日期\"\r\n                      />\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n                  <a-col :span=\"6\">\r\n                    <!-- 下次保养时间 -->\r\n                    <a-form-model-item label=\"下次保养时间\" prop=\"nextMaintenanceTime\">\r\n                      <a-date-picker\r\n                        v-model=\"entity.nextMaintenanceTime\"\r\n                        style=\"width: 100%\"\r\n                        type=\"date\"\r\n                        placeholder=\"选择日期\"\r\n                      />\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n                  <a-col :span=\"6\">\r\n                    <!-- 负责人 -->\r\n                    <a-form-model-item label=\"负责人\" prop=\"responsiblePerson\">\r\n                      <g-select\r\n                        v-model=\"entity.responsiblePerson\"\r\n                        placeholder=\"请选择负责人\"\r\n                      >\r\n                      </g-select>\r\n                    </a-form-model-item>\r\n                  </a-col>\r\n                </a-row>\r\n              </template>\r\n            </g-collapse>\r\n          </div>\r\n        </template>\r\n        <template #card-body>\r\n          <g-collapse headerName=\"保养内容\">\r\n            <template #content>\r\n              <a-form-model-item label=\"保养项目\" prop=\"maintenanceItems\">\r\n                <a-checkbox-group v-model=\"entity.maintenanceItems\">\r\n                  <a-row>\r\n                    <a-col :span=\"8\">\r\n                      <a-checkbox value=\"清洁\">清洁</a-checkbox>\r\n                    </a-col>\r\n                    <a-col :span=\"8\">\r\n                      <a-checkbox value=\"润滑\">润滑</a-checkbox>\r\n                    </a-col>\r\n                    <a-col :span=\"8\">\r\n                      <a-checkbox value=\"紧固\">紧固</a-checkbox>\r\n                    </a-col>\r\n                    <a-col :span=\"8\">\r\n                      <a-checkbox value=\"检查\">检查</a-checkbox>\r\n                    </a-col>\r\n                    <a-col :span=\"8\">\r\n                      <a-checkbox value=\"更换\">更换</a-checkbox>\r\n                    </a-col>\r\n                    <a-col :span=\"8\">\r\n                      <a-checkbox value=\"校准\">校准</a-checkbox>\r\n                    </a-col>\r\n                  </a-row>\r\n                </a-checkbox-group>\r\n              </a-form-model-item>\r\n              <a-form-model-item label=\"详细说明\" prop=\"maintenanceDescription\">\r\n                <a-textarea\r\n                  v-model=\"entity.maintenanceDescription\"\r\n                  placeholder=\"请输入详细的保养内容和步骤\"\r\n                  :rows=\"4\"\r\n                ></a-textarea>\r\n              </a-form-model-item>\r\n            </template>\r\n          </g-collapse>\r\n          <g-collapse headerName=\"保养记录\">\r\n            <template #content>\r\n              <a-table :columns=\"maintenanceRecordColumns\" :dataSource=\"entity.maintenanceRecords\">\r\n              </a-table>\r\n            </template>\r\n          </g-collapse>\r\n        </template>\r\n        <template #g-fixed-row>\r\n          <div class=\"g-fixed-row\">\r\n            <g-btn size=\"large\" text=\"刷新\" @callback=\"refresh()\"></g-btn>\r\n            <g-btn size=\"large\" text=\"提交\" type=\"primary\" @callback=\"submitMaintenance()\">\r\n            </g-btn>\r\n          </div>\r\n        </template>\r\n      </g-body-form-layout>\r\n    </a-form-model>\r\n  </template>\r\n  \r\n  <script>\r\n  import GSignModal from '@/components/g-sign-modal/g-sign-modal.vue';\r\n  import { createModal } from '@/utils';\r\n  import AppConst from '@/utils/appConst';\r\n  import moment from 'moment';\r\n  \r\n  export default {\r\n    name: \"EquipmentMaintenance\",\r\n  \r\n    data() {\r\n      return {\r\n        entity: {\r\n          deviceName: \"\",\r\n          maintenanceCycle: \"每月\",\r\n          lastMaintenanceTime: null,\r\n          nextMaintenanceTime: null,\r\n          responsiblePerson: \"\",\r\n          maintenanceItems: [\"清洁\", \"检查\"],\r\n          maintenanceDescription: \"\",\r\n          maintenanceRecords: []\r\n        },\r\n        rules: {\r\n          deviceName: [\r\n            { required: true, message: \"请选择设备\", trigger: \"change\" }\r\n          ],\r\n          maintenanceCycle: [\r\n            { required: true, message: \"请选择保养周期\", trigger: \"change\" }\r\n          ],\r\n          responsiblePerson: [\r\n            { required: true, message: \"请选择负责人\", trigger: \"change\" }\r\n          ]\r\n        },\r\n        btnList: [\r\n          {\r\n            icon: AppConst.icon.documentShow,\r\n            text: AppConst.button.documentShow,\r\n            eventName: AppConst.button.documentShow,\r\n            display: true\r\n          }\r\n        ],\r\n        maintenanceRecordColumns: [\r\n          {\r\n            title: '保养时间',\r\n            dataIndex: 'time',\r\n            key: 'time',\r\n            customRender: (text) => text ? moment(text).format('YYYY-MM-DD HH:mm:ss') : ''\r\n          },\r\n          {\r\n            title: '保养人员',\r\n            dataIndex: 'personnel',\r\n            key: 'personnel',\r\n          },\r\n          {\r\n            title: '保养内容',\r\n            dataIndex: 'content',\r\n            key: 'content',\r\n          },\r\n          {\r\n            title: '保养结果',\r\n            dataIndex: 'result',\r\n            key: 'result',\r\n          },\r\n          {\r\n            title: '备注',\r\n            dataIndex: 'remark',\r\n            key: 'remark',\r\n          }\r\n        ]\r\n      };\r\n    },\r\n  \r\n    mounted() {\r\n      // 模拟数据\r\n      this.entity.maintenanceRecords = [\r\n        {\r\n          time: moment().subtract(7, 'days'),\r\n          personnel: '张三',\r\n          content: '清洁、润滑',\r\n          result: '正常',\r\n          remark: ''\r\n        },\r\n        {\r\n          time: moment().subtract(35, 'days'),\r\n          personnel: '李四',\r\n          content: '清洁、检查、更换',\r\n          result: '正常',\r\n          remark: '更换了滤芯'\r\n        }\r\n      ];\r\n    },\r\n  \r\n    methods: {\r\n      submitMaintenance() {\r\n        this.$refs.form.validate().then((valid) => {\r\n          if (!valid) {\r\n            return;\r\n          }\r\n          this.createSignModal();\r\n        });\r\n      },\r\n  \r\n      createSignModal() {\r\n        createModal({\r\n          title: '签名',\r\n          width: '600px',\r\n        }, {\r\n          component: GSignModal,\r\n          success: (v) => {\r\n            console.log(v);\r\n            // 处理提交成功后的逻辑\r\n            this.$message.success('保养任务提交成功');\r\n            this.refresh();\r\n          },\r\n        });\r\n      },\r\n  \r\n      refresh() {\r\n        // 重置表单\r\n        this.$refs.form.resetFields();\r\n        this.entity.maintenanceCycle = \"每月\";\r\n        this.entity.maintenanceItems = [\"清洁\", \"检查\"];\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped>\r\n  </style>","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./resource-maintenance.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./resource-maintenance.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./resource-maintenance.vue?vue&type=template&id=7293d9b0&scoped=true\"\nimport script from \"./resource-maintenance.vue?vue&type=script&lang=js\"\nexport * from \"./resource-maintenance.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7293d9b0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","title","ref","attrs","lineWidth","lineColor","backgroundColor","saveFormat","on","handleSave","handleClear","handleError","save","$event","$emit","staticRenderFns","name","components","GSign","props","type","String","default","Number","validator","value","includes","data","signatureData","hasSignature","methods","imageData","message","$message","error","clearSignature","$refs","signBoard","clearCanvas","component","entity","rules","scopedSlots","_u","key","fn","model","callback","$$v","$set","expression","staticStyle","btnList","btnCallback","proxy","maintenanceRecordColumns","maintenanceRecords","refresh","submitMaintenance","deviceName","maintenanceCycle","lastMaintenanceTime","nextMaintenanceTime","responsiblePerson","maintenanceItems","maintenanceDescription","required","trigger","icon","documentShow","text","button","eventName","display","dataIndex","customRender","format","mounted","time","subtract","personnel","content","result","remark","form","validate","then","valid","createSignModal","width","success","v","console","log","resetFields"],"sourceRoot":""}