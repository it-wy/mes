"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[7777,6211],{26211:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("a-spin",{attrs:{spinning:t.loading}},[e("a-form-model",{ref:"form",attrs:{model:t.entity,rules:t.rules,autocomplete:"off",layout:"vertical"}},[e("div",{staticClass:"card"},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"角色组编码",prop:"groupCode"}},[e("a-input",{attrs:{placeholder:"请输入角色组编码",disabled:!!t.id},on:{change:t.inChange},model:{value:t.entity.groupCode,callback:function(e){t.$set(t.entity,"groupCode",e)},expression:"entity.groupCode"}})],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"角色组名称",prop:"groupName"}},[e("a-input",{attrs:{placeholder:"请输入角色组名称"},on:{change:t.inChange},model:{value:t.entity.groupName,callback:function(e){t.$set(t.entity,"groupName",e)},expression:"entity.groupName"}})],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"状态",prop:"status"}},[e("a-select",{attrs:{placeholder:"请选择状态"},model:{value:t.entity.status,callback:function(e){t.$set(t.entity,"status",e)},expression:"entity.status"}},[e("a-select-option",{attrs:{value:"启用"}},[t._v("启用")]),e("a-select-option",{attrs:{value:"禁用"}},[t._v("禁用")])],1)],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:24}},[e("a-form-model-item",{attrs:{label:"包含角色",prop:"roles"}},[e("a-select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"请选择角色"},model:{value:t.entity.roles,callback:function(e){t.$set(t.entity,"roles",e)},expression:"entity.roles"}},t._l(t.roleOptions,(function(a){return e("a-select-option",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:24}},[e("a-form-model-item",{attrs:{label:"描述",prop:"description"}},[e("a-textarea",{attrs:{placeholder:"请输入描述",rows:4,"max-length":1e3},model:{value:t.entity.description,callback:function(e){t.$set(t.entity,"description",e)},expression:"entity.description"}})],1)],1)],1)],1),e("g-collapse",{attrs:{headerName:"其他信息"},scopedSlots:t._u([{key:"content",fn:function(){return[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"创建人"}},[e("span",[t._v(t._s(t.entity.creator||"admin"))])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"创建时间"}},[e("span",[t._v(t._s(t.entity.createTime||"2024-01-01 12:00:00"))])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"最后修改人"}},[e("span",[t._v(t._s(t.entity.modifier||"admin"))])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"最后修改时间"}},[e("span",[t._v(t._s(t.entity.modifyTime||"2024-01-01 12:00:00"))])])],1)],1)]},proxy:!0}])})],1)],1)},s=[],r=a(36026),o={name:"CreateOrEditESignRoleGroup",mixins:[r.GE],data(){return{entity:{groupCode:"",groupName:"",roles:[],status:"启用",description:"",creator:"",createTime:"",modifier:"",modifyTime:""},roleOptions:[{value:"管理员",label:"管理员"},{value:"操作员",label:"操作员"},{value:"审核员",label:"审核员"},{value:"质检员",label:"质检员"},{value:"生产员",label:"生产员"}],rules:{groupCode:[{required:!0,message:"角色组编码不能为空",trigger:"change"},{pattern:/^[A-Z0-9]+$/,message:"角色组编码只能包含大写字母和数字",trigger:"change"}],groupName:[{required:!0,message:"角色组名称不能为空",trigger:"change"},{pattern:/^[^\s]+(\s+[^\s]+)*$/,message:"名称不能包含前后空格",trigger:"change"}],roles:[{required:!0,message:"请选择包含的角色",trigger:"change"},{type:"array",min:1,message:"至少选择一个角色",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}}},methods:{init(){this.loading=!0,this.id?setTimeout((()=>{this.loading=!1,this.entity={groupCode:"ERG1001",groupName:"测试电子签名角色组",roles:["管理员","操作员"],status:"启用",description:"这是一个测试电子签名角色组",creator:"admin",createTime:"2024-01-01 12:00:00",modifier:"admin",modifyTime:"2024-01-01 12:00:00"}}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={groupCode:"",groupName:"",roles:[],status:"启用",description:"",creator:"",createTime:"",modifier:"",modifyTime:""}},async save(){let t=await this.checkError();t&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.groupName),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})}),500))},inChange(t){console.log(t.target.value)}}},n=o,l=a(1001),u=(0,l.Z)(n,i,s,!1,null,"97beb4b4",null),p=u.exports},97777:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("g-body-layout",{attrs:{pageIndex:t.pageNumber,pageSize:t.pageSize,total:t.total,filterText:t.filterText},on:{"update:filterText":function(e){t.filterText=e},"update:filter-text":function(e){t.filterText=e},pageIndexChange:t.pageIndexChange,pageSizeChange:t.pageSizeChange,suffixSearchCallback:t.onFilterReady},scopedSlots:t._u([{key:"btnGroup",fn:function(){return[e("g-btn-group",{attrs:{buttonLists:t.btnList},on:{btnCallBack:t.btnGroupClick}})]},proxy:!0},{key:"table",fn:function(){return[e("g-ndo-table",{attrs:{id:t.id,handName:"电子签名角色组",dataList:t.dataList,isTableLoading:t.loading,total:t.total},on:{rowClick:t.rowClick}})]},proxy:!0},{key:"content",fn:function(){return[t.isShowEdit?e("create-or-edit-e-sign-role-group",{attrs:{ndoEditParams:t.ndoEditParams,refreshTag:t.refreshTag,saveTag:t.saveTag,resetTag:t.resetTag},on:{childRefresh:function(e){return t.childRefresh(e)},rowClick:function(e){return t.rowClick(e)}}}):e("g-empty")]},proxy:!0}])})},s=[],r=a(26211),o=a(36026),n={name:"ESignRoleGroup",mixins:[o.He],components:{CreateOrEditESignRoleGroup:r["default"]},data(){return{isTableLoading:!1,filterText:""}},created(){this.getBtnList()},methods:{getBtnList(){this.btnList=[{text:this.AppConst.button.create,icon:this.AppConst.icon.create,eventName:this.AppConst.button.create,display:!0},{text:this.AppConst.button.copy,icon:this.AppConst.icon.copy,eventName:this.AppConst.button.copy,display:!!this.id},{text:this.AppConst.button.delete,icon:this.AppConst.icon.delete,eventName:this.AppConst.button.delete,display:!!this.id},{text:this.AppConst.button.refresh,icon:this.AppConst.icon.refresh,eventName:this.AppConst.button.refresh,right:!0,display:this.isShowEdit},{text:this.AppConst.button.save,icon:this.AppConst.icon.save,eventName:this.AppConst.button.save,right:!0,type:"primary",display:this.isShowEdit}]},fetchData(t){this.loading=!0,setTimeout((()=>{t.finishedCallback();let e=[];for(let t=0;t<25;t++)e[t]={id:t+1,groupCode:"ERG"+(1e3+t),name:"电子签名角色组"+(t+1),roles:["管理员","操作员","审核员"][t%3],description:"这是电子签名角色组描述"+(t+1),status:["启用","禁用"][t%2],createTime:"2024-"+(t%12+1)+"-"+(t%28+1)};this.filterText&&(e=e.filter((t=>t.groupCode.indexOf(this.filterText)>-1||t.name.indexOf(this.filterText)>-1))),t.successCallback({items:e,totalCount:2*e.length})}),1e3)}}},l=n,u=a(1001),p=(0,u.Z)(l,i,s,!1,null,null,null),c=p.exports}}]);
//# sourceMappingURL=7777.70064aa9.js.map