{"version":3,"file":"js/8333.2e0af839.js","mappings":"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","sources":["webpack://data-v2/./src/views/setting/form-design/components/FormPreview.vue?ef9c","webpack://data-v2/src/views/setting/form-design/components/FormPreview.vue","webpack://data-v2/./src/views/setting/form-design/components/FormPreview.vue?2d66","webpack://data-v2/./src/views/setting/form-design/components/FormPreview.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('a-modal',{attrs:{\"title\":\"表单预览\",\"visible\":_vm.visible,\"width\":720,\"footer\":null},on:{\"cancel\":_vm.handleCancel}},[_c('a-form',{ref:\"previewForm\",attrs:{\"model\":_vm.formData,\"label-col\":{ span: 6 },\"wrapper-col\":{ span: 16 }}},[_vm._l((_vm.formItems),function(item){return [_c('a-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(!item.props.hidden),expression:\"!item.props.hidden\"}],key:item.id,attrs:{\"label\":item.props.label,\"name\":item.props.name,\"rules\":_vm.transformRules(item.props.rules)}},[(item.type === 'a-input')?_c('a-input',_vm._b({on:{\"change\":(e) => _vm.handleFieldChange(item.props.name, e.target.value),\"focus\":(e) => _vm.handleFieldEvent(item, 'focus', e.target.value),\"blur\":(e) => _vm.handleFieldEvent(item, 'blur', e.target.value)},model:{value:(_vm.formData[item.props.name]),callback:function ($$v) {_vm.$set(_vm.formData, item.props.name, $$v)},expression:\"formData[item.props.name]\"}},'a-input',_vm.getComponentProps(item),false)):(item.type === 'a-textarea')?_c('a-textarea',_vm._b({on:{\"change\":(e) => _vm.handleFieldChange(item.props.name, e.target.value),\"focus\":(e) => _vm.handleFieldEvent(item, 'focus', e.target.value),\"blur\":(e) => _vm.handleFieldEvent(item, 'blur', e.target.value)},model:{value:(_vm.formData[item.props.name]),callback:function ($$v) {_vm.$set(_vm.formData, item.props.name, $$v)},expression:\"formData[item.props.name]\"}},'a-textarea',_vm.getComponentProps(item),false)):(item.type === 'a-input-number')?_c('a-input-number',_vm._b({staticStyle:{\"width\":\"100%\"},on:{\"change\":(value) => _vm.handleFieldChange(item.props.name, value),\"focus\":() => _vm.handleFieldEvent(item, 'focus', _vm.formData[item.props.name]),\"blur\":() => _vm.handleFieldEvent(item, 'blur', _vm.formData[item.props.name])},model:{value:(_vm.formData[item.props.name]),callback:function ($$v) {_vm.$set(_vm.formData, item.props.name, $$v)},expression:\"formData[item.props.name]\"}},'a-input-number',_vm.getComponentProps(item),false)):(item.type === 'a-select')?_c('a-select',_vm._b({staticStyle:{\"width\":\"100%\"},on:{\"change\":(value) => _vm.handleFieldChange(item.props.name, value),\"focus\":() => _vm.handleFieldEvent(item, 'focus', _vm.formData[item.props.name]),\"blur\":() => _vm.handleFieldEvent(item, 'blur', _vm.formData[item.props.name])},model:{value:(_vm.formData[item.props.name]),callback:function ($$v) {_vm.$set(_vm.formData, item.props.name, $$v)},expression:\"formData[item.props.name]\"}},'a-select',_vm.getComponentProps(item),false),_vm._l((item.props.options),function(opt){return _c('a-select-option',{key:opt.value,attrs:{\"value\":opt.value}},[_vm._v(\" \"+_vm._s(opt.label)+\" \")])}),1):(item.type === 'a-date-picker')?_c('a-date-picker',_vm._b({staticStyle:{\"width\":\"100%\"},on:{\"change\":(date) => _vm.handleFieldChange(item.props.name, date),\"focus\":() => _vm.handleFieldEvent(item, 'focus', _vm.formData[item.props.name]),\"blur\":() => _vm.handleFieldEvent(item, 'blur', _vm.formData[item.props.name])},model:{value:(_vm.formData[item.props.name]),callback:function ($$v) {_vm.$set(_vm.formData, item.props.name, $$v)},expression:\"formData[item.props.name]\"}},'a-date-picker',_vm.getComponentProps(item),false)):(item.type === 'a-switch')?_c('a-switch',_vm._b({on:{\"change\":(checked) => _vm.handleFieldChange(item.props.name, checked)},model:{value:(_vm.formData[item.props.name]),callback:function ($$v) {_vm.$set(_vm.formData, item.props.name, $$v)},expression:\"formData[item.props.name]\"}},'a-switch',_vm.getComponentProps(item),false)):(item.type === 'a-radio-group')?_c('a-radio-group',_vm._b({on:{\"change\":(e) => _vm.handleFieldChange(item.props.name, e.target.value)},model:{value:(_vm.formData[item.props.name]),callback:function ($$v) {_vm.$set(_vm.formData, item.props.name, $$v)},expression:\"formData[item.props.name]\"}},'a-radio-group',_vm.getComponentProps(item),false),_vm._l((item.props.options),function(opt){return _c('a-radio',{key:opt.value,attrs:{\"value\":opt.value}},[_vm._v(\" \"+_vm._s(opt.label)+\" \")])}),1):(item.type === 'a-checkbox-group')?_c('a-checkbox-group',_vm._b({on:{\"change\":(values) => _vm.handleFieldChange(item.props.name, values)},model:{value:(_vm.formData[item.props.name]),callback:function ($$v) {_vm.$set(_vm.formData, item.props.name, $$v)},expression:\"formData[item.props.name]\"}},'a-checkbox-group',_vm.getComponentProps(item),false),_vm._l((item.props.options),function(opt){return _c('a-checkbox',{key:opt.value,attrs:{\"value\":opt.value}},[_vm._v(\" \"+_vm._s(opt.label)+\" \")])}),1):_vm._e()],1)]}),_c('div',{staticClass:\"form-actions\"},[_c('a-space',[_c('a-button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"重置\")]),_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"提交\")])],1)],1)],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a-modal\n    title=\"表单预览\"\n    :visible=\"visible\"\n    :width=\"720\"\n    @cancel=\"handleCancel\"\n    :footer=\"null\"\n  >\n    <a-form\n      ref=\"previewForm\"\n      :model=\"formData\"\n      :label-col=\"{ span: 6 }\"\n      :wrapper-col=\"{ span: 16 }\"\n    >\n      <template v-for=\"item in formItems\">\n        <a-form-item\n          v-show=\"!item.props.hidden\"\n          :key=\"item.id\"\n          :label=\"item.props.label\"\n          :name=\"item.props.name\"\n          :rules=\"transformRules(item.props.rules)\"\n        >\n          <!-- 文本输入 -->\n          <a-input\n            v-if=\"item.type === 'a-input'\"\n            v-model:value=\"formData[item.props.name]\"\n            v-bind=\"getComponentProps(item)\"\n            @change=\"(e) => handleFieldChange(item.props.name, e.target.value)\"\n            @focus=\"(e) => handleFieldEvent(item, 'focus', e.target.value)\"\n            @blur=\"(e) => handleFieldEvent(item, 'blur', e.target.value)\"\n          />\n          \n          <!-- 多行文本 -->\n          <a-textarea\n            v-else-if=\"item.type === 'a-textarea'\"\n            v-model:value=\"formData[item.props.name]\"\n            v-bind=\"getComponentProps(item)\"\n            @change=\"(e) => handleFieldChange(item.props.name, e.target.value)\"\n            @focus=\"(e) => handleFieldEvent(item, 'focus', e.target.value)\"\n            @blur=\"(e) => handleFieldEvent(item, 'blur', e.target.value)\"\n          />\n          \n          <!-- 数字输入 -->\n          <a-input-number\n            v-else-if=\"item.type === 'a-input-number'\"\n            v-model:value=\"formData[item.props.name]\"\n            v-bind=\"getComponentProps(item)\"\n            style=\"width: 100%\"\n            @change=\"(value) => handleFieldChange(item.props.name, value)\"\n            @focus=\"() => handleFieldEvent(item, 'focus', formData[item.props.name])\"\n            @blur=\"() => handleFieldEvent(item, 'blur', formData[item.props.name])\"\n          />\n          \n          <!-- 下拉选择 -->\n          <a-select\n            v-else-if=\"item.type === 'a-select'\"\n            v-model:value=\"formData[item.props.name]\"\n            v-bind=\"getComponentProps(item)\"\n            style=\"width: 100%\"\n            @change=\"(value) => handleFieldChange(item.props.name, value)\"\n            @focus=\"() => handleFieldEvent(item, 'focus', formData[item.props.name])\"\n            @blur=\"() => handleFieldEvent(item, 'blur', formData[item.props.name])\"\n          >\n            <a-select-option \n              v-for=\"opt in item.props.options\"\n              :key=\"opt.value\"\n              :value=\"opt.value\"\n            >\n              {{ opt.label }}\n            </a-select-option>\n          </a-select>\n          \n          <!-- 日期选择 -->\n          <a-date-picker\n            v-else-if=\"item.type === 'a-date-picker'\"\n            v-model:value=\"formData[item.props.name]\"\n            v-bind=\"getComponentProps(item)\"\n            style=\"width: 100%\"\n            @change=\"(date) => handleFieldChange(item.props.name, date)\"\n            @focus=\"() => handleFieldEvent(item, 'focus', formData[item.props.name])\"\n            @blur=\"() => handleFieldEvent(item, 'blur', formData[item.props.name])\"\n          />\n          \n          <!-- 开关 -->\n          <a-switch\n            v-else-if=\"item.type === 'a-switch'\"\n            v-model:checked=\"formData[item.props.name]\"\n            v-bind=\"getComponentProps(item)\"\n            @change=\"(checked) => handleFieldChange(item.props.name, checked)\"\n          />\n          \n          <!-- 单选框组 -->\n          <a-radio-group\n            v-else-if=\"item.type === 'a-radio-group'\"\n            v-model:value=\"formData[item.props.name]\"\n            v-bind=\"getComponentProps(item)\"\n            @change=\"(e) => handleFieldChange(item.props.name, e.target.value)\"\n          >\n            <a-radio \n              v-for=\"opt in item.props.options\"\n              :key=\"opt.value\"\n              :value=\"opt.value\"\n            >\n              {{ opt.label }}\n            </a-radio>\n          </a-radio-group>\n          \n          <!-- 复选框组 -->\n          <a-checkbox-group\n            v-else-if=\"item.type === 'a-checkbox-group'\"\n            v-model:value=\"formData[item.props.name]\"\n            v-bind=\"getComponentProps(item)\"\n            @change=\"(values) => handleFieldChange(item.props.name, values)\"\n          >\n            <a-checkbox\n              v-for=\"opt in item.props.options\"\n              :key=\"opt.value\"\n              :value=\"opt.value\"\n            >\n              {{ opt.label }}\n            </a-checkbox>\n          </a-checkbox-group>\n        </a-form-item>\n      </template>\n\n      <div class=\"form-actions\">\n        <a-space>\n          <a-button @click=\"handleReset\">重置</a-button>\n          <a-button type=\"primary\" @click=\"handleSubmit\">提交</a-button>\n        </a-space>\n      </div>\n    </a-form>\n  </a-modal>\n</template>\n\n<script>\nexport default {\n  name: 'FormPreview',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    formItems: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      formData: {}\n    }\n  },\n  watch: {\n    visible(val) {\n      if (val) {\n        this.initFormData();\n      }\n    }\n  },\n  methods: {\n    initFormData() {\n      const data = {};\n      this.formItems.forEach(item => {\n        if (item.props.name) {\n          // 根据组件类型设置初始值\n          switch (item.type) {\n            case 'a-switch':\n              data[item.props.name] = false;\n              break;\n            case 'a-checkbox-group':\n              data[item.props.name] = [];\n              break;\n            case 'a-input-number':\n              data[item.props.name] = null;\n              break;\n            default:\n              data[item.props.name] = '';\n          }\n        }\n      });\n      this.formData = data;\n    },\n    \n    transformRules(rules) {\n      if (!rules) return [];\n      return rules.map(rule => {\n        const newRule = { ...rule };\n        if (rule.type === 'required') {\n          newRule.required = true;\n          delete newRule.type;\n        }\n        return newRule;\n      });\n    },\n    \n    getComponentProps(item) {\n      const props = { ...item.props };\n      // 移除表单项特有的属性\n      delete props.label;\n      delete props.name;\n      delete props.rules;\n      return props;\n    },\n    \n    handleSubmit() {\n      this.$refs.previewForm\n        .validate()\n        .then(() => {\n          this.$message.success('表单验证通过');\n          console.log('表单数据：', this.formData);\n        })\n        .catch(error => {\n          console.log('表单验证失败：', error);\n        });\n    },\n    \n    handleReset() {\n      this.$refs.previewForm.resetFields();\n    },\n    \n    handleCancel() {\n      this.$emit('update:visible', false);\n    },\n    \n    // 处理字段事件（focus/blur）\n    handleFieldEvent(item, eventType, value) {\n      if (item.props.linkage && item.props.linkage.trigger === eventType) {\n        this.handleLinkage(item, value);\n      }\n    },\n    \n    // 处理组件值变化\n    handleFieldChange(field, value) {\n      // 更新表单数据\n      this.formData[field] = value;\n      \n      // 处理联动\n      this.formItems.forEach(item => {\n        if (item.props.name === field && \n            item.props.linkage && \n            item.props.linkage.trigger === 'change') {\n          this.handleLinkage(item, value);\n        }\n      });\n    },\n    \n    // 处理联动逻辑\n    handleLinkage(sourceItem, value) {\n      const { trigger, actions } = sourceItem.props.linkage;\n\n      if (!actions || !actions.length) return;\n      actions.forEach(action => {\n        const targetItem = this.formItems.find(\n          item => item.props.name === action.targetField\n        );\n        if (!targetItem) return;\n        \n        // 执行条件判断\n        let shouldExecute = true;\n        if (action.condition) {\n          try {\n            // 创建安全的条件判断环境\n            const condition = new Function('value', `return ${action.condition}`);\n            shouldExecute = condition(value);\n          } catch (error) {\n            console.error('联动条件执行错误:', error);\n            return;\n          }\n        }\n                  console.log('action', action,shouldExecute);\n\n        \n        if (shouldExecute) {\n          switch (action.type) {\n            case 'show':\n              targetItem.props.hidden = false;\n              break;\n            case 'hide':\n              targetItem.props.hidden = true;\n              break;\n            case 'required':\n              this.updateValidationRules(targetItem, true);\n              break;\n            case 'disabled':\n              targetItem.props.disabled = true;\n              break;\n            case 'setValue':\n              this.formData[targetItem.props.name] = action.value;\n              break;\n          }\n        } else {\n          switch (action.type) {\n            case 'show':\n              targetItem.props.hidden = true;\n              break;\n            case 'hide':\n              targetItem.props.hidden = false;\n              break;\n            case 'required':\n              this.updateValidationRules(targetItem, false);\n              break;\n            case 'disabled':\n              targetItem.props.disabled = false;\n              break;\n            case 'setValue':\n              this.formData[targetItem.props.name] = '';\n              break;\n          }\n        }\n      });\n    },\n    \n    // 更新验证规则\n    updateValidationRules(item, required) {\n      const rules = item.props.rules || [];\n      const requiredRule = rules.find(rule => rule.type === 'required');\n      \n      if (required && !requiredRule) {\n        rules.push({\n          type: 'required',\n          message: '该字段为必填项'\n        });\n      } else if (!required && requiredRule) {\n        const index = rules.indexOf(requiredRule);\n        rules.splice(index, 1);\n      }\n      \n      item.props.rules = rules;\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.form-actions {\n  text-align: center;\n  margin-top: 24px;\n}\n</style> ","import mod from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FormPreview.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FormPreview.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FormPreview.vue?vue&type=template&id=6db1d980&scoped=true\"\nimport script from \"./FormPreview.vue?vue&type=script&lang=js\"\nexport * from \"./FormPreview.vue?vue&type=script&lang=js\"\nimport style0 from \"./FormPreview.vue?vue&type=style&index=0&id=6db1d980&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6db1d980\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","visible","on","handleCancel","ref","formData","span","_l","item","directives","name","rawName","value","props","hidden","expression","key","id","label","transformRules","rules","type","_b","e","handleFieldChange","target","handleFieldEvent","model","callback","$$v","$set","getComponentProps","staticStyle","opt","_v","_s","date","checked","values","_e","staticClass","handleReset","handleSubmit","staticRenderFns","Boolean","default","formItems","Array","data","watch","val","initFormData","methods","forEach","map","rule","newRule","required","$refs","previewForm","validate","then","$message","success","console","log","catch","error","resetFields","$emit","eventType","linkage","trigger","handleLinkage","field","sourceItem","actions","length","action","targetItem","find","targetField","shouldExecute","condition","Function","updateValidationRules","disabled","requiredRule","push","message","index","indexOf","splice","component"],"sourceRoot":""}