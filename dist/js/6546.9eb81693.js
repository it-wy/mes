"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[6546],{86546:function(e,a,t){t.r(a),t.d(a,{default:function(){return c}});var r=function(){var e=this,a=e._self._c;return a("a-spin",{attrs:{spinning:e.loading}},[a("a-form-model",{ref:"form",attrs:{model:e.entity,rules:e.rules,autocomplete:"off",layout:"vertical"}},[a("div",{staticClass:"card"},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{sm:6}},[a("a-form-model-item",{ref:"resourceTypeName",attrs:{label:"设备类型名称",prop:"resourceTypeName"}},[a("a-input",{attrs:{placeholder:"请输入设备类型名称",name:"resourceTypeName"},on:{change:e.inChange},model:{value:e.entity.resourceTypeName,callback:function(a){e.$set(e.entity,"resourceTypeName",a)},expression:"entity.resourceTypeName"}})],1)],1),a("a-col",{attrs:{sm:6}},[a("a-form-model-item",{ref:"resourceFamilyId",attrs:{label:"所属设备家族",prop:"resourceFamilyId"}},[a("a-select",{attrs:{placeholder:"请选择所属设备家族",name:"resourceFamilyId"},model:{value:e.entity.resourceFamilyId,callback:function(a){e.$set(e.entity,"resourceFamilyId",a)},expression:"entity.resourceFamilyId"}},e._l(e.familyList,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1),a("a-col",{attrs:{sm:6}},[a("a-form-model-item",{ref:"manufacturer",attrs:{label:"制造商",prop:"manufacturer"}},[a("a-select",{attrs:{placeholder:"请选择制造商",name:"manufacturer",allowClear:"",options:e.manufacturerOptions},model:{value:e.entity.manufacturer,callback:function(a){e.$set(e.entity,"manufacturer",a)},expression:"entity.manufacturer"}})],1)],1),a("a-col",{attrs:{sm:6}},[a("a-form-model-item",{ref:"model",attrs:{label:"型号",prop:"model"}},[a("a-input",{attrs:{placeholder:"请输入型号",name:"model"},model:{value:e.entity.model,callback:function(a){e.$set(e.entity,"model",a)},expression:"entity.model"}})],1)],1),a("a-col",{attrs:{sm:6}},[a("a-form-model-item",{ref:"status",attrs:{label:"状态",prop:"status"}},[a("a-select",{attrs:{placeholder:"请选择状态",name:"status"},model:{value:e.entity.status,callback:function(a){e.$set(e.entity,"status",a)},expression:"entity.status"}},[a("a-select-option",{attrs:{value:"启用"}},[e._v("启用")]),a("a-select-option",{attrs:{value:"禁用"}},[e._v("禁用")])],1)],1)],1),a("a-col",{attrs:{sm:18}},[a("a-form-model-item",{ref:"specifications",attrs:{label:"规格参数",prop:"specifications"}},[a("a-input",{attrs:{placeholder:"请输入规格参数",name:"specifications"},model:{value:e.entity.specifications,callback:function(a){e.$set(e.entity,"specifications",a)},expression:"entity.specifications"}})],1)],1),a("a-col",{attrs:{sm:12}},[a("a-form-model-item",{attrs:{label:"描述",prop:"description"}},[a("a-textarea",{attrs:{placeholder:"请输入描述信息",rows:4,"max-length":1e3,name:"description"},model:{value:e.entity.description,callback:function(a){e.$set(e.entity,"description",a)},expression:"entity.description"}})],1)],1)],1)],1),a("g-collapse",{attrs:{headerName:"技术参数"},scopedSlots:e._u([{key:"content",fn:function(){return[a("a-form-model-item",{attrs:{label:""}},[a("div",{staticClass:"tech-params-tools"},[a("a-button",{staticStyle:{"margin-left":"8px"},attrs:{type:"default",size:"small"},on:{click:e.addTechParam}},[a("a-icon",{attrs:{type:"plus"}}),e._v(" 添加参数 ")],1)],1)]),a("a-table",{attrs:{columns:e.techParamColumns,"data-source":e.entity.techParams,pagination:!1,size:"small",bordered:""},scopedSlots:e._u([{key:"paramName",fn:function(t,r,s){return[a("a-input",{attrs:{placeholder:"参数名称"},model:{value:r.paramName,callback:function(a){e.$set(r,"paramName",a)},expression:"record.paramName"}})]}},{key:"paramValue",fn:function(t,r,s){return[a("a-input",{attrs:{placeholder:"参数值"},model:{value:r.paramValue,callback:function(a){e.$set(r,"paramValue",a)},expression:"record.paramValue"}})]}},{key:"action",fn:function(t,r,s){return[a("a-button",{attrs:{type:"link",danger:""},on:{click:function(a){return e.removeTechParam(s)}}},[a("a-icon",{attrs:{type:"delete"}}),e._v(" 删除 ")],1)]}}])})]},proxy:!0}])}),a("g-collapse",{attrs:{headerName:"详细信息"},scopedSlots:e._u([{key:"content",fn:function(){return[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{sm:6}},[a("a-form-model-item",{attrs:{label:"创建人"}},[a("span",[e._v(e._s(e.entity.createdBy||"未知"))])])],1),a("a-col",{attrs:{sm:6}},[a("a-form-model-item",{attrs:{label:"创建时间"}},[a("span",[e._v(e._s(e.entity.createdTime||"未知"))])])],1),a("a-col",{attrs:{sm:6}},[a("a-form-model-item",{attrs:{label:"修改人"}},[a("span",[e._v(e._s(e.entity.modifiedBy||"未知"))])])],1),a("a-col",{attrs:{sm:6}},[a("a-form-model-item",{attrs:{label:"修改时间"}},[a("span",[e._v(e._s(e.entity.modifiedTime||"未知"))])])],1)],1)]},proxy:!0}])})],1)],1)},s=[],i=t(36026),l={name:"CreateOrEditResourceType",mixins:[i.GE],data(){return{entity:{resourceTypeName:"",resourceFamilyId:"",manufacturer:"",model:"",specifications:"",status:"启用",description:"",techParams:[],createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""},familyList:[],manufacturerOptions:[{value:"华为",label:"华为"},{value:"思科",label:"思科"},{value:"惠普",label:"惠普"},{value:"戴尔",label:"戴尔"},{value:"IBM",label:"IBM"},{value:"联想",label:"联想"},{value:"浪潮",label:"浪潮"},{value:"新华三",label:"新华三"},{value:"锐捷",label:"锐捷"}],techParamColumns:[{title:"参数名称",dataIndex:"paramName",key:"paramName",width:"30%",scopedSlots:{customRender:"paramName"}},{title:"参数值",dataIndex:"paramValue",key:"paramValue",width:"50%",scopedSlots:{customRender:"paramValue"}},{title:"操作",dataIndex:"action",key:"action",width:"20%",scopedSlots:{customRender:"action"}}],rules:{resourceTypeName:[{required:!0,message:"设备类型名称不能为空",trigger:"change"},{pattern:/^[^\s]+(\s+[^\s]+)*$/,trigger:"change",message:"名称格式不正确，不能包含前后空格"}],resourceFamilyId:[{required:!0,message:"所属设备家族不能为空",trigger:"change"}],manufacturer:[{required:!0,message:"制造商不能为空",trigger:"change"}],model:[{required:!0,message:"型号不能为空",trigger:"change"}],status:[{required:!0,message:"状态不能为空",trigger:"change"}]}}},mounted(){this.getFamilyList()},methods:{getFamilyList(){setTimeout((()=>{this.familyList=[{id:1,name:"交换机"},{id:2,name:"路由器"},{id:3,name:"服务器"},{id:4,name:"存储设备"},{id:5,name:"防火墙"}]}),300)},addTechParam(){this.entity.techParams||(this.entity.techParams=[]),this.entity.techParams.push({key:Date.now(),paramName:"",paramValue:""})},removeTechParam(e){this.entity.techParams.splice(e,1)},init(){console.log(this.id,"初始化"),this.loading=!0,this.id?setTimeout((()=>{this.loading=!1,this.entity={resourceTypeName:"华为 S5820-32C-EI 交换机",resourceFamilyId:1,manufacturer:"华为",model:"S5820-32C-EI",specifications:"1U机架式，冗余电源，32个千兆电口，4个万兆光口",status:"启用",description:"华为S5820系列千兆企业交换机，适用于中大型企业网络核心层",techParams:[{key:1,paramName:"端口数量",paramValue:"32个GE电口 + 4个10GE SFP+光口"},{key:2,paramName:"交换容量",paramValue:"598Gbps"},{key:3,paramName:"包转发率",paramValue:"222Mpps"},{key:4,paramName:"MAC地址表",paramValue:"32K"},{key:5,paramName:"电源",paramValue:"交流100-240V 50/60Hz，冗余电源"}],createdBy:"admin",createdTime:"2025-03-18 10:30",modifiedBy:"admin",modifiedTime:"2025-03-18 11:55"}}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={resourceTypeName:"",resourceFamilyId:"",manufacturer:"",model:"",specifications:"",status:"启用",description:"",techParams:[],createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""}},async save(){let e=await this.checkError();e&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.resourceTypeName),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})}),500))},inChange(e){console.log(e.target.value)}}},o=l,n=t(1001),m=(0,n.Z)(o,r,s,!1,null,"09feb860",null),c=m.exports}}]);
//# sourceMappingURL=6546.9eb81693.js.map