{"version":3,"file":"js/8277.180ea83d.js","mappings":"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","sources":["webpack://data-v2/./src/views/resource-operation-manager/resource-throughput-report-work/resource-throughput-report-work.vue?987f","webpack://data-v2/src/views/resource-operation-manager/resource-throughput-report-work/resource-throughput-report-work.vue","webpack://data-v2/./src/views/resource-operation-manager/resource-throughput-report-work/resource-throughput-report-work.vue?baba","webpack://data-v2/./src/views/resource-operation-manager/resource-throughput-report-work/resource-throughput-report-work.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('a-form-model',{ref:\"form\",staticClass:\"h-father\",attrs:{\"model\":_vm.entity,\"layout\":\"vertical\",\"autocomplete\":\"off\",\"rules\":_vm.rules}},[_c('g-body-form-layout',{scopedSlots:_vm._u([{key:\"search-card\",fn:function(){return [_c('div',{staticClass:\"search-card\"},[_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"span\":4}},[_c('a-form-model-item',{attrs:{\"label\":\"设备组\",\"prop\":\"deviceGroupName\"}},[_c('g-select',{attrs:{\"placeholder\":\"请选择设备组\"},model:{value:(_vm.entity.deviceGroupName),callback:function ($$v) {_vm.$set(_vm.entity, \"deviceGroupName\", $$v)},expression:\"entity.deviceGroupName\"}},_vm._l((_vm.deviceGroupOptions),function(item){return _c('a-select-option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('a-col',{attrs:{\"span\":4}},[_c('a-form-model-item',{attrs:{\"label\":\"设备\",\"prop\":\"deviceName\"}},[_c('g-select',{attrs:{\"placeholder\":\"请选择设备\"},model:{value:(_vm.entity.deviceName),callback:function ($$v) {_vm.$set(_vm.entity, \"deviceName\", $$v)},expression:\"entity.deviceName\"}},_vm._l((_vm.deviceOptions),function(item){return _c('a-select-option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"时间范围\",\"prop\":\"timeRange\"}},[_c('a-range-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"show-time\":\"\",\"format\":\"YYYY-MM-DD HH:mm:ss\"},on:{\"change\":_vm.onTimeRangeChange},model:{value:(_vm.entity.timeRange),callback:function ($$v) {_vm.$set(_vm.entity, \"timeRange\", $$v)},expression:\"entity.timeRange\"}})],1)],1),_c('a-col',{attrs:{\"span\":4}},[_c('a-form-model-item',{attrs:{\"label\":\"时间粒度\",\"prop\":\"timeGranularity\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择时间粒度\"},on:{\"change\":_vm.onTimeGranularityChange},model:{value:(_vm.entity.timeGranularity),callback:function ($$v) {_vm.$set(_vm.entity, \"timeGranularity\", $$v)},expression:\"entity.timeGranularity\"}},[_c('a-select-option',{attrs:{\"value\":\"minute\"}},[_vm._v(\"每分钟\")]),_c('a-select-option',{attrs:{\"value\":\"hour\"}},[_vm._v(\"每小时\")]),_c('a-select-option',{attrs:{\"value\":\"day\"}},[_vm._v(\"每天\")])],1)],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"align-items\":\"center\",\"height\":\"100%\"}},[_c('g-btn-group',{attrs:{\"buttonLists\":_vm.btnList},on:{\"btnCallback\":function($event){return _vm.btnCallback($event)}}})],1)])],1)],1)]},proxy:true},{key:\"card-body\",fn:function(){return [_c('div',{staticClass:\"card-body\"},[_c('g-collapse',{attrs:{\"headerName\":\"吞吐量数据\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('div',{ref:\"chart\",staticStyle:{\"width\":\"100%\",\"height\":\"400px\"}}),_c('a-table',{attrs:{\"columns\":_vm.columns,\"data-source\":_vm.dataList,\"pagination\":false},scopedSlots:_vm._u([{key:\"time\",fn:function(text){return _c('span',{},[_vm._v(_vm._s(_vm.formatTime(text)))])}}])})]},proxy:true}])})],1)]},proxy:true},{key:\"g-fixed-row\",fn:function(){return [_c('div',{staticClass:\"g-fixed-row\"},[_c('g-btn',{attrs:{\"size\":\"large\",\"text\":\"刷新\"},on:{\"callback\":function($event){return _vm.refresh()}}}),_c('g-btn',{attrs:{\"size\":\"large\",\"text\":\"导出\",\"type\":\"primary\"},on:{\"callback\":function($event){return _vm.exportData()}}})],1)]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <a-form-model\r\n      ref=\"form\"\r\n      :model=\"entity\"\r\n      layout=\"vertical\"\r\n      autocomplete=\"off\"\r\n      :rules=\"rules\"\r\n      class=\"h-father\"\r\n    >\r\n      <g-body-form-layout>\r\n        <!-- 搜索插槽 -->\r\n        <template #search-card>\r\n          <div class=\"search-card\">\r\n            <a-row :gutter=\"24\">\r\n              <a-col :span=\"4\">\r\n                <!-- 设备组 -->\r\n                <a-form-model-item label=\"设备组\" prop=\"deviceGroupName\">\r\n                  <g-select\r\n                    v-model=\"entity.deviceGroupName\"\r\n                    placeholder=\"请选择设备组\"\r\n                  >\r\n                    <a-select-option\r\n                      v-for=\"item in deviceGroupOptions\"\r\n                      :key=\"item.value\"\r\n                      :value=\"item.value\"\r\n                    >{{ item.label }}</a-select-option>\r\n                  </g-select>\r\n                </a-form-model-item>\r\n              </a-col>\r\n              <!-- 设备 -->\r\n              <a-col :span=\"4\">\r\n                <a-form-model-item label=\"设备\" prop=\"deviceName\">\r\n                  <g-select\r\n                    v-model=\"entity.deviceName\"\r\n                    placeholder=\"请选择设备\"\r\n                  >\r\n                    <a-select-option\r\n                      v-for=\"item in deviceOptions\"\r\n                      :key=\"item.value\"\r\n                      :value=\"item.value\"\r\n                    >{{ item.label }}</a-select-option>\r\n                  </g-select>\r\n                </a-form-model-item>\r\n              </a-col>\r\n              <a-col :span=\"6\">\r\n                <!-- 时间范围 -->\r\n                <a-form-model-item label=\"时间范围\" prop=\"timeRange\">\r\n                  <a-range-picker\r\n                    v-model=\"entity.timeRange\"\r\n                    style=\"width: 100%\"\r\n                    show-time\r\n                    format=\"YYYY-MM-DD HH:mm:ss\"\r\n                    @change=\"onTimeRangeChange\"\r\n                  />\r\n                </a-form-model-item>\r\n              </a-col>\r\n              <a-col :span=\"4\">\r\n                <!-- 时间粒度 -->\r\n                <a-form-model-item label=\"时间粒度\" prop=\"timeGranularity\">\r\n                  <a-select\r\n                    v-model=\"entity.timeGranularity\"\r\n                    placeholder=\"请选择时间粒度\"\r\n                    @change=\"onTimeGranularityChange\"\r\n                  >\r\n                    <a-select-option value=\"minute\">每分钟</a-select-option>\r\n                    <a-select-option value=\"hour\">每小时</a-select-option>\r\n                    <a-select-option value=\"day\">每天</a-select-option>\r\n                  </a-select>\r\n                </a-form-model-item>\r\n              </a-col>\r\n              <a-col :span=\"6\">\r\n                <div\r\n                  style=\"\r\n                    display: flex;\r\n                    justify-content: flex-end;\r\n                    align-items: center;\r\n                    height: 100%;\r\n                  \"\r\n                >\r\n                  <g-btn-group\r\n                    :buttonLists=\"btnList\"\r\n                    @btnCallback=\"btnCallback($event)\"\r\n                  ></g-btn-group>\r\n                </div>\r\n              </a-col>\r\n            </a-row>\r\n          </div>\r\n        </template>\r\n        <!-- 展开插槽 -->\r\n        <template #card-body>\r\n          <div class=\"card-body\">\r\n            <g-collapse headerName=\"吞吐量数据\">\r\n              <template #content>\r\n                <!-- 图表 -->\r\n                <div ref=\"chart\" style=\"width: 100%; height: 400px\"></div>\r\n                <!-- 数据表格 -->\r\n                <a-table :columns=\"columns\" :data-source=\"dataList\" :pagination=\"false\">\r\n                  <span slot=\"time\" slot-scope=\"text\">{{ formatTime(text) }}</span>\r\n                </a-table>\r\n              </template>\r\n            </g-collapse>\r\n          </div>\r\n        </template>\r\n        <template #g-fixed-row>\r\n          <div class=\"g-fixed-row\">\r\n            <g-btn size=\"large\" text=\"刷新\" @callback=\"refresh()\"></g-btn>\r\n            <g-btn size=\"large\" text=\"导出\" type=\"primary\" @callback=\"exportData()\"></g-btn>\r\n          </div>\r\n        </template>\r\n      </g-body-form-layout>\r\n    </a-form-model>\r\n  </template>\r\n  \r\n  <script>\r\n  import * as echarts from \"echarts\";\r\n  import moment from \"moment\";\r\n  import AppConst from \"@/utils/appConst\";\r\n  \r\n  export default {\r\n    name: \"EquipmentThroughput\",\r\n  \r\n    data() {\r\n      return {\r\n        entity: {\r\n          deviceGroupName: \"\",\r\n          deviceName: \"\",\r\n          timeRange: [],\r\n          timeGranularity: \"hour\", // 默认时间粒度为每小时\r\n        },\r\n        rules: {\r\n          deviceName: [\r\n            { required: true, message: \"请选择设备\", trigger: \"change\" },\r\n          ],\r\n          timeRange: [\r\n            { required: true, message: \"请选择时间范围\", trigger: \"change\" },\r\n          ],\r\n          timeGranularity: [\r\n            { required: true, message: \"请选择时间粒度\", trigger: \"change\" },\r\n          ],\r\n        },\r\n        deviceGroupOptions: [], // 设备组选项\r\n        deviceOptions: [], // 设备选项\r\n        btnList: [\r\n          {\r\n            icon: AppConst.icon.documentShow,\r\n            text: AppConst.button.documentShow,\r\n            eventName: AppConst.button.documentShow,\r\n            display: true,\r\n          },\r\n        ],\r\n        chart: null, // ECharts 实例\r\n        dataList: [], // 表格数据\r\n        columns: [\r\n          // 表格列定义\r\n          {\r\n            title: \"时间\",\r\n            dataIndex: \"time\",\r\n            key: \"time\",\r\n            scopedSlots: { customRender: \"time\" },\r\n          },\r\n          {\r\n            title: \"吞吐量\",\r\n            dataIndex: \"throughput\",\r\n            key: \"throughput\",\r\n          },\r\n        ],\r\n      };\r\n    },\r\n  \r\n    mounted() {\r\n      this.loadDeviceGroups(); // 加载设备组\r\n      // 模拟数据\r\n      this.refresh();\r\n      this.$nextTick(() => {\r\n        this.initChart();\r\n      });\r\n    },\r\n  \r\n    beforeDestroy() {\r\n      if (this.chart) {\r\n        this.chart.dispose();\r\n      }\r\n    },\r\n  \r\n    methods: {\r\n      // 初始化 ECharts 图表\r\n      initChart() {\r\n        this.chart = echarts.init(this.$refs.chart);\r\n        // 可以设置一些通用的图表配置\r\n        this.chart.setOption({\r\n          title: {\r\n            text: \"设备吞吐量\",\r\n          },\r\n          tooltip: {\r\n            trigger: \"axis\",\r\n          },\r\n          legend: {\r\n            data: [\"吞吐量\"],\r\n          },\r\n          xAxis: {\r\n            type: \"category\",\r\n            data: ['1','2','3','4','5','6','7','8','9','10'], // 时间轴数据\r\n          },\r\n          yAxis: {\r\n            type: \"value\",\r\n            name: \"吞吐量\",\r\n          },\r\n          series: [\r\n            {\r\n              name: \"吞吐量\",\r\n              type: \"line\", // 或 'bar'\r\n              data: [10, 20, 30, 40, 50, 60, 70, 80, 90, 100], // 吞吐量数据\r\n            },\r\n          ],\r\n        });\r\n      },\r\n  \r\n      // 加载设备组数据\r\n      loadDeviceGroups() {\r\n        // 模拟从后端获取设备组数据\r\n        setTimeout(() => {\r\n          this.deviceGroupOptions = [\r\n            { value: \"group1\", label: \"设备组1\" },\r\n            { value: \"group2\", label: \"设备组2\" },\r\n          ];\r\n        }, 500);\r\n      },\r\n  \r\n      // 当设备组变化时，加载对应的设备\r\n      onDeviceGroupChange(value) {\r\n        // 模拟根据设备组获取设备数据\r\n        setTimeout(() => {\r\n          if (value === \"group1\") {\r\n            this.deviceOptions = [\r\n              { value: \"device1\", label: \"设备1\" },\r\n              { value: \"device2\", label: \"设备2\" },\r\n            ];\r\n          } else if (value === \"group2\") {\r\n            this.deviceOptions = [\r\n              { value: \"device3\", label: \"设备3\" },\r\n              { value: \"device4\", label: \"设备4\" },\r\n            ];\r\n          } else {\r\n            this.deviceOptions = [];\r\n          }\r\n        }, 500);\r\n      },\r\n  \r\n      // 时间范围变化\r\n      onTimeRangeChange(value) {\r\n        this.entity.timeRange = value;\r\n        this.refresh();\r\n      },\r\n  \r\n      // 时间粒度变化\r\n      onTimeGranularityChange(value) {\r\n        this.entity.timeGranularity = value;\r\n        this.refresh();\r\n      },\r\n  \r\n      // 刷新数据\r\n      refresh() {\r\n        this.$refs.form.validate().then((valid) => {\r\n          if (!valid) {\r\n            return;\r\n          }\r\n  \r\n          // 模拟从后端获取数据\r\n          setTimeout(() => {\r\n            const startTime = this.entity.timeRange[0];\r\n            const endTime = this.entity.timeRange[1];\r\n            const timeGranularity = this.entity.timeGranularity;\r\n  \r\n            let currentTime = moment(startTime);\r\n            const dataList = [];\r\n            const xAxisData = [];\r\n            const seriesData = [];\r\n  \r\n            while (currentTime <= moment(endTime)) {\r\n              const time = currentTime.valueOf(); // 使用数值时间戳\r\n              const throughput = Math.floor(Math.random() * 100); // 模拟吞吐量数据\r\n  \r\n              dataList.push({\r\n                time: time,\r\n                throughput: throughput,\r\n              });\r\n              xAxisData.push(this.formatTime(time));\r\n              seriesData.push(throughput);\r\n  \r\n              // 根据时间粒度增加时间\r\n              if (timeGranularity === \"minute\") {\r\n                currentTime.add(1, \"minutes\");\r\n              } else if (timeGranularity === \"hour\") {\r\n                currentTime.add(1, \"hours\");\r\n              } else if (timeGranularity === \"day\") {\r\n                currentTime.add(1, \"days\");\r\n              }\r\n            }\r\n  \r\n            this.dataList = dataList;\r\n  \r\n            // 更新图表数据\r\n            this.chart.setOption({\r\n              xAxis: {\r\n                data: xAxisData,\r\n              },\r\n              series: [\r\n                {\r\n                  data: seriesData,\r\n                },\r\n              ],\r\n            });\r\n          }, 500);\r\n        });\r\n      },\r\n  \r\n      // 格式化时间\r\n      formatTime(timestamp) {\r\n        const timeGranularity = this.entity.timeGranularity;\r\n        if (timeGranularity === \"minute\") {\r\n          return moment(timestamp).format(\"YYYY-MM-DD HH:mm\");\r\n        } else if (timeGranularity === \"hour\") {\r\n          return moment(timestamp).format(\"YYYY-MM-DD HH:00\");\r\n        } else if (timeGranularity === \"day\") {\r\n          return moment(timestamp).format(\"YYYY-MM-DD\");\r\n        }\r\n        return moment(timestamp).format(\"YYYY-MM-DD HH:mm:ss\");\r\n      },\r\n  \r\n      // 导出数据\r\n      exportData() {\r\n        // 实现导出逻辑，例如使用 XLSX 库将 dataList 导出为 Excel 文件\r\n        console.log(\"导出数据\", this.dataList);\r\n      },\r\n      btnCallback(e){\r\n          console.log(e);\r\n      }\r\n    },\r\n    watch: {\r\n      \"entity.deviceGroupName\"(val) {\r\n        this.onDeviceGroupChange(val);\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped></style>","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./resource-throughput-report-work.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./resource-throughput-report-work.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./resource-throughput-report-work.vue?vue&type=template&id=6f00f55d&scoped=true\"\nimport script from \"./resource-throughput-report-work.vue?vue&type=script&lang=js\"\nexport * from \"./resource-throughput-report-work.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f00f55d\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","staticClass","attrs","entity","rules","scopedSlots","_u","key","fn","model","value","callback","$$v","$set","expression","_l","item","_v","_s","label","staticStyle","on","onTimeRangeChange","onTimeGranularityChange","btnList","$event","btnCallback","proxy","columns","dataList","text","formatTime","refresh","exportData","staticRenderFns","name","data","deviceGroupName","deviceName","timeRange","timeGranularity","required","message","trigger","deviceGroupOptions","deviceOptions","icon","documentShow","button","eventName","display","chart","title","dataIndex","customRender","mounted","loadDeviceGroups","$nextTick","initChart","beforeDestroy","dispose","methods","echarts","$refs","setOption","tooltip","legend","xAxis","type","yAxis","series","setTimeout","onDeviceGroupChange","form","validate","then","valid","startTime","endTime","currentTime","xAxisData","seriesData","time","valueOf","throughput","Math","floor","random","push","add","timestamp","format","console","log","e","watch","val","component"],"sourceRoot":""}