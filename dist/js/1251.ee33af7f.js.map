{"version":3,"file":"js/1251.ee33af7f.js","mappings":"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","sources":["webpack://data-v2/./src/views/scrap-module/scrap-classification/create-or-edit-scrap-classification/create-or-edit-scrap-classification.vue?1e8b","webpack://data-v2/src/views/scrap-module/scrap-classification/create-or-edit-scrap-classification/create-or-edit-scrap-classification.vue","webpack://data-v2/./src/views/scrap-module/scrap-classification/create-or-edit-scrap-classification/create-or-edit-scrap-classification.vue?0d7c","webpack://data-v2/./src/views/scrap-module/scrap-classification/create-or-edit-scrap-classification/create-or-edit-scrap-classification.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('a-spin',{attrs:{\"spinning\":_vm.loading}},[_c('a-form-model',{ref:\"form\",attrs:{\"model\":_vm.entity,\"rules\":_vm.rules,\"autocomplete\":\"off\",\"layout\":\"vertical\"}},[_c('div',{staticClass:\"card\"},[_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"sm\":6}},[_c('a-form-model-item',{ref:\"scrapCategoryName\",attrs:{\"label\":\"报废分类名称\",\"prop\":\"scrapCategoryName\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入报废分类名称\",\"name\":\"scrapCategoryName\"},on:{\"change\":_vm.inChange},model:{value:(_vm.entity.scrapCategoryName),callback:function ($$v) {_vm.$set(_vm.entity, \"scrapCategoryName\", $$v)},expression:\"entity.scrapCategoryName\"}})],1)],1),_c('a-col',{attrs:{\"sm\":12}},[_c('a-form-model-item',{attrs:{\"label\":\"描述\",\"prop\":\"description\"}},[_c('a-textarea',{attrs:{\"placeholder\":\"描述\",\"rows\":4,\"max-length\":1000,\"name\":\"description\"},model:{value:(_vm.entity.description),callback:function ($$v) {_vm.$set(_vm.entity, \"description\", $$v)},expression:\"entity.description\"}})],1)],1)],1)],1),_c('g-collapse',{attrs:{\"headerName\":\"报废原因\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('a-table',{attrs:{\"columns\":_vm.columns,\"data-source\":_vm.reasons,\"bordered\":\"\",\"rowKey\":\"reasonId\"},scopedSlots:_vm._u([{key:\"reasonName\",fn:function(text, record){return [_c('a-input',{model:{value:(record.reasonName),callback:function ($$v) {_vm.$set(record, \"reasonName\", $$v)},expression:\"record.reasonName\"}})]}},{key:\"enabled\",fn:function(text, record){return [_c('a-switch',{model:{value:(record.enabled),callback:function ($$v) {_vm.$set(record, \"enabled\", $$v)},expression:\"record.enabled\"}})]}},{key:\"remark\",fn:function(text, record){return [_c('a-input',{model:{value:(record.remark),callback:function ($$v) {_vm.$set(record, \"remark\", $$v)},expression:\"record.remark\"}})]}},{key:\"operation\",fn:function(text, record){return [_c('a-space',[_c('a-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.editReason(record)}}},[_vm._v(\" 编辑 \")]),_c('a-popconfirm',{attrs:{\"title\":\"确定删除吗?\"},on:{\"confirm\":function($event){return _vm.deleteReason(record.reasonId)}}},[_c('a-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"}},[_vm._v(\" 删除 \")])],1)],1)]}}])}),_c('a-space',[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addReason}},[_vm._v(\"新增原因\")]),_c('a-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.batchDeleteReasons}},[_vm._v(\"批量删除\")])],1)]},proxy:true}])}),_c('g-collapse',{attrs:{\"headerName\":\"测试\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"sm\":6}},[_c('span',[_vm._v(\"admin\")])]),_c('a-col',{attrs:{\"sm\":6}},[_c('span',[_vm._v(\" 2025-04-20 15:00\")])])],1)]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <a-spin :spinning=\"loading\">\r\n      <a-form-model\r\n        ref=\"form\"\r\n        :model=\"entity\"\r\n        :rules=\"rules\"\r\n        autocomplete=\"off\"\r\n        layout=\"vertical\"\r\n      >\r\n        <div class=\"card\">\r\n          <a-row :gutter=\"24\">\r\n            <a-col :sm=\"6\">\r\n              <!-- 提示信息 -->\r\n              <a-form-model-item\r\n                label=\"报废分类名称\"\r\n                prop=\"scrapCategoryName\"\r\n                ref=\"scrapCategoryName\"\r\n              >\r\n                <a-input\r\n                  v-model=\"entity.scrapCategoryName\"\r\n                  placeholder=\"请输入报废分类名称\"\r\n                  name=\"scrapCategoryName\"\r\n                  @change=\"inChange\"\r\n                ></a-input>\r\n              </a-form-model-item>\r\n            </a-col>\r\n            <a-col :sm=\"12\">\r\n              <a-form-model-item label=\"描述\" prop=\"description\">\r\n                <a-textarea\r\n                  v-model:value=\"entity.description\"\r\n                  placeholder=\"描述\"\r\n                  :rows=\"4\"\r\n                  :max-length=\"1000\"\r\n                  name=\"description\"\r\n                />\r\n              </a-form-model-item>\r\n            </a-col>\r\n          </a-row>\r\n        </div>\r\n        <!-- 报废原因表格 -->\r\n         <g-collapse headerName=\"报废原因\">\r\n            <template #content>\r\n                <a-table :columns=\"columns\" :data-source=\"reasons\" bordered rowKey=\"reasonId\">\r\n                    <template slot=\"reasonName\" slot-scope=\"text, record\">\r\n                      <a-input v-model:value=\"record.reasonName\" />\r\n                    </template>\r\n                    <template slot=\"enabled\" slot-scope=\"text, record\">\r\n                      <a-switch v-model:checked=\"record.enabled\" />\r\n                    </template>\r\n                    <template slot=\"remark\" slot-scope=\"text, record\">\r\n                      <a-input v-model:value=\"record.remark\" />\r\n                    </template>\r\n                    <template slot=\"operation\" slot-scope=\"text, record\">\r\n                      <a-space>\r\n                        <a-button type=\"primary\" size=\"small\" @click=\"editReason(record)\">\r\n                          编辑\r\n                        </a-button>\r\n                        <a-popconfirm\r\n                          title=\"确定删除吗?\"\r\n                          @confirm=\"deleteReason(record.reasonId)\"\r\n                        >\r\n                          <a-button type=\"danger\" size=\"small\">\r\n                            删除\r\n                          </a-button>\r\n                        </a-popconfirm>\r\n                      </a-space>\r\n                    </template>\r\n                </a-table>\r\n                <a-space>\r\n                  <a-button type=\"primary\" @click=\"addReason\">新增原因</a-button>\r\n                  <a-button type=\"danger\" @click=\"batchDeleteReasons\">批量删除</a-button>\r\n                </a-space>\r\n            </template>\r\n         </g-collapse>\r\n        <g-collapse headerName=\"测试\">\r\n          <template #content>\r\n            <a-row :gutter=\"24\">\r\n              <a-col :sm=\"6\">\r\n                <!-- 创建人 -->\r\n                <span>admin</span>\r\n              </a-col>\r\n              <a-col :sm=\"6\">\r\n                <!-- 最近修改时间 -->\r\n                <span> 2025-04-20 15:00</span>\r\n              </a-col>\r\n            </a-row>\r\n          </template>\r\n        </g-collapse>\r\n      </a-form-model>\r\n    </a-spin>\r\n  </template>\r\n  \r\n  <script>\r\n  import { GNdoPageEditBase } from \"@/utils\";\r\n  export default {\r\n    name: \"CreateOrEditScrapCategory\",\r\n    mixins: [GNdoPageEditBase],\r\n    data() {\r\n      return {\r\n        entity: {\r\n          scrapCategoryName: \"\",\r\n        },\r\n        rules: {\r\n          scrapCategoryName: [\r\n            { required: true, message: \"不能为空\", trigger: \"change\" },\r\n            {\r\n              pattern: /^[^\\s]+(\\s+[^\\s]+)*$/,\r\n              trigger: \"change\",\r\n              message: \"报废分类名称不能包含空格\",\r\n            },\r\n          ],\r\n        },\r\n         // 报废原因表格列定义\r\n         columns: [\r\n          {\r\n            title: \"原因ID\",\r\n            dataIndex: \"reasonId\",\r\n            key: \"reasonId\",\r\n            // hidden: true, // 隐藏列\r\n          },\r\n          {\r\n            title: \"原因名称\",\r\n            dataIndex: \"reasonName\",\r\n            key: \"reasonName\",\r\n            width: '30%',\r\n            align: 'center',\r\n            scopedSlots: {\r\n              customRender: 'reasonName'\r\n            }\r\n          },\r\n          {\r\n            title: \"是否启用\",\r\n            dataIndex: \"enabled\",\r\n            key: \"enabled\",\r\n            width: '20%',\r\n            align: 'center',\r\n            scopedSlots: {\r\n              customRender: 'enabled'\r\n            }\r\n          },\r\n          {\r\n            title: \"备注\",\r\n            dataIndex: \"remark\",\r\n            key: \"remark\",\r\n            align: 'center',\r\n            scopedSlots: {\r\n              customRender: 'remark'\r\n            }\r\n          },\r\n          {\r\n            title: '操作',\r\n            dataIndex: 'operation',\r\n            key: 'operation',\r\n            width: '20%',\r\n            align: 'center',\r\n            scopedSlots: {\r\n              customRender: 'operation'\r\n            }\r\n          },\r\n        ],\r\n        reasons: [\r\n            {\r\n                reasonId: 1,\r\n                reasonName: \"原因1\",\r\n                enabled: true,\r\n                remark: \"备注1\",\r\n            },\r\n            \r\n        ],\r\n      };\r\n    },\r\n  \r\n    mounted() {},\r\n  \r\n    methods: {\r\n      // 初始化\r\n      init() {\r\n        console.log(this.id, \"初始化\");\r\n        this.loading = true;\r\n        if (this.id) {\r\n          // 模拟请求\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n  \r\n            this.entity = {\r\n              scrapCategoryName: \"测试\",\r\n              description: \"描述\",\r\n            };\r\n          }, 500);\r\n        } else {\r\n          this.reset();\r\n          this.loading = false;\r\n        }\r\n      },\r\n      resetFormData() {\r\n        // 重置表单绑定的数据源\r\n        this.entity = {\r\n          scrapCategoryName: \"\",\r\n        };\r\n      },\r\n      editReason(record) {\r\n        console.log(\"编辑原因\", record);\r\n        // 复制一份 record，避免直接修改原始数据\r\n        this.currentReason = { ...record };\r\n        this.editModalVisible = true;\r\n      },\r\n      addReason() {\r\n        console.log(\"新增原因\");\r\n        // 添加一个新对象到 reasons 数组\r\n        this.reasons.push({\r\n          reasonId: this.reasons.length + 1,\r\n          reasonName: \"\",\r\n          enabled: true,\r\n          remark: \"\",\r\n        });\r\n      },\r\n      batchDeleteReasons() {\r\n        console.log(\"批量删除原因\");\r\n        // 删除所有选中的原因\r\n        this.reasons = this.reasons.filter(reason => !reason.selected);\r\n      },\r\n      deleteReason(reasonId) {\r\n        console.log(\"删除原因\", reasonId);\r\n        // 删除指定原因\r\n        this.reasons = this.reasons.filter(reason => reason.reasonId !== reasonId);\r\n      },\r\n      async save() {\r\n        // 保存 校验\r\n        let res = await this.checkError();\r\n        if (res) {\r\n          this.loading = true;\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n            this.saveSuccess(this.entity.scrapCategoryName);\r\n            this.handleSaveEndBackView(this.id);\r\n            this.refreshParent({\r\n              reset: null,\r\n            });\r\n          });\r\n        }\r\n      },\r\n  \r\n      inChange(e) {\r\n        console.log(e.target.value);\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped></style>","import mod from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./create-or-edit-scrap-classification.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./create-or-edit-scrap-classification.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./create-or-edit-scrap-classification.vue?vue&type=template&id=ac562f3e&scoped=true\"\nimport script from \"./create-or-edit-scrap-classification.vue?vue&type=script&lang=js\"\nexport * from \"./create-or-edit-scrap-classification.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ac562f3e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","loading","ref","entity","rules","staticClass","on","inChange","model","value","callback","$$v","$set","expression","scopedSlots","_u","key","fn","columns","reasons","text","record","$event","editReason","_v","deleteReason","reasonId","addReason","batchDeleteReasons","proxy","staticRenderFns","name","mixins","data","scrapCategoryName","required","message","trigger","pattern","title","dataIndex","width","align","customRender","reasonName","enabled","remark","mounted","methods","init","console","log","id","setTimeout","description","reset","resetFormData","currentReason","editModalVisible","push","length","filter","reason","selected","save","res","checkError","saveSuccess","handleSaveEndBackView","refreshParent","e","target","component"],"sourceRoot":""}