{"version":3,"file":"js/5133.6300c10a.js","mappings":"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","sources":["webpack://data-v2/./src/components/g-sign-modal/g-sign-modal.vue?0ab2","webpack://data-v2/src/components/g-sign-modal/g-sign-modal.vue","webpack://data-v2/./src/components/g-sign-modal/g-sign-modal.vue?4880","webpack://data-v2/./src/components/g-sign-modal/g-sign-modal.vue","webpack://data-v2/./src/views/resource-operation-manager/resource-fault-report/resource-fault-report.vue?35a5","webpack://data-v2/src/views/resource-operation-manager/resource-fault-report/resource-fault-report.vue","webpack://data-v2/./src/views/resource-operation-manager/resource-fault-report/resource-fault-report.vue?9106","webpack://data-v2/./src/views/resource-operation-manager/resource-fault-report/resource-fault-report.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"sign-container\"},[_c('h3',{staticClass:\"sign-title\"},[_vm._v(_vm._s(_vm.title || '请在下方区域签名'))]),_c('g-sign',{ref:\"signBoard\",attrs:{\"line-width\":_vm.lineWidth,\"line-color\":_vm.lineColor,\"background-color\":_vm.backgroundColor,\"save-format\":_vm.saveFormat},on:{\"save\":_vm.handleSave,\"clear\":_vm.handleClear,\"save-error\":_vm.handleError}})],1)]),_c('div',{staticClass:\"modal-footer\"},[_c('g-btn',{attrs:{\"text\":\"确认\",\"type\":\"primary\"},on:{\"callback\":_vm.save}}),_c('g-btn',{attrs:{\"text\":\"取消\"},on:{\"callback\":function($event){return _vm.$emit('closeModal')}}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modal\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"sign-container\">\r\n        <h3 class=\"sign-title\">{{ title || '请在下方区域签名' }}</h3>\r\n        <g-sign\r\n          ref=\"signBoard\"\r\n          :line-width=\"lineWidth\"\r\n          :line-color=\"lineColor\"\r\n          :background-color=\"backgroundColor\"\r\n          :save-format=\"saveFormat\"\r\n          @save=\"handleSave\"\r\n          @clear=\"handleClear\"\r\n          @save-error=\"handleError\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <g-btn text=\"确认\" @callback=\"save\" type=\"primary\"></g-btn>\r\n      <g-btn text=\"取消\" @callback=\"$emit('closeModal')\"></g-btn>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport GSign from '@/components/g-sign/g-sign.vue';\r\n\r\nexport default {\r\n  name: \"GSignModal\",\r\n  components: {\r\n    GSign\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    lineWidth: {\r\n      type: Number,\r\n      default: 2\r\n    },\r\n    lineColor: {\r\n      type: String,\r\n      default: '#000000'\r\n    },\r\n    backgroundColor: {\r\n      type: String,\r\n      default: '#ffffff'\r\n    },\r\n    saveFormat: {\r\n      type: String,\r\n      default: 'png',\r\n      validator: (value) => ['png', 'jpeg', 'webp'].includes(value)\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      signatureData: null,\r\n      hasSignature: false\r\n    };\r\n  },\r\n  methods: {\r\n    handleSave(imageData) {\r\n      this.signatureData = imageData;\r\n      this.hasSignature = true;\r\n    },\r\n    \r\n    handleClear() {\r\n      this.signatureData = null;\r\n      this.hasSignature = false;\r\n    },\r\n    \r\n    handleError(message) {\r\n      this.$message.error(message);\r\n    },\r\n    \r\n    save() {\r\n      if (!this.hasSignature) {\r\n        this.$message.error('请先进行签名');\r\n        return;\r\n      }\r\n      \r\n      this.$emit('success', this.signatureData);\r\n      this.$emit('closeModal');\r\n    },\r\n    \r\n    clearSignature() {\r\n      if (this.$refs.signBoard) {\r\n        this.$refs.signBoard.clearCanvas();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n.modal-content {\r\n  flex: 1;\r\n  padding: 20px;\r\n  overflow: auto;\r\n}\r\n\r\n.sign-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n\r\n.sign-title {\r\n  margin-top: 0;\r\n  margin-bottom: 16px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\n.modal-footer {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: 12px 20px;\r\n  border-top: 1px solid #e8e8e8;\r\n  \r\n  :deep(.g-btn) {\r\n    margin-left: 8px;\r\n  }\r\n}\r\n</style> ","import mod from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./g-sign-modal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./g-sign-modal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./g-sign-modal.vue?vue&type=template&id=e39a081c&scoped=true\"\nimport script from \"./g-sign-modal.vue?vue&type=script&lang=js\"\nexport * from \"./g-sign-modal.vue?vue&type=script&lang=js\"\nimport style0 from \"./g-sign-modal.vue?vue&type=style&index=0&id=e39a081c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e39a081c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('a-form-model',{ref:\"form\",staticClass:\"h-father\",attrs:{\"model\":_vm.entity,\"layout\":\"vertical\",\"autocomplete\":\"off\",\"rules\":_vm.rules}},[_c('g-body-form-layout',{scopedSlots:_vm._u([{key:\"search-card\",fn:function(){return [_c('div',{staticClass:\"search-card\"},[_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"span\":4}},[_c('a-form-model-item',{attrs:{\"label\":\"设备组\",\"prop\":\"deviceGroupName\"}},[_c('g-select',{attrs:{\"placeholder\":\"请选择设备组\"},model:{value:(_vm.entity.deviceGroupName),callback:function ($$v) {_vm.$set(_vm.entity, \"deviceGroupName\", $$v)},expression:\"entity.deviceGroupName\"}},_vm._l((_vm.deviceGroupOptions),function(item){return _c('a-select-option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('a-col',{attrs:{\"span\":4}},[_c('a-form-model-item',{attrs:{\"label\":\"设备\",\"prop\":\"deviceName\"}},[_c('g-select',{attrs:{\"placeholder\":\"请选择设备\"},model:{value:(_vm.entity.deviceName),callback:function ($$v) {_vm.$set(_vm.entity, \"deviceName\", $$v)},expression:\"entity.deviceName\"}},_vm._l((_vm.deviceOptions),function(item){return _c('a-select-option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1)],1)],1)]},proxy:true},{key:\"card-body\",fn:function(){return [_c('g-collapse',{attrs:{\"headerName\":\"故障信息\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"故障类型\",\"prop\":\"faultType\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择故障类型\"},model:{value:(_vm.entity.faultType),callback:function ($$v) {_vm.$set(_vm.entity, \"faultType\", $$v)},expression:\"entity.faultType\"}},_vm._l((_vm.faultTypeOptions),function(item){return _c('a-select-option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"故障等级\",\"prop\":\"faultLevel\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择故障等级\"},model:{value:(_vm.entity.faultLevel),callback:function ($$v) {_vm.$set(_vm.entity, \"faultLevel\", $$v)},expression:\"entity.faultLevel\"}},_vm._l((_vm.faultLevelOptions),function(item){return _c('a-select-option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-model-item',{attrs:{\"label\":\"发现时间\",\"prop\":\"discoveryTime\"}},[_c('a-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"show-time\":\"\",\"format\":\"YYYY-MM-DD HH:mm:ss\"},model:{value:(_vm.entity.discoveryTime),callback:function ($$v) {_vm.$set(_vm.entity, \"discoveryTime\", $$v)},expression:\"entity.discoveryTime\"}})],1)],1)],1),_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"span\":24}},[_c('a-form-model-item',{attrs:{\"label\":\"故障现象\",\"prop\":\"faultDescription\"}},[_c('a-textarea',{attrs:{\"placeholder\":\"请详细描述故障现象\",\"rows\":4},model:{value:(_vm.entity.faultDescription),callback:function ($$v) {_vm.$set(_vm.entity, \"faultDescription\", $$v)},expression:\"entity.faultDescription\"}})],1)],1)],1)]},proxy:true}])}),_c('g-collapse',{attrs:{\"headerName\":\"影响评估\"},scopedSlots:_vm._u([{key:\"content\",fn:function(){return [_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"影响范围\",\"prop\":\"impactScope\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择影响范围\",\"mode\":\"multiple\"},model:{value:(_vm.entity.impactScope),callback:function ($$v) {_vm.$set(_vm.entity, \"impactScope\", $$v)},expression:\"entity.impactScope\"}},[_c('a-select-option',{attrs:{\"value\":\"生产线\"}},[_vm._v(\"生产线\")]),_c('a-select-option',{attrs:{\"value\":\"工作站\"}},[_vm._v(\"工作站\")]),_c('a-select-option',{attrs:{\"value\":\"质量检测\"}},[_vm._v(\"质量检测\")]),_c('a-select-option',{attrs:{\"value\":\"物料配送\"}},[_vm._v(\"物料配送\")])],1)],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"预计修复时间\",\"prop\":\"estimatedRepairTime\"}},[_c('a-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"min\":0.5,\"step\":0.5,\"placeholder\":\"请输入预计修复时间(小时)\"},model:{value:(_vm.entity.estimatedRepairTime),callback:function ($$v) {_vm.$set(_vm.entity, \"estimatedRepairTime\", $$v)},expression:\"entity.estimatedRepairTime\"}})],1)],1)],1),_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"span\":24}},[_c('a-form-model-item',{attrs:{\"label\":\"影响描述\",\"prop\":\"impactDescription\"}},[_c('a-textarea',{attrs:{\"placeholder\":\"请描述故障造成的影响\",\"rows\":3},model:{value:(_vm.entity.impactDescription),callback:function ($$v) {_vm.$set(_vm.entity, \"impactDescription\", $$v)},expression:\"entity.impactDescription\"}})],1)],1)],1)]},proxy:true}])})]},proxy:true},{key:\"g-fixed-row\",fn:function(){return [_c('div',{staticClass:\"g-fixed-row\"},[_c('g-btn',{attrs:{\"size\":\"large\",\"text\":\"刷新\"},on:{\"callback\":function($event){return _vm.refresh()}}}),_c('g-btn',{attrs:{\"size\":\"large\",\"text\":\"提交\",\"type\":\"primary\"},on:{\"callback\":function($event){return _vm.submitFaultReport()}}})],1)]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a-form-model\n    ref=\"form\"\n    :model=\"entity\"\n    layout=\"vertical\"\n    autocomplete=\"off\"\n    :rules=\"rules\"\n    class=\"h-father\"\n  >\n    <g-body-form-layout>\n      <!-- 搜索插槽 -->\n      <template #search-card>\n        <div class=\"search-card\">\n          <a-row :gutter=\"24\">\n            <a-col :span=\"4\">\n              <a-form-model-item label=\"设备组\" prop=\"deviceGroupName\">\n                <g-select\n                  v-model=\"entity.deviceGroupName\"\n                  placeholder=\"请选择设备组\"\n                >\n                  <a-select-option\n                    v-for=\"item in deviceGroupOptions\"\n                    :key=\"item.value\"\n                    :value=\"item.value\"\n                  >{{ item.label }}</a-select-option>\n                </g-select>\n              </a-form-model-item>\n            </a-col>\n            <a-col :span=\"4\">\n              <a-form-model-item label=\"设备\" prop=\"deviceName\">\n                <g-select\n                  v-model=\"entity.deviceName\"\n                  placeholder=\"请选择设备\"\n                >\n                  <a-select-option\n                    v-for=\"item in deviceOptions\"\n                    :key=\"item.value\"\n                    :value=\"item.value\"\n                  >{{ item.label }}</a-select-option>\n                </g-select>\n              </a-form-model-item>\n            </a-col>\n          </a-row>\n        </div>\n      </template>\n\n      <template #card-body>\n        <!-- 故障信息 -->\n        <g-collapse headerName=\"故障信息\">\n          <template #content>\n            <a-row :gutter=\"24\">\n              <a-col :span=\"6\">\n                <a-form-model-item label=\"故障类型\" prop=\"faultType\">\n                  <a-select\n                    v-model=\"entity.faultType\"\n                    placeholder=\"请选择故障类型\"\n                  >\n                    <a-select-option\n                      v-for=\"item in faultTypeOptions\"\n                      :key=\"item.value\"\n                      :value=\"item.value\"\n                    >{{ item.label }}</a-select-option>\n                  </a-select>\n                </a-form-model-item>\n              </a-col>\n              <a-col :span=\"6\">\n                <a-form-model-item label=\"故障等级\" prop=\"faultLevel\">\n                  <a-select\n                    v-model=\"entity.faultLevel\"\n                    placeholder=\"请选择故障等级\"\n                  >\n                    <a-select-option\n                      v-for=\"item in faultLevelOptions\"\n                      :key=\"item.value\"\n                      :value=\"item.value\"\n                    >{{ item.label }}</a-select-option>\n                  </a-select>\n                </a-form-model-item>\n              </a-col>\n              <a-col :span=\"6\">\n                <a-form-model-item label=\"发现时间\" prop=\"discoveryTime\">\n                  <a-date-picker\n                    v-model=\"entity.discoveryTime\"\n                    show-time\n                    format=\"YYYY-MM-DD HH:mm:ss\"\n                    style=\"width: 100%\"\n                  />\n                </a-form-model-item>\n              </a-col>\n            </a-row>\n            <a-row :gutter=\"24\">\n              <a-col :span=\"24\">\n                <a-form-model-item label=\"故障现象\" prop=\"faultDescription\">\n                  <a-textarea\n                    v-model=\"entity.faultDescription\"\n                    placeholder=\"请详细描述故障现象\"\n                    :rows=\"4\"\n                  />\n                </a-form-model-item>\n              </a-col>\n            </a-row>\n          </template>\n        </g-collapse>\n\n        <!-- 影响评估 -->\n        <g-collapse headerName=\"影响评估\">\n          <template #content>\n            <a-row :gutter=\"24\">\n              <a-col :span=\"8\">\n                <a-form-model-item label=\"影响范围\" prop=\"impactScope\">\n                  <a-select\n                    v-model=\"entity.impactScope\"\n                    placeholder=\"请选择影响范围\"\n                    mode=\"multiple\"\n                  >\n                    <a-select-option value=\"生产线\">生产线</a-select-option>\n                    <a-select-option value=\"工作站\">工作站</a-select-option>\n                    <a-select-option value=\"质量检测\">质量检测</a-select-option>\n                    <a-select-option value=\"物料配送\">物料配送</a-select-option>\n                  </a-select>\n                </a-form-model-item>\n              </a-col>\n              <a-col :span=\"8\">\n                <a-form-model-item label=\"预计修复时间\" prop=\"estimatedRepairTime\">\n                  <a-input-number\n                    v-model=\"entity.estimatedRepairTime\"\n                    :min=\"0.5\"\n                    :step=\"0.5\"\n                    style=\"width: 100%\"\n                    placeholder=\"请输入预计修复时间(小时)\"\n                  />\n                </a-form-model-item>\n              </a-col>\n            </a-row>\n            <a-row :gutter=\"24\">\n              <a-col :span=\"24\">\n                <a-form-model-item label=\"影响描述\" prop=\"impactDescription\">\n                  <a-textarea\n                    v-model=\"entity.impactDescription\"\n                    placeholder=\"请描述故障造成的影响\"\n                    :rows=\"3\"\n                  />\n                </a-form-model-item>\n              </a-col>\n            </a-row>\n          </template>\n        </g-collapse>\n      </template>\n\n      <template #g-fixed-row>\n        <div class=\"g-fixed-row\">\n          <g-btn size=\"large\" text=\"刷新\" @callback=\"refresh()\"></g-btn>\n          <g-btn size=\"large\" text=\"提交\" type=\"primary\" @callback=\"submitFaultReport()\"></g-btn>\n        </div>\n      </template>\n    </g-body-form-layout>\n  </a-form-model>\n</template>\n\n<script>\nimport GSignModal from \"@/components/g-sign-modal/g-sign-modal.vue\";\nimport { createModal } from \"@/utils\";\n\nexport default {\n  name: \"DeviceFaultReport\",\n\n  data() {\n    return {\n      entity: {\n        deviceGroupName: \"\",\n        deviceName: \"\",\n        faultType: undefined,\n        faultLevel: undefined,\n        discoveryTime: null,\n        faultDescription: \"\",\n        impactScope: [],\n        estimatedRepairTime: 1,\n        impactDescription: \"\",\n      },\n      rules: {\n        deviceGroupName: [\n          { required: true, message: \"请选择设备组\", trigger: \"change\" }\n        ],\n        deviceName: [\n          { required: true, message: \"请选择设备\", trigger: \"change\" }\n        ],\n        faultType: [\n          { required: true, message: \"请选择故障类型\", trigger: \"change\" }\n        ],\n        faultLevel: [\n          { required: true, message: \"请选择故障等级\", trigger: \"change\" }\n        ],\n        discoveryTime: [\n          { required: true, message: \"请选择发现时间\", trigger: \"change\" }\n        ],\n        faultDescription: [\n          { required: true, message: \"请描述故障现象\", trigger: \"blur\" }\n        ],\n        impactScope: [\n          { required: true, message: \"请选择影响范围\", trigger: \"change\" }\n        ],\n        estimatedRepairTime: [\n          { required: true, message: \"请输入预计修复时间\", trigger: \"blur\" }\n        ]\n      },\n      deviceGroupOptions: [], // 设备组选项\n      deviceOptions: [], // 设备选项\n      faultTypeOptions: [\n        { value: \"mechanical\", label: \"机械故障\" },\n        { value: \"electrical\", label: \"电气故障\" },\n        { value: \"software\", label: \"软件故障\" },\n        { value: \"network\", label: \"网络故障\" },\n        { value: \"sensor\", label: \"传感器故障\" },\n        { value: \"other\", label: \"其他\" }\n      ],\n      faultLevelOptions: [\n        { value: \"critical\", label: \"严重\" },\n        { value: \"major\", label: \"主要\" },\n        { value: \"minor\", label: \"次要\" },\n        { value: \"warning\", label: \"警告\" }\n      ]\n    };\n  },\n\n  watch: {\n    \"entity.deviceGroupName\": {\n      handler(newVal) {\n        if (newVal) {\n          this.loadDeviceOptions(newVal);\n        } else {\n          this.deviceOptions = [];\n        }\n      }\n    }\n  },\n\n  mounted() {\n    this.loadDeviceGroupOptions();\n  },\n\n  methods: {\n    // 加载设备组选项\n    loadDeviceGroupOptions() {\n      // 模拟加载数据\n      this.deviceGroupOptions = [\n        { value: \"group1\", label: \"生产线设备组\" },\n        { value: \"group2\", label: \"包装设备组\" },\n        { value: \"group3\", label: \"测试设备组\" }\n      ];\n    },\n\n    // 加载设备选项\n    loadDeviceOptions(groupName) {\n      // 模拟根据设备组加载设备列表\n      this.deviceOptions = [\n        { value: \"device1\", label: \"设备1\" },\n        { value: \"device2\", label: \"设备2\" },\n        { value: \"device3\", label: \"设备3\" }\n      ];\n    },\n\n    // 提交故障报告\n    submitFaultReport() {\n      this.$refs.form.validate().then((valid) => {\n        if (valid) {\n          this.createSignModal();\n        }\n      });\n    },\n\n    // 创建签名弹窗\n    createSignModal() {\n      createModal(\n        {\n          title: \"签名\",\n          width: \"600px\"\n        },\n        {\n          component: GSignModal,\n          success: (v) => {\n            console.log(v);\n            // TODO: 调用API提交故障报告\n            this.$message.success(\"故障报告提交成功\");\n            this.refresh();\n          }\n        }\n      );\n    },\n\n    // 刷新\n    refresh() {\n      this.entity = {\n        deviceGroupName: \"\",\n        deviceName: \"\",\n        faultType: undefined,\n        faultLevel: undefined,\n        discoveryTime: null,\n        faultDescription: \"\",\n        impactScope: [],\n        estimatedRepairTime: 1,\n        impactDescription: \"\"\n      };\n      this.$refs.form.resetFields();\n    }\n  }\n};\n</script>","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./resource-fault-report.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./resource-fault-report.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./resource-fault-report.vue?vue&type=template&id=1f2e5800\"\nimport script from \"./resource-fault-report.vue?vue&type=script&lang=js\"\nexport * from \"./resource-fault-report.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","title","ref","attrs","lineWidth","lineColor","backgroundColor","saveFormat","on","handleSave","handleClear","handleError","save","$event","$emit","staticRenderFns","name","components","GSign","props","type","String","default","Number","validator","value","includes","data","signatureData","hasSignature","methods","imageData","message","$message","error","clearSignature","$refs","signBoard","clearCanvas","component","entity","rules","scopedSlots","_u","key","fn","model","callback","$$v","$set","expression","_l","item","label","proxy","staticStyle","refresh","submitFaultReport","deviceGroupName","deviceName","faultType","undefined","faultLevel","discoveryTime","faultDescription","impactScope","estimatedRepairTime","impactDescription","required","trigger","deviceGroupOptions","deviceOptions","faultTypeOptions","faultLevelOptions","watch","handler","newVal","loadDeviceOptions","mounted","loadDeviceGroupOptions","groupName","form","validate","then","valid","createSignModal","width","success","v","console","log","resetFields"],"sourceRoot":""}