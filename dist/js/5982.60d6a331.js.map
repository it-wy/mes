{"version":3,"file":"js/5982.60d6a331.js","mappings":"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","sources":["webpack://data-v2/./src/views/resource-operation-manager/resource-overhaul/resource-overhaul.vue?6aaf","webpack://data-v2/src/views/resource-operation-manager/resource-overhaul/resource-overhaul.vue","webpack://data-v2/./src/views/resource-operation-manager/resource-overhaul/resource-overhaul.vue?63ae","webpack://data-v2/./src/views/resource-operation-manager/resource-overhaul/resource-overhaul.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-user\"},[_c('div',{staticStyle:{\"background-color\":\"#fff\",\"margin-bottom\":\"10px\",\"padding\":\"12px 24px\",\"box-sizing\":\"border-box\",\"border-radius\":\"4px\"}},[_c('a-form',{attrs:{\"form\":_vm.form,\"layout\":\"vertical\"}},[_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"span\":4}},[_c('a-form-item',{attrs:{\"label\":\"设备名称\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入设备名称\"},model:{value:(_vm.form.deviceName),callback:function ($$v) {_vm.$set(_vm.form, \"deviceName\", $$v)},expression:\"form.deviceName\"}})],1)],1),_c('a-col',{attrs:{\"span\":4}},[_c('a-form-item',{attrs:{\"label\":\"故障类型\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择故障类型\"},model:{value:(_vm.form.faultType),callback:function ($$v) {_vm.$set(_vm.form, \"faultType\", $$v)},expression:\"form.faultType\"}},[_c('a-select-option',{attrs:{\"value\":\"硬件故障\"}},[_vm._v(\"硬件故障\")]),_c('a-select-option',{attrs:{\"value\":\"软件故障\"}},[_vm._v(\"软件故障\")]),_c('a-select-option',{attrs:{\"value\":\"网络故障\"}},[_vm._v(\"网络故障\")]),_c('a-select-option',{attrs:{\"value\":\"其他故障\"}},[_vm._v(\"其他故障\")])],1)],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-item',{attrs:{\"label\":\"发生时间\"}},[_c('a-range-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"show-time\":\"\",\"format\":\"YYYY-MM-DD HH:mm:ss\"},model:{value:(_vm.form.occurrenceTime),callback:function ($$v) {_vm.$set(_vm.form, \"occurrenceTime\", $$v)},expression:\"form.occurrenceTime\"}})],1)],1),_c('a-col',{attrs:{\"span\":4}},[_c('a-form-item',{attrs:{\"label\":\"故障状态\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择故障状态\"},model:{value:(_vm.form.faultStatus),callback:function ($$v) {_vm.$set(_vm.form, \"faultStatus\", $$v)},expression:\"form.faultStatus\"}},[_c('a-select-option',{attrs:{\"value\":\"未处理\"}},[_vm._v(\"未处理\")]),_c('a-select-option',{attrs:{\"value\":\"处理中\"}},[_vm._v(\"处理中\")]),_c('a-select-option',{attrs:{\"value\":\"已解决\"}},[_vm._v(\"已解决\")]),_c('a-select-option',{attrs:{\"value\":\"已关闭\"}},[_vm._v(\"已关闭\")])],1)],1)],1),_c('a-col',{attrs:{\"span\":6}},[_c('a-form-item',{attrs:{\"label\":'\\u00a0'}},[_c('g-btn',{staticClass:\"mr-2\",attrs:{\"text\":\"查询\",\"type\":\"primary\"},on:{\"callback\":_vm.search}}),_c('g-btn',{attrs:{\"text\":\"重置\"},on:{\"callback\":_vm.reset}})],1)],1)],1)],1)],1),_c('div',{staticStyle:{\"background-color\":\"#fff\",\"padding\":\"12px 24px 0\",\"box-sizing\":\"border-box\",\"overflow-y\":\"hidden\",\"border-radius\":\"4px\"}},[_c('g-table-bar',{attrs:{\"spacing\":_vm.tableSize,\"columns\":_vm.columns,\"virtualColumns\":_vm.virtualColumns},on:{\"update:spacing\":function($event){_vm.tableSize=$event},\"update:columns\":function($event){_vm.columns=$event},\"refreshTable\":_vm.refresh}},[_c('g-btn',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"text\":\"导出 Excel\"}})],1),_c('a-table',{attrs:{\"id\":\"tables\",\"columns\":_vm.columns,\"data-source\":_vm.dataList,\"scroll\":{ y: _vm.tableheight },\"row-key\":(record) => record.id,\"pagination\":_vm.pagination,\"loading\":_vm.isTableLoading,\"size\":_vm.tableSize},on:{\"change\":_vm.tableChange},scopedSlots:_vm._u([{key:\"status\",fn:function(text){return _c('span',{},[_c('a-tag',{attrs:{\"color\":_vm.getStatusColor(text)}},[_vm._v(_vm._s(text))])],1)}},{key:\"action\",fn:function(text, record){return _c('span',{},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.showDetails(record)}}},[_vm._v(\"详情\")]),_c('a-divider',{attrs:{\"type\":\"vertical\"}}),(record.faultStatus !== '已关闭')?_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.handleFault(record)}}},[_vm._v(\"处理\")]):_vm._e(),(record.faultStatus !== '已关闭')?_c('a-divider',{attrs:{\"type\":\"vertical\"}}):_vm._e(),(record.faultStatus !== '已关闭')?_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.closeFault(record)}}},[_vm._v(\"关闭\")]):_vm._e()],1)}}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"flex-user\">\r\n      <div\r\n        style=\"\r\n          background-color: #fff;\r\n          margin-bottom: 10px;\r\n          padding: 12px 24px;\r\n          box-sizing: border-box;\r\n          border-radius: 4px;\r\n        \"\r\n      >\r\n        <a-form :form=\"form\" layout=\"vertical\">\r\n          <a-row :gutter=\"24\">\r\n            <a-col :span=\"4\">\r\n              <a-form-item label=\"设备名称\">\r\n                <a-input\r\n                  placeholder=\"请输入设备名称\"\r\n                  v-model=\"form.deviceName\"\r\n                ></a-input>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :span=\"4\">\r\n              <a-form-item label=\"故障类型\">\r\n                <a-select\r\n                  v-model=\"form.faultType\"\r\n                  placeholder=\"请选择故障类型\"\r\n                >\r\n                  <a-select-option value=\"硬件故障\">硬件故障</a-select-option>\r\n                  <a-select-option value=\"软件故障\">软件故障</a-select-option>\r\n                  <a-select-option value=\"网络故障\">网络故障</a-select-option>\r\n                  <a-select-option value=\"其他故障\">其他故障</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :span=\"6\">\r\n              <a-form-item label=\"发生时间\">\r\n                <a-range-picker\r\n                  v-model=\"form.occurrenceTime\"\r\n                  style=\"width: 100%\"\r\n                  show-time\r\n                  format=\"YYYY-MM-DD HH:mm:ss\"\r\n                />\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :span=\"4\">\r\n              <a-form-item label=\"故障状态\">\r\n                <a-select\r\n                  v-model=\"form.faultStatus\"\r\n                  placeholder=\"请选择故障状态\"\r\n                >\r\n                  <a-select-option value=\"未处理\">未处理</a-select-option>\r\n                  <a-select-option value=\"处理中\">处理中</a-select-option>\r\n                  <a-select-option value=\"已解决\">已解决</a-select-option>\r\n                  <a-select-option value=\"已关闭\">已关闭</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :span=\"6\">\r\n              <a-form-item :label=\"'\\u00a0'\">\r\n                <g-btn text=\"查询\" class=\"mr-2\" type=\"primary\" @callback=\"search\"></g-btn>\r\n                <g-btn text=\"重置\" @callback=\"reset\"></g-btn>\r\n              </a-form-item>\r\n            </a-col>\r\n          </a-row>\r\n        </a-form>\r\n      </div>\r\n  \r\n      <div\r\n        style=\"\r\n          background-color: #fff;\r\n          padding: 12px 24px 0;\r\n          box-sizing: border-box;\r\n          overflow-y: hidden;\r\n          border-radius: 4px;\r\n        \"\r\n      >\r\n        <g-table-bar\r\n          :spacing.sync=\"tableSize\"\r\n          :columns.sync=\"columns\"\r\n          :virtualColumns=\"virtualColumns\"\r\n          @refreshTable=\"refresh\"\r\n        >\r\n          <g-btn text=\"导出 Excel\" style=\"margin-right: 10px\"></g-btn>\r\n        </g-table-bar>\r\n        <a-table\r\n          id=\"tables\"\r\n          :columns=\"columns\"\r\n          :data-source=\"dataList\"\r\n          :scroll=\"{ y: tableheight }\"\r\n          :row-key=\"(record) => record.id\"\r\n          :pagination=\"pagination\"\r\n          @change=\"tableChange\"\r\n          :loading=\"isTableLoading\"\r\n          :size=\"tableSize\"\r\n        >\r\n          <!-- 故障状态 -->\r\n          <span slot=\"status\" slot-scope=\"text\">\r\n            <a-tag :color=\"getStatusColor(text)\">{{ text }}</a-tag>\r\n          </span>\r\n          <!-- 操作 -->\r\n          <span slot=\"action\" slot-scope=\"text, record\">\r\n            <a href=\"javascript:;\" @click=\"showDetails(record)\">详情</a>\r\n            <a-divider type=\"vertical\" />\r\n            <a href=\"javascript:;\" @click=\"handleFault(record)\" v-if=\"record.faultStatus !== '已关闭'\">处理</a>\r\n             <a-divider type=\"vertical\" v-if=\"record.faultStatus !== '已关闭'\"/>\r\n            <a href=\"javascript:;\" @click=\"closeFault(record)\" v-if=\"record.faultStatus !== '已关闭'\">关闭</a>\r\n          </span>\r\n        </a-table>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { getTableScroll } from \"@/utils/getTableScroll\";\r\n  import { tableBase } from \"@/utils\";\r\n  import moment from \"moment\";\r\n  import createModal from \"@/utils/modal\";\r\n  \r\n  export default {\r\n    name: \"equipment-fault-list\",\r\n    mixins: [tableBase],\r\n    data() {\r\n      return {\r\n        tableheight: 0,\r\n        form: {\r\n          deviceName: \"\",\r\n          faultType: undefined,\r\n          occurrenceTime: [],\r\n          faultStatus: undefined,\r\n        },\r\n        columns: [\r\n          {\r\n            title: \"序号\",\r\n            dataIndex: \"id\",\r\n            key: \"id\",\r\n            customRender: (text, record, index) => `${index + 1}`,\r\n            width: 80,\r\n          },\r\n          {\r\n            title: \"设备名称\",\r\n            dataIndex: \"deviceName\",\r\n            key: \"deviceName\",\r\n          },\r\n          {\r\n            title: \"故障类型\",\r\n            dataIndex: \"faultType\",\r\n            key: \"faultType\",\r\n          },\r\n          {\r\n            title: \"故障描述\",\r\n            dataIndex: \"faultDescription\",\r\n            key: \"faultDescription\",\r\n            ellipsis: true,\r\n          },\r\n          {\r\n            title: \"发生时间\",\r\n            dataIndex: \"occurrenceTime\",\r\n            key: \"occurrenceTime\",\r\n            sorter: true,\r\n            width: 200,\r\n            customRender: (text) =>\r\n              text ? moment(text).format(\"YYYY-MM-DD HH:mm:ss\") : \"\",\r\n          },\r\n          {\r\n            title: \"故障状态\",\r\n            dataIndex: \"faultStatus\",\r\n            key: \"faultStatus\",\r\n            scopedSlots: { customRender: \"status\" },\r\n          },\r\n          {\r\n            title: \"处理人\",\r\n            dataIndex: \"handler\",\r\n            key: \"handler\",\r\n          },\r\n          {\r\n            title: \"处理时间\",\r\n            dataIndex: \"handlingTime\",\r\n            key: \"handlingTime\",\r\n            width: 200,\r\n            customRender: (text) =>\r\n              text ? moment(text).format(\"YYYY-MM-DD HH:mm:ss\") : \"\",\r\n          },\r\n          {\r\n            title: \"处理结果\",\r\n            dataIndex: \"handlingResult\",\r\n            key: \"handlingResult\",\r\n          },\r\n          {\r\n            title: \"操作\",\r\n            dataIndex: \"action\",\r\n            key: \"action\",\r\n            scopedSlots: { customRender: \"action\" },\r\n            width: 200,\r\n          },\r\n        ],\r\n        virtualColumns: [],\r\n        dataList: [], // 添加 dataList 用于存储数据\r\n      };\r\n    },\r\n  \r\n    mounted() {\r\n      this.virtualColumns = JSON.parse(JSON.stringify(this.columns)).map(\r\n        (item) => {\r\n          item.checked = true;\r\n          return item;\r\n        }\r\n      );\r\n      this.$nextTick(() => {\r\n        this.tableheight = getTableScroll({ id: \"tables\" });\r\n      });\r\n      // 模拟数据\r\n      this.fetchData({\r\n        pageSize: 10,\r\n        pageNo: 1,\r\n        successCallback: (res) => {\r\n          this.dataList = res.items;\r\n          this.pagination.total = res.totalCount;\r\n        },\r\n      });\r\n    },\r\n  \r\n    methods: {\r\n      // 查询\r\n      search() {\r\n        this.refresh();\r\n      },\r\n  \r\n      // 重置\r\n      reset() {\r\n        this.form = {\r\n          deviceName: \"\",\r\n          faultType: undefined,\r\n          occurrenceTime: [],\r\n          faultStatus: undefined,\r\n        };\r\n        this.refresh();\r\n      },\r\n  \r\n      // 获取数据\r\n      fetchData(request) {\r\n        this.isTableLoading = true;\r\n        // 在这里模拟从后端获取数据\r\n        setTimeout(() => {\r\n          const data = [];\r\n          for (let i = 0; i < request.pageSize; i++) {\r\n            data.push({\r\n              id: (request.pageNo - 1) * request.pageSize + i + 1,\r\n              deviceName: \"设备\" + i,\r\n              faultType: [\"硬件故障\", \"软件故障\", \"网络故障\", \"其他故障\"][\r\n                Math.floor(Math.random() * 4)\r\n              ],\r\n              faultDescription: \"这是故障描述的详细信息，可能会很长。\" + i,\r\n              occurrenceTime: moment().subtract(i * 2, \"hours\"),\r\n              faultStatus: [\"未处理\", \"处理中\", \"已解决\", \"已关闭\"][\r\n                Math.floor(Math.random() * 4)\r\n              ],\r\n              handler: \"张三\" + i,\r\n              handlingTime:\r\n                Math.random() > 0.5 ? moment().subtract(i, \"hours\") : null,\r\n              handlingResult:\r\n                Math.random() > 0.5 ? \"修复成功\" : \"更换部件\",\r\n            });\r\n          }\r\n          this.isTableLoading = false;\r\n          request.successCallback &&\r\n            request.successCallback({\r\n              items: data,\r\n              totalCount: 100, // 假设总共有100条数据\r\n            });\r\n        }, 500);\r\n      },\r\n  \r\n      // 显示详情\r\n      showDetails(record) {\r\n        // 使用 createModal 创建一个弹窗来显示详情\r\n        createModal(\r\n          {\r\n            title: \"故障详情\",\r\n            width: \"600px\",\r\n          },\r\n          {\r\n            component: FaultDetail, // 使用一个单独的组件来显示详情\r\n            data: record, // 将当前记录作为数据传递给详情组件\r\n          }\r\n        );\r\n      },\r\n  \r\n        // 处理故障\r\n        handleFault(record) {\r\n            createModal({\r\n                title: '处理故障',\r\n                width: '800px'\r\n            }, {\r\n                component: HandleFault,\r\n                data: record,\r\n                success: () => {\r\n                    this.refresh(); // 处理完成后刷新列表\r\n                }\r\n            });\r\n        },\r\n  \r\n      // 关闭故障\r\n      closeFault(record) {\r\n        this.$confirm({\r\n          title: \"确认关闭\",\r\n          content: `确认关闭故障 ${record.id} 吗？`,\r\n          onOk: () => {\r\n            // 在这里模拟关闭故障的操作\r\n            // 实际应用中，应该调用后端接口来更新故障状态\r\n            this.isTableLoading = true;\r\n            setTimeout(() => {\r\n              this.isTableLoading = false;\r\n              // 更新 dataList 中的数据\r\n              const index = this.dataList.findIndex((item) => item.id === record.id);\r\n              if (index !== -1) {\r\n                this.dataList[index].faultStatus = \"已关闭\";\r\n                // 使用 $set 触发视图更新\r\n                this.$set(this.dataList, index, this.dataList[index]);\r\n              }\r\n              this.$message.success(\"故障已关闭\");\r\n            }, 500);\r\n          },\r\n        });\r\n      },\r\n  \r\n      // 根据状态返回颜色\r\n      getStatusColor(status) {\r\n        switch (status) {\r\n          case \"未处理\":\r\n            return \"red\";\r\n          case \"处理中\":\r\n            return \"orange\";\r\n          case \"已解决\":\r\n            return \"green\";\r\n          case \"已关闭\":\r\n            return \"gray\";\r\n          default:\r\n            return \"blue\";\r\n        }\r\n      },\r\n      tableChange(pagination, filters, sorter) {\r\n            this.pagination = pagination\r\n            this.fetchData({\r\n                pageSize: pagination.pageSize,\r\n                pageNo: pagination.current,\r\n                sortField: sorter.field,\r\n                sortOrder: sorter.order,\r\n                ...this.form,\r\n                successCallback: (res) => {\r\n                    this.dataList = res.items;\r\n                    this.pagination.total = res.totalCount;\r\n                }\r\n            });\r\n        }\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style lang=\"scss\" scoped>\r\n  .flex-user {\r\n    box-sizing: border-box;\r\n  }\r\n  </style>","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./resource-overhaul.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./resource-overhaul.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./resource-overhaul.vue?vue&type=template&id=38bd8280&scoped=true\"\nimport script from \"./resource-overhaul.vue?vue&type=script&lang=js\"\nexport * from \"./resource-overhaul.vue?vue&type=script&lang=js\"\nimport style0 from \"./resource-overhaul.vue?vue&type=style&index=0&id=38bd8280&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38bd8280\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","form","model","value","callback","$$v","$set","expression","_v","on","search","reset","tableSize","columns","virtualColumns","$event","refresh","dataList","y","tableheight","record","id","pagination","isTableLoading","tableChange","scopedSlots","_u","key","fn","text","getStatusColor","_s","showDetails","faultStatus","handleFault","_e","closeFault","staticRenderFns","name","mixins","data","deviceName","faultType","undefined","occurrenceTime","title","dataIndex","customRender","index","width","ellipsis","sorter","format","mounted","JSON","parse","stringify","map","item","checked","$nextTick","getTableScroll","fetchData","pageSize","pageNo","successCallback","res","items","total","totalCount","methods","request","setTimeout","i","push","Math","floor","random","faultDescription","subtract","handler","handlingTime","handlingResult","component","FaultDetail","HandleFault","success","$confirm","content","onOk","findIndex","$message","status","filters","current","sortField","field","sortOrder","order"],"sourceRoot":""}