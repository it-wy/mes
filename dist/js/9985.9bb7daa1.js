"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[9985,5910],{35910:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("a-spin",{attrs:{spinning:e.loading}},[t("a-form-model",{ref:"form",attrs:{model:e.entity,rules:e.rules,autocomplete:"off",layout:"vertical"}},[t("div",{staticClass:"card"},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"name",attrs:{label:"参数卡名称",prop:"name"}},[t("a-input",{attrs:{placeholder:"请输入参数卡名称",name:"name"},on:{change:e.inChange},model:{value:e.entity.name,callback:function(t){e.$set(e.entity,"name",t)},expression:"entity.name"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"levelType",attrs:{label:"参数卡类型",prop:"levelType"}},[t("a-select",{attrs:{placeholder:"请选择参数卡类型",name:"levelType"},model:{value:e.entity.levelType,callback:function(t){e.$set(e.entity,"levelType",t)},expression:"entity.levelType"}},[t("a-select-option",{attrs:{value:"质量参数卡"}},[e._v("质量参数卡")]),t("a-select-option",{attrs:{value:"工艺参数卡"}},[e._v("工艺参数卡")]),t("a-select-option",{attrs:{value:"性能参数卡"}},[e._v("性能参数卡")]),t("a-select-option",{attrs:{value:"安全参数卡"}},[e._v("安全参数卡")]),t("a-select-option",{attrs:{value:"环保参数卡"}},[e._v("环保参数卡")]),t("a-select-option",{attrs:{value:"其他参数卡"}},[e._v("其他参数卡")])],1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"status",attrs:{label:"状态",prop:"status"}},[t("a-radio-group",{attrs:{name:"status"},model:{value:e.entity.status,callback:function(t){e.$set(e.entity,"status",t)},expression:"entity.status"}},[t("a-radio",{attrs:{value:"启用"}},[e._v("启用")]),t("a-radio",{attrs:{value:"禁用"}},[e._v("禁用")])],1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"registrationNo",attrs:{label:"医疗器械注册证号",prop:"registrationNo"}},[t("a-input",{attrs:{placeholder:"请输入医疗器械注册证号",name:"registrationNo"},model:{value:e.entity.registrationNo,callback:function(t){e.$set(e.entity,"registrationNo",t)},expression:"entity.registrationNo"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"productionLicenseNo",attrs:{label:"生产许可证号",prop:"productionLicenseNo"}},[t("a-input",{attrs:{placeholder:"请输入生产许可证号",name:"productionLicenseNo"},model:{value:e.entity.productionLicenseNo,callback:function(t){e.$set(e.entity,"productionLicenseNo",t)},expression:"entity.productionLicenseNo"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"riskLevel",attrs:{label:"风险等级",prop:"riskLevel"}},[t("a-select",{attrs:{placeholder:"请选择风险等级",name:"riskLevel"},model:{value:e.entity.riskLevel,callback:function(t){e.$set(e.entity,"riskLevel",t)},expression:"entity.riskLevel"}},[t("a-select-option",{attrs:{value:"高风险"}},[e._v("高风险")]),t("a-select-option",{attrs:{value:"中风险"}},[e._v("中风险")]),t("a-select-option",{attrs:{value:"低风险"}},[e._v("低风险")])],1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"validationRequirements",attrs:{label:"验证要求",prop:"validationRequirements"}},[t("a-input",{attrs:{placeholder:"请输入验证要求",name:"validationRequirements"},model:{value:e.entity.validationRequirements,callback:function(t){e.$set(e.entity,"validationRequirements",t)},expression:"entity.validationRequirements"}})],1)],1),t("a-col",{attrs:{sm:24}},[t("a-form-model-item",{ref:"description",attrs:{label:"等级描述",prop:"description"}},[t("a-textarea",{attrs:{placeholder:"请输入描述",rows:2,"max-length":500,name:"description"},model:{value:e.entity.description,callback:function(t){e.$set(e.entity,"description",t)},expression:"entity.description"}})],1)],1)],1)],1),t("g-collapse",{attrs:{headerName:"工艺参数"},scopedSlots:e._u([{key:"content",fn:function(){return[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:24}},[t("a-button",{staticClass:"add-standard-btn",attrs:{type:"primary",icon:"plus"},on:{click:e.addStandard}},[e._v("添加标准")])],1),t("a-col",{attrs:{sm:24}},[t("a-table",{attrs:{columns:e.standardColumns,dataSource:e.entity.standards,pagination:!1,size:"small",rowKey:"id",scroll:{x:"100%"}},scopedSlots:e._u([{key:"standardName",fn:function(a,r,n){return[t("a-input",{attrs:{placeholder:"请输入标准名称"},model:{value:e.entity.standards[n].standardName,callback:function(t){e.$set(e.entity.standards[n],"standardName",t)},expression:"entity.standards[index].standardName"}})]}},{key:"parameterType",fn:function(a,r,n){return[t("a-select",{attrs:{placeholder:"请选择参数类型"},model:{value:e.entity.standards[n].parameterType,callback:function(t){e.$set(e.entity.standards[n],"parameterType",t)},expression:"entity.standards[index].parameterType"}},[t("a-select-option",{attrs:{value:"数值型"}},[e._v("数值型")]),t("a-select-option",{attrs:{value:"字符型"}},[e._v("字符型")]),t("a-select-option",{attrs:{value:"布尔型"}},[e._v("布尔型")]),t("a-select-option",{attrs:{value:"枚举型"}},[e._v("枚举型")])],1)]}},{key:"valueRange",fn:function(a,r,n){return[t("a-input",{attrs:{placeholder:"请输入参数值范围"},model:{value:e.entity.standards[n].valueRange,callback:function(t){e.$set(e.entity.standards[n],"valueRange",t)},expression:"entity.standards[index].valueRange"}})]}},{key:"standardValue",fn:function(a,r,n){return[t("a-input",{attrs:{placeholder:"请输入标准值"},model:{value:e.entity.standards[n].standardValue,callback:function(t){e.$set(e.entity.standards[n],"standardValue",t)},expression:"entity.standards[index].standardValue"}})]}},{key:"parameterUnit",fn:function(a,r,n){return[t("a-input",{attrs:{placeholder:"请输入参数单位"},model:{value:e.entity.standards[n].parameterUnit,callback:function(t){e.$set(e.entity.standards[n],"parameterUnit",t)},expression:"entity.standards[index].parameterUnit"}})]}},{key:"tolerance",fn:function(a,r,n){return[t("a-input",{attrs:{placeholder:"请输入允差范围"},model:{value:e.entity.standards[n].tolerance,callback:function(t){e.$set(e.entity.standards[n],"tolerance",t)},expression:"entity.standards[index].tolerance"}})]}},{key:"controlMethod",fn:function(a,r,n){return[t("a-select",{attrs:{placeholder:"请选择控制方式"},model:{value:e.entity.standards[n].controlMethod,callback:function(t){e.$set(e.entity.standards[n],"controlMethod",t)},expression:"entity.standards[index].controlMethod"}},[t("a-select-option",{attrs:{value:"SPC控制"}},[e._v("SPC控制")]),t("a-select-option",{attrs:{value:"全检"}},[e._v("全检")]),t("a-select-option",{attrs:{value:"抽检"}},[e._v("抽检")]),t("a-select-option",{attrs:{value:"目视检查"}},[e._v("目视检查")]),t("a-select-option",{attrs:{value:"其他"}},[e._v("其他")])],1)]}},{key:"inspectionMethod",fn:function(a,r,n){return[t("a-input",{attrs:{placeholder:"请输入检验方法"},model:{value:e.entity.standards[n].inspectionMethod,callback:function(t){e.$set(e.entity.standards[n],"inspectionMethod",t)},expression:"entity.standards[index].inspectionMethod"}})]}},{key:"note",fn:function(a,r,n){return[t("a-input",{attrs:{placeholder:"请输入说明"},model:{value:e.entity.standards[n].note,callback:function(t){e.$set(e.entity.standards[n],"note",t)},expression:"entity.standards[index].note"}})]}},{key:"action",fn:function(a,r,n){return[t("a-button",{attrs:{type:"danger",icon:"delete",size:"small"},on:{click:()=>e.removeStandard(n)}})]}}])})],1)],1)]},proxy:!0}])}),t("g-collapse",{attrs:{headerName:"详细信息"},scopedSlots:e._u([{key:"content",fn:function(){return[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建人"}},[t("span",[e._v(e._s(e.entity.createdBy||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建时间"}},[t("span",[e._v(e._s(e.entity.createdTime||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"修改人"}},[t("span",[e._v(e._s(e.entity.modifiedBy||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"修改时间"}},[t("span",[e._v(e._s(e.entity.modifiedTime||"未知"))])])],1)],1)]},proxy:!0}])})],1)],1)},n=[],s=a(36026),i={name:"CreateOrEditBatchLevel",mixins:[s.GE],data(){return{loading:!1,entity:{id:void 0,parameterCardName:"",parameterCardType:"",description:"",standards:[],status:"启用",createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:"",registrationNo:"",productionLicenseNo:"",riskLevel:"",validationRequirements:""},rules:{parameterCardName:[{required:!0,message:"请输入等级名称",trigger:"change"},{pattern:/^[^\s]+(\s+[^\s]+)*$/,message:"等级名称不能包含前后空格",trigger:"change"}],parameterCardType:[{required:!0,message:"请选择参数卡类型",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],registrationNo:[{required:!1,message:"请输入医疗器械注册证号",trigger:"change"}],productionLicenseNo:[{required:!1,message:"请输入生产许可证号",trigger:"change"}],riskLevel:[{required:!1,message:"请选择风险等级",trigger:"change"}],validationRequirements:[{required:!1,message:"请输入验证要求",trigger:"change"}]},standardColumns:[{title:"标准名称",dataIndex:"standardName",key:"standardName",width:100,scopedSlots:{customRender:"standardName"}},{title:"参数类型",dataIndex:"parameterType",key:"parameterType",width:100,scopedSlots:{customRender:"parameterType"}},{title:"参数值范围",dataIndex:"valueRange",key:"valueRange",width:100,scopedSlots:{customRender:"valueRange"}},{title:"标准值",dataIndex:"standardValue",key:"standardValue",width:100,scopedSlots:{customRender:"standardValue"}},{title:"参数单位",dataIndex:"parameterUnit",key:"parameterUnit",width:100,scopedSlots:{customRender:"parameterUnit"}},{title:"允差",dataIndex:"tolerance",key:"tolerance",width:100,scopedSlots:{customRender:"tolerance"}},{title:"控制方式",dataIndex:"controlMethod",key:"controlMethod",width:130,scopedSlots:{customRender:"controlMethod"}},{title:"检验方法",dataIndex:"inspectionMethod",key:"inspectionMethod",width:130,scopedSlots:{customRender:"inspectionMethod"}},{title:"说明",dataIndex:"note",key:"note",width:300,scopedSlots:{customRender:"note"}},{title:"操作",key:"action",width:100,fixed:"right",scopedSlots:{customRender:"action"}}]}},methods:{init(){console.log(this.id,"初始化"),this.loading=!0,this.id?setTimeout((()=>{this.initFormData(),this.loading=!1}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={id:void 0,parameterCardName:"",parameterCardType:"",description:"",standards:[],status:"启用",createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""}},initFormData(){if(this.ndoEditParams.row){const e=this.ndoEditParams.row;this.entity={...this.entity,parameterCardName:e.name,levelType:e.levelType,description:e.description,standards:e.standards||[],status:e.status,createdBy:e.createdBy,createdTime:e.createdTime,modifiedBy:e.modifiedBy,modifiedTime:e.modifiedTime}}},async save(){let e=await this.checkError();e&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.name),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})}),500))},inChange(e){console.log(e.target.value)},addStandard(){this.entity.standards.push({id:Date.now(),standardName:"",standardValue:"",standardUnit:"",note:""})},removeStandard(e){this.entity.standards.splice(e,1)}}},o=i,d=a(1001),l=(0,d.Z)(o,r,n,!1,null,"0731e6dc",null),c=l.exports},79985:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var r=function(){var e=this,t=e._self._c;return t("g-body-layout",{attrs:{pageIndex:e.pageNumber,pageSize:e.pageSize,total:e.total,filterText:e.filterText},on:{"update:filterText":function(t){e.filterText=t},"update:filter-text":function(t){e.filterText=t},pageIndexChange:e.pageIndexChange,pageSizeChange:e.pageSizeChange,suffixSearchCallback:e.onFilterReady},scopedSlots:e._u([{key:"btnGroup",fn:function(){return[t("g-btn-group",{attrs:{buttonLists:e.btnList},on:{btnCallBack:e.btnGroupClick}})]},proxy:!0},{key:"table",fn:function(){return[t("g-ndo-table",{attrs:{id:e.id,handName:"工艺参数卡配置",dataList:e.dataList,isTableLoading:e.loading,total:e.total},on:{rowClick:e.rowClick}})]},proxy:!0},{key:"content",fn:function(){return[e.isShowEdit?t("create-or-edit-process-parameter-card-config",{attrs:{ndoEditParams:e.ndoEditParams,refreshTag:e.refreshTag,saveTag:e.saveTag,resetTag:e.resetTag},on:{childRefresh:function(t){return e.childRefresh(t)},rowClick:function(t){return e.rowClick(t)}}}):t("g-empty")]},proxy:!0}])})},n=[],s=a(36026),i=a(35910),o={name:"CreateOrEditProcessParameterCardConfig2",mixins:[s.He],components:{CreateOrEditProcessParameterCardConfig:i["default"]},data(){return{modalTitle:"",isShowModal:!1,modalLoading:!1,filterText:"",entity:{configName:"",description:"",parameters:[]},rules:{configName:[{required:!0,message:"请输入配置名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}],parameters:[{required:!0,message:"请至少添加一个参数",trigger:"change",type:"array"}]},parameterColumns:[{title:"参数名称",dataIndex:"parameterName",width:"40%"},{title:"参数值",dataIndex:"parameterValue",width:"40%"},{title:"操作",dataIndex:"operation",width:"20%"}]}},created(){this.getBtnList()},methods:{getBtnList(){this.btnList=[{text:this.AppConst.button.create,icon:this.AppConst.icon.create,eventName:this.AppConst.button.create,display:!0},{text:this.AppConst.button.refresh,icon:this.AppConst.icon.refresh,eventName:this.AppConst.button.refresh,right:!0,display:!0}]},fetchData(e){this.loading=!0,setTimeout((()=>{e.finishedCallback();let t=[];for(let e=0;e<25;e++)t[e]={id:e+1,name:"配置"+(e*this.pageNumber+1),description:"配置描述"+(e*this.pageNumber+1)};this.filterText&&(t=t.filter((e=>e.name.indexOf(this.filterText)>-1||e.description.indexOf(this.filterText)>-1))),e.successCallback({items:t,totalCount:2*t.length})}),1e3)},addParameter(){this.entity.parameters.push({parameterName:"",parameterValue:""})},removeParameter(e){this.entity.parameters.splice(e,1)},resetForm(){this.entity={configName:"",description:"",parameters:[]},this.$refs.form&&this.$refs.form.resetFields()}}},d=o,l=a(1001),c=(0,l.Z)(d,r,n,!1,null,"227f57dc",null),u=c.exports}}]);
//# sourceMappingURL=9985.9bb7daa1.js.map