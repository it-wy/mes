"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[2818,7562],{87562:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("a-spin",{attrs:{spinning:t.loading}},[e("a-form-model",{ref:"form",attrs:{model:t.entity,rules:t.rules,autocomplete:"off",layout:"vertical"}},[e("div",{staticClass:"card"},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{ref:"name",attrs:{label:"班次名称",prop:"name"}},[e("a-input",{attrs:{placeholder:"请输入班次名称",name:"name"},on:{change:t.inChange},model:{value:t.entity.name,callback:function(e){t.$set(t.entity,"name",e)},expression:"entity.name"}})],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"开始时间",prop:"startTime"}},[e("a-time-picker",{attrs:{placeholder:"请选择开始时间",format:"HH:mm",name:"startTime"},model:{value:t.entity.startTime,callback:function(e){t.$set(t.entity,"startTime",e)},expression:"entity.startTime"}})],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"结束时间",prop:"endTime"}},[e("a-time-picker",{attrs:{placeholder:"请选择结束时间",format:"HH:mm",name:"endTime"},model:{value:t.entity.endTime,callback:function(e){t.$set(t.entity,"endTime",e)},expression:"entity.endTime"}})],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"描述",prop:"description"}},[e("a-textarea",{attrs:{placeholder:"请输入描述",rows:4,"max-length":1e3,name:"description"},model:{value:t.entity.description,callback:function(e){t.$set(t.entity,"description",e)},expression:"entity.description"}})],1)],1)],1)],1),e("g-collapse",{attrs:{headerName:"其他信息"},scopedSlots:t._u([{key:"content",fn:function(){return[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"创建人"}},[e("span",[t._v("admin")])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"修改时间"}},[e("span",[t._v(" 2025-04-20 15:00")])])],1)],1)]},proxy:!0}])})],1)],1)},n=[],s=a(36026),r=a(30381),o=a.n(r),l={name:"CreateOrEditShift",mixins:[s.GE],data(){return{entity:{name:"",startTime:null,endTime:null,description:""},rules:{name:[{required:!0,message:"班次名称不能为空",trigger:"change"}],startTime:[{required:!0,message:"开始时间不能为空",trigger:"change"}],endTime:[{required:!0,message:"结束时间不能为空",trigger:"change"}]}}},mounted(){},methods:{init(){this.loading=!0,this.id?setTimeout((()=>{this.loading=!1,this.entity={name:"早班",startTime:o()("08:00","HH:mm"),endTime:o()("16:00","HH:mm"),description:"早班工作时间"}}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={name:"",startTime:null,endTime:null,description:""}},async save(){let t=await this.checkError();t&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.name),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})})))},inChange(t){console.log(t.target.value)}}},d=l,m=a(1001),c=(0,m.Z)(d,i,n,!1,null,"069fd9b8",null),p=c.exports},2818:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("g-body-layout",{attrs:{pageIndex:t.pageNumber,pageSize:t.pageSize,total:t.total,filterText:t.filterText},on:{"update:filterText":function(e){t.filterText=e},"update:filter-text":function(e){t.filterText=e},pageIndexChange:t.pageIndexChange,pageSizeChange:t.pageSizeChange,suffixSearchCallback:t.onFilterReady},scopedSlots:t._u([{key:"btnGroup",fn:function(){return[e("g-btn-group",{attrs:{buttonLists:t.btnList},on:{btnCallBack:t.btnGroupClick}})]},proxy:!0},{key:"table",fn:function(){return[e("g-ndo-table",{attrs:{id:t.id,handName:"班次列表",dataList:t.dataList,isTableLoading:t.loading,total:t.total},on:{rowClick:t.rowClick},scopedSlots:t._u([{key:"columns",fn:function(){return[e("a-table-column",{key:"name",attrs:{title:"班次名称","data-index":"name"}}),e("a-table-column",{key:"startTime",attrs:{title:"开始时间","data-index":"startTime"}}),e("a-table-column",{key:"endTime",attrs:{title:"结束时间","data-index":"endTime"}}),e("a-table-column",{key:"description",attrs:{title:"描述","data-index":"description"}})]},proxy:!0}])})]},proxy:!0},{key:"content",fn:function(){return[t.isShowEdit?e("create-or-edit-shift",{attrs:{ndoEditParams:t.ndoEditParams,refreshTag:t.refreshTag,saveTag:t.saveTag,resetTag:t.resetTag},on:{childRefresh:function(e){return t.childRefresh(e)},rowClick:function(e){return t.rowClick(e)}}}):e("g-empty")]},proxy:!0}])})},n=[],s=a(87562),r=a(36026),o={name:"Shift",mixins:[r.He],components:{CreateOrEditShift:s["default"]},data(){return{isTableLoading:!1,filterText:"",dataList:[]}},mounted(){},created(){this.getBtnList()},methods:{getBtnList(){this.btnList=[{text:this.AppConst.button.create,icon:this.AppConst.icon.create,eventName:this.AppConst.button.create,display:!0},{text:this.AppConst.button.copy,icon:this.AppConst.icon.copy,eventName:this.AppConst.button.copy,display:!!this.id},{text:this.AppConst.button.delete,icon:this.AppConst.icon.delete,eventName:this.AppConst.button.delete,display:!!this.id},{text:this.AppConst.button.refresh,icon:this.AppConst.icon.refresh,eventName:this.AppConst.button.refresh,right:!0,display:this.isShowEdit},{text:this.AppConst.button.save,icon:this.AppConst.icon.save,eventName:this.AppConst.button.save,right:!0,type:"primary",display:this.isShowEdit}]},copy(){},delete(){},fetchData(t){this.loading=!0,setTimeout((()=>{t.finishedCallback();let e=[];for(let t=0;t<25;t++)e[t]={id:t+1,name:"班次"+(t*this.pageNumber+1),startTime:"08:00",endTime:"16:00",description:"班次描述"+(t*this.pageNumber+1)};this.filterText&&(e=e.filter((t=>t.name.indexOf(this.filterText)>-1))),t.successCallback({items:e,totalCount:2*e.length})}),1e3)}}},l=o,d=a(1001),m=(0,d.Z)(l,i,n,!1,null,"5b299ab9",null),c=m.exports}}]);
//# sourceMappingURL=2818.3c420d41.js.map