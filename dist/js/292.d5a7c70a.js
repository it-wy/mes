"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[292,66],{99319:function(e,t,a){a.d(t,{Z:function(){return d}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal"},[t("div",{staticClass:"modal-content"},[t("a-form-model",{ref:"copyForms",attrs:{layout:"vertical",rules:e.rules,model:e.copyForm}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{staticClass:"labelStyle",attrs:{name:"value",label:"数据"}},[t("a-input",{staticStyle:{width:"200px"},attrs:{name:"value",type:"text",disabled:""},model:{value:e.copyForm.value,callback:function(t){e.$set(e.copyForm,"value",t)},expression:"copyForm.value"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{staticClass:"labelStyle",attrs:{label:"复制数据",prop:"copyValue"}},[t("a-input",{staticStyle:{width:"200px"},attrs:{name:"copyValue",type:"text","max-length":200},model:{value:e.copyForm.copyValue,callback:function(t){e.$set(e.copyForm,"copyValue",t)},expression:"copyForm.copyValue"}})],1)],1)],1)],1)],1),t("div",{staticClass:"modal-footer"},[t("g-btn",{attrs:{text:"确认",type:"primary"},on:{callback:e.save}}),t("g-btn",{attrs:{text:"取消"},on:{callback:function(t){return e.$emit("closeModal")}}})],1)])},o=[],i=(a(54612),{name:"GCopyNdo",props:{entity:{type:Object,default:()=>({})}},data(){return{copyForm:{value:"",copyValue:""},rules:{copyValue:[{required:!0,message:"请输入目标实例名称",trigger:"change"}]}}},mounted(){this.copyForm=this.entity,this.copyForm.copyValue=`Copy-of-${this.copyForm.value}`},methods:{save(){this.$refs.copyForms.validate().then((e=>{e&&(this.$emit("success",this.copyForm),this.$emit("closeModal"))}))}}}),n=i,r=a(1001),l=(0,r.Z)(n,s,o,!1,null,"04e98444",null),d=l.exports},50066:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("a-spin",{attrs:{spinning:e.loading}},[t("a-form-model",{ref:"form",attrs:{model:e.entity,rules:e.rules,autocomplete:"off",layout:"vertical"}},[t("div",{staticClass:"card"},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"reasonCode",attrs:{label:"原因代码",prop:"reasonCode"}},[t("a-input",{attrs:{placeholder:"请输入原因代码",name:"reasonCode",disabled:!!e.id},model:{value:e.entity.reasonCode,callback:function(t){e.$set(e.entity,"reasonCode",t)},expression:"entity.reasonCode"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"reasonName",attrs:{label:"原因名称",prop:"reasonName"}},[t("a-input",{attrs:{placeholder:"请输入原因名称",name:"reasonName"},model:{value:e.entity.reasonName,callback:function(t){e.$set(e.entity,"reasonName",t)},expression:"entity.reasonName"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"relatedStatusCode",attrs:{label:"关联状态码",prop:"relatedStatusCode"}},[t("a-select",{attrs:{placeholder:"请选择关联状态码",name:"relatedStatusCode"},on:{change:e.onStatusCodeChange},model:{value:e.entity.relatedStatusCode,callback:function(t){e.$set(e.entity,"relatedStatusCode",t)},expression:"entity.relatedStatusCode"}},e._l(e.statusCodeList,(function(a){return t("a-select-option",{key:a.code,attrs:{value:a.code}},[e._v(" "+e._s(a.code)+" - "+e._s(a.name)+" ")])})),1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"status",attrs:{label:"状态",prop:"status"}},[t("a-radio-group",{model:{value:e.entity.status,callback:function(t){e.$set(e.entity,"status",t)},expression:"entity.status"}},[t("a-radio",{attrs:{value:"启用"}},[e._v("启用")]),t("a-radio",{attrs:{value:"禁用"}},[e._v("禁用")])],1)],1)],1),t("a-col",{attrs:{sm:12}},[t("a-form-model-item",{ref:"description",attrs:{label:"描述",prop:"description"}},[t("a-textarea",{attrs:{placeholder:"请输入描述信息",rows:4,maxLength:1e3,name:"description"},model:{value:e.entity.description,callback:function(t){e.$set(e.entity,"description",t)},expression:"entity.description"}})],1)],1),t("a-col",{attrs:{sm:12}},[t("a-form-model-item",{ref:"suggestedAction",attrs:{label:"建议操作",prop:"suggestedAction"}},[t("a-textarea",{attrs:{placeholder:"请输入建议操作",rows:4,maxLength:1e3,name:"suggestedAction"},model:{value:e.entity.suggestedAction,callback:function(t){e.$set(e.entity,"suggestedAction",t)},expression:"entity.suggestedAction"}})],1)],1)],1)],1),e.id?t("g-collapse",{attrs:{headerName:"详细信息"},scopedSlots:e._u([{key:"content",fn:function(){return[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建人"}},[t("span",[e._v(e._s(e.entity.createdBy||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建时间"}},[t("span",[e._v(e._s(e.entity.createdTime||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"修改人"}},[t("span",[e._v(e._s(e.entity.modifiedBy||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"修改时间"}},[t("span",[e._v(e._s(e.entity.modifiedTime||"未知"))])])],1)],1)]},proxy:!0}],null,!1,338966643)}):e._e()],1)],1)},o=[],i=a(36026),n={name:"CreateOrEditResourceStatusReason",mixins:[i.GE],data(){return{entity:{reasonCode:"",reasonName:"",relatedStatusCode:void 0,relatedStatusName:"",status:"启用",description:"",suggestedAction:"",createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""},statusCodeList:[{code:"E001",name:"设备离线"},{code:"E002",name:"连接超时"},{code:"E003",name:"认证失败"},{code:"E004",name:"硬件故障"},{code:"E005",name:"软件异常"}],rules:{reasonCode:[{required:!0,message:"原因代码不能为空",trigger:"change"},{pattern:/^R[0-9]{3}$/,message:"原因代码格式不正确，应为R开头加3位数字",trigger:"change"}],reasonName:[{required:!0,message:"原因名称不能为空",trigger:"change"},{pattern:/^[^\s]+(\s+[^\s]+)*$/,message:"原因名称不能包含前后空格",trigger:"change"}],relatedStatusCode:[{required:!0,message:"关联状态码不能为空",trigger:"change"}],status:[{required:!0,message:"状态不能为空",trigger:"change"}]}}},methods:{onStatusCodeChange(e){const t=this.statusCodeList.find((t=>t.code===e));t&&(this.entity.relatedStatusName=t.name)},init(){console.log(this.id,"初始化"),this.loading=!0,this.id?setTimeout((()=>{this.loading=!1,this.entity={reasonCode:"R001",reasonName:"网络断开原因",relatedStatusCode:"E001",relatedStatusName:"设备离线",status:"启用",description:"由于网络断开导致的设备离线问题",suggestedAction:"建议检查网络连接并重启设备",createdBy:"admin",createdTime:"2024-03-18 10:00:00",modifiedBy:"admin",modifiedTime:"2024-03-18 11:55"}}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={reasonCode:"",reasonName:"",relatedStatusCode:void 0,relatedStatusName:"",status:"启用",description:"",suggestedAction:"",createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""}},async save(){let e=await this.checkError();e&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.reasonName),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})}),500))}}},r=n,l=a(1001),d=(0,l.Z)(r,s,o,!1,null,"7cd44bec",null),c=d.exports},70292:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=function(){var e=this,t=e._self._c;return t("g-body-layout",{attrs:{pageIndex:e.pageNumber,pageSize:e.pageSize,total:e.total,filterText:e.filterText},on:{"update:filterText":function(t){e.filterText=t},"update:filter-text":function(t){e.filterText=t},pageIndexChange:e.pageIndexChange,pageSizeChange:e.pageSizeChange,suffixSearchCallback:e.onFilterReady},scopedSlots:e._u([{key:"btnGroup",fn:function(){return[t("g-btn-group",{attrs:{buttonLists:e.btnList},on:{btnCallBack:e.btnGroupClick}})]},proxy:!0},{key:"table",fn:function(){return[t("g-ndo-table",{attrs:{id:e.id,handName:"设备状态原因",dataList:e.dataList,isTableLoading:e.loading,total:e.total},on:{rowClick:e.rowClick}})]},proxy:!0},{key:"content",fn:function(){return[e.isShowEdit?t("create-or-edit-resource-status-reason",{attrs:{ndoEditParams:e.ndoEditParams,refreshTag:e.refreshTag,saveTag:e.saveTag,resetTag:e.resetTag},on:{childRefresh:function(t){return e.childRefresh(t)},rowClick:function(t){return e.rowClick(t)}}}):t("g-empty")]},proxy:!0}])})},o=[],i=a(50066),n=a(99319),r=a(36026),l={name:"DataV2ResourceStatusReason",mixins:[r.He],components:{CreateOrEditResourceStatusReason:i["default"]},data(){return{isTableLoading:!1,filterText:""}},mounted(){},created(){this.getBtnList()},methods:{getBtnList(){this.btnList=[{text:this.AppConst.button.create,icon:this.AppConst.icon.create,eventName:this.AppConst.button.create,display:!0},{text:this.AppConst.button.copy,icon:this.AppConst.icon.copy,eventName:this.AppConst.button.copy,display:!!this.id},{text:this.AppConst.button.delete,icon:this.AppConst.icon.delete,eventName:this.AppConst.button.delete,display:!!this.id},{text:this.AppConst.button.refresh,icon:this.AppConst.icon.refresh,eventName:this.AppConst.button.refresh,right:!0,display:this.isShowEdit},{text:this.AppConst.button.save,icon:this.AppConst.icon.save,eventName:this.AppConst.button.save,right:!0,type:"primary",display:this.isShowEdit}]},copy(){this.createModal({title:"复制",width:"600px"},{component:n.Z,props:{entity:{copyValue:this.dataList[0].name,value:this.dataList[0].name}},on:{success:e=>{console.log(e),this.loading=!0,setTimeout((()=>{this.loading=!1,this.copySuccess(e.value,e.copyValue),this.refreshGoFirstPage()}),500)}}})},delete(){this.$confirm({title:"确认删除",content:"确认删除该状态原因吗？删除后无法恢复。",onOk:()=>{this.loading=!0,setTimeout((()=>{this.loading=!1,this.deleteSuccess(),this.refresh()}),500)}})},fetchData(e){this.loading=!0,setTimeout((()=>{e.finishedCallback();let t=[];const a=[{code:"E001",name:"设备离线"},{code:"E002",name:"连接超时"},{code:"E003",name:"认证失败"},{code:"E004",name:"硬件故障"},{code:"E005",name:"软件异常"}],s=["启用","禁用"];for(let e=0;e<25;e++){const o=e%5,i=["硬件","软件","网络","配置","操作"],n=["断开","超时","损坏","错误","过载"];t[e]={id:e+1,reasonCode:`R${String(e+1).padStart(3,"0")}`,name:`${i[e%5]}${n[e%5]}原因`,relatedStatusCode:a[o].code,relatedStatusName:a[o].name,description:`由于${i[e%5]}${n[e%5]}导致的${a[o].name}问题`,suggestedAction:`建议检查${i[e%5]}连接并重启${e%2?"设备":"服务"}`,status:s[e%2],createdBy:"admin",createdTime:"2024-03-18 "+(10+e%10)+":"+e%60}}this.filterText&&(console.log(this.filterText),t=t.filter((e=>e.reasonCode.indexOf(this.filterText)>-1||e.name.indexOf(this.filterText)>-1||e.relatedStatusCode.indexOf(this.filterText)>-1||e.relatedStatusName.indexOf(this.filterText)>-1||e.description.indexOf(this.filterText)>-1||e.suggestedAction.indexOf(this.filterText)>-1))),e.successCallback({items:t,totalCount:2*t.length})}),1e3)}}},d=l,c=a(1001),u=(0,c.Z)(d,s,o,!1,null,"62bbc657",null),m=u.exports}}]);
//# sourceMappingURL=292.d5a7c70a.js.map