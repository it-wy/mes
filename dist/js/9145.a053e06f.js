"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[9145,4073],{24073:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("a-spin",{attrs:{spinning:t.loading}},[e("a-form-model",{ref:"form",attrs:{model:t.entity,rules:t.rules,autocomplete:"off",layout:"vertical"}},[e("div",{staticClass:"card"},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"需求名称",prop:"requirementName"}},[e("a-input",{attrs:{placeholder:"请输入需求名称"},on:{change:t.inChange},model:{value:t.entity.requirementName,callback:function(e){t.$set(t.entity,"requirementName",e)},expression:"entity.requirementName"}})],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"所属部门",prop:"department"}},[e("a-select",{attrs:{placeholder:"请选择所属部门"},model:{value:t.entity.department,callback:function(e){t.$set(t.entity,"department",e)},expression:"entity.department"}},[e("a-select-option",{attrs:{value:"研发部"}},[t._v("研发部")]),e("a-select-option",{attrs:{value:"生产部"}},[t._v("生产部")]),e("a-select-option",{attrs:{value:"质量部"}},[t._v("质量部")]),e("a-select-option",{attrs:{value:"人力资源部"}},[t._v("人力资源部")])],1)],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"岗位",prop:"position"}},[e("a-select",{attrs:{placeholder:"请选择岗位"},model:{value:t.entity.position,callback:function(e){t.$set(t.entity,"position",e)},expression:"entity.position"}},[e("a-select-option",{attrs:{value:"工程师"}},[t._v("工程师")]),e("a-select-option",{attrs:{value:"技术员"}},[t._v("技术员")]),e("a-select-option",{attrs:{value:"操作员"}},[t._v("操作员")])],1)],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"优先级",prop:"priority"}},[e("a-select",{attrs:{placeholder:"请选择优先级"},model:{value:t.entity.priority,callback:function(e){t.$set(t.entity,"priority",e)},expression:"entity.priority"}},[e("a-select-option",{attrs:{value:"高"}},[t._v("高")]),e("a-select-option",{attrs:{value:"中"}},[t._v("中")]),e("a-select-option",{attrs:{value:"低"}},[t._v("低")])],1)],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"培训内容",prop:"content"}},[e("a-textarea",{attrs:{placeholder:"请输入培训内容",rows:4,"max-length":1e3},model:{value:t.entity.content,callback:function(e){t.$set(t.entity,"content",e)},expression:"entity.content"}})],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"预期目标",prop:"target"}},[e("a-textarea",{attrs:{placeholder:"请输入预期目标",rows:4,"max-length":1e3},model:{value:t.entity.target,callback:function(e){t.$set(t.entity,"target",e)},expression:"entity.target"}})],1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"计划开始时间",prop:"startTime"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择开始时间"},model:{value:t.entity.startTime,callback:function(e){t.$set(t.entity,"startTime",e)},expression:"entity.startTime"}})],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"计划结束时间",prop:"endTime"}},[e("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择结束时间"},model:{value:t.entity.endTime,callback:function(e){t.$set(t.entity,"endTime",e)},expression:"entity.endTime"}})],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"预计培训人数",prop:"expectedTrainees"}},[e("a-input-number",{staticStyle:{width:"100%"},attrs:{min:1,placeholder:"请输入预计培训人数"},model:{value:t.entity.expectedTrainees,callback:function(e){t.$set(t.entity,"expectedTrainees",e)},expression:"entity.expectedTrainees"}})],1)],1)],1)],1),e("g-collapse",{attrs:{headerName:"其他信息"},scopedSlots:t._u([{key:"content",fn:function(){return[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"创建人"}},[e("span",[t._v(t._s(t.entity.creator||"admin"))])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"创建时间"}},[e("span",[t._v(t._s(t.entity.createTime||"2024-01-01 12:00:00"))])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"状态"}},[e("span",[t._v(t._s(t.entity.status||"待审核"))])])],1)],1)]},proxy:!0}])})],1)],1)},r=[],n=a(36026),s={name:"CreateOrEditTrainingRequirement",mixins:[n.GE],data(){return{entity:{requirementName:"",department:void 0,position:void 0,priority:void 0,content:"",target:"",startTime:null,endTime:null,expectedTrainees:1,creator:"",createTime:"",status:""},rules:{requirementName:[{required:!0,message:"需求名称不能为空",trigger:"change"},{pattern:/^[^\s]+(\s+[^\s]+)*$/,message:"名称不能包含空格",trigger:"change"}],department:[{required:!0,message:"请选择所属部门",trigger:"change"}],position:[{required:!0,message:"请选择岗位",trigger:"change"}],priority:[{required:!0,message:"请选择优先级",trigger:"change"}],content:[{required:!0,message:"培训内容不能为空",trigger:"blur"}],target:[{required:!0,message:"预期目标不能为空",trigger:"blur"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"change"}],endTime:[{required:!0,message:"请选择结束时间",trigger:"change"}],expectedTrainees:[{required:!0,message:"请输入预计培训人数",trigger:"change"}]}}},methods:{init(){this.loading=!0,this.id?setTimeout((()=>{this.loading=!1,this.entity={requirementName:"测试培训需求",department:"研发部",position:"工程师",priority:"高",content:"培训内容描述",target:"培训目标描述",startTime:"2024-02-01",endTime:"2024-02-28",expectedTrainees:10,creator:"admin",createTime:"2024-01-01 12:00:00",status:"待审核"}}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={requirementName:"",department:void 0,position:void 0,priority:void 0,content:"",target:"",startTime:null,endTime:null,expectedTrainees:1,creator:"",createTime:"",status:""}},async save(){let t=await this.checkError();t&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.requirementName),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})}),500))},inChange(t){console.log(t.target.value)}}},o=s,l=a(1001),c=(0,l.Z)(o,i,r,!1,null,"131ba523",null),m=c.exports},69145:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t._self._c;return e("g-body-layout",{attrs:{pageIndex:t.pageNumber,pageSize:t.pageSize,total:t.total,filterText:t.filterText},on:{"update:filterText":function(e){t.filterText=e},"update:filter-text":function(e){t.filterText=e},pageIndexChange:t.pageIndexChange,pageSizeChange:t.pageSizeChange,suffixSearchCallback:t.onFilterReady},scopedSlots:t._u([{key:"btnGroup",fn:function(){return[e("g-btn-group",{attrs:{buttonLists:t.btnList},on:{btnCallBack:t.btnGroupClick}})]},proxy:!0},{key:"table",fn:function(){return[e("g-ndo-table",{attrs:{id:t.id,handName:"培训需求",dataList:t.dataList,isTableLoading:t.loading,total:t.total},on:{rowClick:t.rowClick}})]},proxy:!0},{key:"content",fn:function(){return[t.isShowEdit?e("create-or-edit-training-requirement",{attrs:{ndoEditParams:t.ndoEditParams,refreshTag:t.refreshTag,saveTag:t.saveTag,resetTag:t.resetTag},on:{childRefresh:function(e){return t.childRefresh(e)},rowClick:function(e){return t.rowClick(e)}}}):e("g-empty")]},proxy:!0}])})},r=[],n=a(24073),s=a(36026),o={name:"TrainingRequirement",mixins:[s.He],components:{CreateOrEditTrainingRequirement:n["default"]},data(){return{isTableLoading:!1,filterText:""}},created(){this.getBtnList()},methods:{getBtnList(){this.btnList=[{text:this.AppConst.button.create,icon:this.AppConst.icon.create,eventName:this.AppConst.button.create,display:!0},{text:this.AppConst.button.copy,icon:this.AppConst.icon.copy,eventName:this.AppConst.button.copy,display:!!this.id},{text:this.AppConst.button.delete,icon:this.AppConst.icon.delete,eventName:this.AppConst.button.delete,display:!!this.id},{text:this.AppConst.button.refresh,icon:this.AppConst.icon.refresh,eventName:this.AppConst.button.refresh,right:!0,display:this.isShowEdit},{text:this.AppConst.button.save,icon:this.AppConst.icon.save,eventName:this.AppConst.button.save,right:!0,type:"primary",display:this.isShowEdit}]},add(){this.handleAdd()},edit(){this.id?this.handleEdit():this.$message.warning("请先选择一条记录")},delete(){this.id?this.$confirm({title:"确认删除",content:"是否确认删除该培训需求？",okText:"确认",cancelText:"取消",onOk:()=>{this.$message.success("删除成功"),this.refreshData()}}):this.$message.warning("请先选择一条记录")},fetchData(t){this.loading=!0,setTimeout((()=>{t.finishedCallback();let e=[];for(let t=0;t<25;t++)e[t]={id:t+1,name:"培训需求"+(t*this.pageNumber+1),department:"部门"+(t%5+1),position:"岗位"+(t%3+1),priority:["高","中","低"][t%3],status:["待审核","已审核","已完成"][t%3],createTime:"2024-"+(t%12+1)+"-"+(t%28+1)};this.filterText&&(e=e.filter((t=>t.name.indexOf(this.filterText)>-1))),t.successCallback({items:e,totalCount:2*e.length})}),1e3)}}},l=o,c=a(1001),m=(0,c.Z)(l,i,r,!1,null,"a25c62ca",null),p=m.exports}}]);
//# sourceMappingURL=9145.a053e06f.js.map