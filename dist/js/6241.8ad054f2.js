"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[6241,2886],{99319:function(e,t,a){a.d(t,{Z:function(){return d}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal"},[t("div",{staticClass:"modal-content"},[t("a-form-model",{ref:"copyForms",attrs:{layout:"vertical",rules:e.rules,model:e.copyForm}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-model-item",{staticClass:"labelStyle",attrs:{name:"value",label:"数据"}},[t("a-input",{staticStyle:{width:"200px"},attrs:{name:"value",type:"text",disabled:""},model:{value:e.copyForm.value,callback:function(t){e.$set(e.copyForm,"value",t)},expression:"copyForm.value"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-model-item",{staticClass:"labelStyle",attrs:{label:"复制数据",prop:"copyValue"}},[t("a-input",{staticStyle:{width:"200px"},attrs:{name:"copyValue",type:"text","max-length":200},model:{value:e.copyForm.copyValue,callback:function(t){e.$set(e.copyForm,"copyValue",t)},expression:"copyForm.copyValue"}})],1)],1)],1)],1)],1),t("div",{staticClass:"modal-footer"},[t("g-btn",{attrs:{text:"确认",type:"primary"},on:{callback:e.save}}),t("g-btn",{attrs:{text:"取消"},on:{callback:function(t){return e.$emit("closeModal")}}})],1)])},o=[],n=(a(54612),{name:"GCopyNdo",props:{entity:{type:Object,default:()=>({})}},data(){return{copyForm:{value:"",copyValue:""},rules:{copyValue:[{required:!0,message:"请输入目标实例名称",trigger:"change"}]}}},mounted(){this.copyForm=this.entity,this.copyForm.copyValue=`Copy-of-${this.copyForm.value}`},methods:{save(){this.$refs.copyForms.validate().then((e=>{e&&(this.$emit("success",this.copyForm),this.$emit("closeModal"))}))}}}),i=n,c=a(1001),r=(0,c.Z)(i,s,o,!1,null,"04e98444",null),d=r.exports},30455:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("g-body-layout",{attrs:{pageIndex:e.pageNumber,pageSize:e.pageSize,total:e.total,filterText:e.filterText},on:{"update:filterText":function(t){e.filterText=t},"update:filter-text":function(t){e.filterText=t},pageIndexChange:e.pageIndexChange,pageSizeChange:e.pageSizeChange,suffixSearchCallback:e.onFilterReady},scopedSlots:e._u([{key:"btnGroup",fn:function(){return[t("g-btn-group",{attrs:{buttonLists:e.btnList},on:{btnCallBack:e.btnGroupClick}})]},proxy:!0},{key:"table",fn:function(){return[t("g-ndo-table",{attrs:{id:e.id,handName:"工艺建模",dataList:e.dataList,isTableLoading:e.loading,total:e.total},on:{rowClick:e.rowClick}})]},proxy:!0},{key:"content",fn:function(){return[e.isShowEdit?t("create-or-edit-craft",{attrs:{ndoEditParams:e.ndoEditParams,refreshTag:e.refreshTag,saveTag:e.saveTag,resetTag:e.resetTag},on:{childRefresh:function(t){return e.childRefresh(t)},rowClick:function(t){return e.rowClick(t)}}}):t("g-empty")]},proxy:!0}])})},o=[],n=a(65844),i=a(99319),c=a(36026),r={name:"ProcessCraft",mixins:[c.He],components:{CreateOrEditCraft:n["default"]},data(){return{isTableLoading:!1,filterText:""}},mounted(){},created(){this.getBtnList()},methods:{getBtnList(){this.btnList=[{text:this.AppConst.button.create,icon:this.AppConst.icon.create,eventName:this.AppConst.button.create,display:!0},{text:this.AppConst.button.copy,icon:this.AppConst.icon.copy,eventName:this.AppConst.button.copy,display:!!this.id},{text:this.AppConst.button.delete,icon:this.AppConst.icon.delete,eventName:this.AppConst.button.delete,display:!!this.id},{text:this.AppConst.button.refresh,icon:this.AppConst.icon.refresh,eventName:this.AppConst.button.refresh,right:!0,display:this.isShowEdit},{text:this.AppConst.button.save,icon:this.AppConst.icon.save,eventName:this.AppConst.button.save,right:!0,type:"primary",display:this.isShowEdit}]},copy(){this.createModal({title:"复制",width:"600px"},{component:i.Z,props:{entity:{copyValue:this.dataList[0].name,value:this.dataList[0].name}},on:{success:e=>{console.log(e),this.loading=!0,setTimeout((()=>{this.loading=!1,this.copySuccess(e.value,e.copyValue),this.refreshGoFirstPage()}),500)}}})},delete(){this.$confirm({title:"确认删除",content:"确认删除该工艺吗？删除后无法恢复。",onOk:()=>{this.loading=!0,setTimeout((()=>{this.loading=!1,this.deleteSuccess(),this.refresh()}),500)}})},fetchData(e){this.loading=!0,setTimeout((()=>{e.finishedCallback();let t=[];const a=["机械加工工艺","装配工艺","焊接工艺","热处理工艺","表面处理工艺","检验工艺"],s=["金属结构件","电子产品","机械设备","汽车零部件","航空零件","医疗器械"],o=["已发布","草稿","审核中","已废弃"];for(let e=0;e<25;e++){const n=e%6;let i,c,r,d;switch(n){case 0:const t=[{code:"MC001",name:"车削加工工艺",desc:"普通车床加工工艺流程规范",ver:"V1.2"},{code:"MC002",name:"铣削加工工艺",desc:"立式铣床加工工艺规范",ver:"V2.0"},{code:"MC003",name:"钻孔加工工艺",desc:"多轴钻床加工工艺规范",ver:"V1.5"},{code:"MC004",name:"磨削加工工艺",desc:"精密磨床加工工艺规范",ver:"V1.1"}],a=e%4;i=t[a].code,c=t[a].name,r=t[a].desc,d=t[a].ver;break;case 1:const s=[{code:"AC001",name:"机械装配工艺",desc:"精密机械部件装配工艺规范",ver:"V1.3"},{code:"AC002",name:"电子装配工艺",desc:"PCB电子元件装配工艺规范",ver:"V2.1"},{code:"AC003",name:"液压系统装配工艺",desc:"液压系统组装工艺规范",ver:"V1.0"}],o=e%3;i=s[o].code,c=s[o].name,r=s[o].desc,d=s[o].ver;break;case 2:const n=[{code:"WC001",name:"气体保护焊工艺",desc:"气体保护焊接工艺规范",ver:"V1.4"},{code:"WC002",name:"电弧焊工艺",desc:"电弧焊接工艺规范",ver:"V1.8"},{code:"WC003",name:"激光焊接工艺",desc:"激光焊接工艺规范",ver:"V2.2"}],l=e%3;i=n[l].code,c=n[l].name,r=n[l].desc,d=n[l].ver;break;case 3:const p=[{code:"HC001",name:"淬火工艺",desc:"金属材料淬火工艺规范",ver:"V1.3"},{code:"HC002",name:"回火工艺",desc:"金属材料回火工艺规范",ver:"V1.7"},{code:"HC003",name:"退火工艺",desc:"金属材料退火工艺规范",ver:"V1.2"}],u=e%3;i=p[u].code,c=p[u].name,r=p[u].desc,d=p[u].ver;break;case 4:const m=[{code:"SC001",name:"喷漆工艺",desc:"产品表面喷漆工艺规范",ver:"V1.5"},{code:"SC002",name:"电镀工艺",desc:"金属表面电镀工艺规范",ver:"V1.9"},{code:"SC003",name:"表面抛光工艺",desc:"金属表面抛光工艺规范",ver:"V1.4"}],h=e%3;i=m[h].code,c=m[h].name,r=m[h].desc,d=m[h].ver;break;case 5:const f=[{code:"IC001",name:"尺寸检验工艺",desc:"产品尺寸检验工艺规范",ver:"V1.6"},{code:"IC002",name:"无损检测工艺",desc:"产品无损检测工艺规范",ver:"V2.0"},{code:"IC003",name:"功能测试工艺",desc:"产品功能测试工艺规范",ver:"V1.3"}],y=e%3;i=f[y].code,c=f[y].name,r=f[y].desc,d=f[y].ver;break}t[e]={id:e+1,craftCode:`${i}${String(e+1).padStart(2,"0")}`,name:c,craftType:a[n],productType:s[e%6],description:r,version:d,operationCount:3+e%8,status:o[e%4],createdBy:"admin",createdTime:"2024-03-19 "+(10+e%10)+":"+e%60,modifiedBy:"admin",modifiedTime:"2024-03-"+(20+e%8)+" "+(13+e%10)+":"+e%60}}this.filterText&&(console.log(this.filterText),t=t.filter((e=>e.craftCode.indexOf(this.filterText)>-1||e.name.indexOf(this.filterText)>-1||e.craftType.indexOf(this.filterText)>-1||e.productType.indexOf(this.filterText)>-1||e.description.indexOf(this.filterText)>-1||e.version.indexOf(this.filterText)>-1))),e.successCallback({items:t,totalCount:2*t.length})}),1e3)}}},d=r,l=a(1001),p=(0,l.Z)(d,s,o,!1,null,"0ff81c74",null),u=p.exports}}]);
//# sourceMappingURL=6241.8ad054f2.js.map