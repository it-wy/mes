{"version":3,"file":"js/5859.46c0040a.js","mappings":"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","sources":["webpack://data-v2/./src/views/setting/user/base-user-info/base-user-info.vue?a883","webpack://data-v2/src/views/setting/user/base-user-info/base-user-info.vue","webpack://data-v2/./src/views/setting/user/base-user-info/base-user-info.vue?33c9","webpack://data-v2/./src/views/setting/user/base-user-info/base-user-info.vue","webpack://data-v2/./src/views/setting/user/create-edit-user/create-edit-user.vue?8e3d","webpack://data-v2/src/views/setting/user/create-edit-user/create-edit-user.vue","webpack://data-v2/./src/views/setting/user/create-edit-user/create-edit-user.vue?86e4","webpack://data-v2/./src/views/setting/user/create-edit-user/create-edit-user.vue","webpack://data-v2/./src/views/setting/user/user.vue?2c3e","webpack://data-v2/src/views/setting/user/user.vue","webpack://data-v2/./src/views/setting/user/user.vue?9af0","webpack://data-v2/./src/views/setting/user/user.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('a-form-model',{staticStyle:{\"display\":\"flex\"},attrs:{\"model\":_vm.form,\"layout\":\"vertical\"}},[_c('div',{staticStyle:{\"margin-right\":\"20px\",\"display\":\"flex\",\"align-items\":\"center\"}},[_c('a-upload',{staticClass:\"avatar-uploader\",attrs:{\"name\":\"avatar\",\"list-type\":\"picture-card\",\"show-upload-list\":false,\"action\":\"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\"before-upload\":_vm.beforeUpload},on:{\"change\":_vm.handleChange}},[(_vm.form.avatar)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.form.avatar,\"alt\":\"avatar\"}}):_c('div',[_c('a-icon',{attrs:{\"type\":_vm.loading ? 'loading' : 'plus'}}),_c('div',{staticClass:\"ant-upload-text\"},[_vm._v(\"用户头像\")])],1)])],1),_c('div',[_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"用户名\",\"name\":_vm.form.userName}},[_c('a-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.form.userName),callback:function ($$v) {_vm.$set(_vm.form, \"userName\", $$v)},expression:\"form.userName\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"密码\",\"name\":\"password\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入密码\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"确认密码\",\"name\":\"confirmPassword\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入确认密码\"},model:{value:(_vm.form.confirmPassword),callback:function ($$v) {_vm.$set(_vm.form, \"confirmPassword\", $$v)},expression:\"form.confirmPassword\"}})],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"角色\",\"name\":\"role\"}},[_c('a-select',{attrs:{\"placeholder\":\"请选择角色\"},model:{value:(_vm.form.role),callback:function ($$v) {_vm.$set(_vm.form, \"role\", $$v)},expression:\"form.role\"}},[_c('a-select-option',{attrs:{\"value\":\"admin\"}},[_vm._v(\" 管理员 \")]),_c('a-select-option',{attrs:{\"value\":\"user\"}},[_vm._v(\" 普通用户 \")])],1)],1)],1),_c('a-col',{attrs:{\"span\":8}},[_c('a-form-model-item',{attrs:{\"label\":\"状态\",\"name\":_vm.form.status}},[_c('a-radio-group',{model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}},[_c('a-radio',{attrs:{\"value\":true}},[_vm._v(\" 启用 \")]),_c('a-radio',{attrs:{\"value\":false}},[_vm._v(\" 禁用 \")])],1)],1)],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <a-form-model :model=\"form\" layout=\"vertical\" style=\"display: flex\">\r\n    <div style=\"margin-right: 20px; display: flex; align-items: center\">\r\n      <a-upload\r\n        name=\"avatar\"\r\n        list-type=\"picture-card\"\r\n        class=\"avatar-uploader\"\r\n        :show-upload-list=\"false\"\r\n        action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n        :before-upload=\"beforeUpload\"\r\n        @change=\"handleChange\"\r\n      >\r\n        <img\r\n          v-if=\"form.avatar\"\r\n          :src=\"form.avatar\"\r\n          alt=\"avatar\"\r\n          class=\"avatar\"\r\n        />\r\n        <div v-else>\r\n          <a-icon :type=\"loading ? 'loading' : 'plus'\" />\r\n          <div class=\"ant-upload-text\">用户头像</div>\r\n        </div>\r\n      </a-upload>\r\n    </div>\r\n    <div>\r\n      <a-row :gutter=\"24\">\r\n        <a-col :span=\"8\">\r\n          <a-form-model-item label=\"用户名\" :name=\"form.userName\">\r\n            <a-input v-model:value=\"form.userName\" placeholder=\"请输入用户名\" />\r\n          </a-form-model-item>\r\n        </a-col>\r\n\r\n        <!-- 密码 -->\r\n        <a-col :span=\"8\">\r\n          <a-form-model-item label=\"密码\" name=\"password\">\r\n            <a-input v-model:value=\"form.password\" placeholder=\"请输入密码\" />\r\n          </a-form-model-item>\r\n        </a-col>\r\n        <!-- 确认密码 -->\r\n        <a-col :span=\"8\">\r\n          <a-form-model-item label=\"确认密码\" name=\"confirmPassword\">\r\n            <a-input\r\n              v-model:value=\"form.confirmPassword\"\r\n              placeholder=\"请输入确认密码\"\r\n            />\r\n          </a-form-model-item>\r\n        </a-col>\r\n\r\n        <!-- 角色 -->\r\n        <a-col :span=\"8\">\r\n          <a-form-model-item label=\"角色\" name=\"role\">\r\n            <a-select v-model:value=\"form.role\" placeholder=\"请选择角色\">\r\n              <a-select-option value=\"admin\"> 管理员 </a-select-option>\r\n              <a-select-option value=\"user\"> 普通用户 </a-select-option>\r\n            </a-select>\r\n          </a-form-model-item>\r\n        </a-col>\r\n        <a-col :span=\"8\">\r\n          <a-form-model-item label=\"状态\" :name=\"form.status\">\r\n            <!-- 单选框 激活 禁用 -->\r\n            <a-radio-group v-model:value=\"form.status\">\r\n              <a-radio :value=\"true\"> 启用 </a-radio>\r\n              <a-radio :value=\"false\"> 禁用 </a-radio>\r\n            </a-radio-group>\r\n          </a-form-model-item>\r\n        </a-col>\r\n      </a-row>\r\n    </div>\r\n  </a-form-model>\r\n</template>\r\n<script>\r\nfunction getBase64(img, callback) {\r\n  const reader = new FileReader();\r\n  reader.addEventListener(\"load\", () => callback(reader.result));\r\n  reader.readAsDataURL(img);\r\n}\r\nexport default {\r\n  props: {\r\n    entity: {\r\n      type: Object,\r\n      default: () => {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      form: this.entity,\r\n    };\r\n  },\r\n  methods: {\r\n    handleChange(info) {\r\n      if (info.file.status === \"uploading\") {\r\n        this.loading = true;\r\n        return;\r\n      }\r\n      if (info.file.status === \"done\") {\r\n        // Get this url from response in real world.\r\n        getBase64(info.file.originFileObj, (imageUrl) => {\r\n          this.imageUrl = imageUrl;\r\n          this.loading = false;\r\n        });\r\n      }\r\n    },\r\n    beforeUpload(file) {\r\n      const isJpgOrPng =\r\n        file.type === \"image/jpeg\" || file.type === \"image/png\";\r\n      if (!isJpgOrPng) {\r\n        this.$message.error(\"You can only upload JPG file!\");\r\n      }\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n      if (!isLt2M) {\r\n        this.$message.error(\"Image must smaller than 2MB!\");\r\n      }\r\n      return isJpgOrPng && isLt2M;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.avatar-uploader > .ant-upload {\r\n  width: 128px;\r\n  height: 128px;\r\n}\r\n.ant-upload-select-picture-card i {\r\n  font-size: 32px;\r\n  color: #999;\r\n}\r\n\r\n.ant-upload-select-picture-card .ant-upload-text {\r\n  margin-top: 8px;\r\n  color: #666;\r\n}\r\n\r\n.avatar {\r\n  width: 128px;\r\n  height: 128px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./base-user-info.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./base-user-info.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./base-user-info.vue?vue&type=template&id=41fca612&scoped=true\"\nimport script from \"./base-user-info.vue?vue&type=script&lang=js\"\nexport * from \"./base-user-info.vue?vue&type=script&lang=js\"\nimport style0 from \"./base-user-info.vue?vue&type=style&index=0&id=41fca612&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41fca612\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"modal\"},[_c('div',{staticClass:\"modal-content\"},[_c('a-tabs',{attrs:{\"default-active-key\":\"1\"},on:{\"change\":_vm.callback}},[_c('a-tab-pane',{key:\"1\",attrs:{\"tab\":\"基本信息\"}},[_c('base-user-info',{attrs:{\"entity\":_vm.entity}})],1),_c('a-tab-pane',{key:\"2\",attrs:{\"tab\":\"其它\",\"force-render\":\"\"}},[_vm._v(\" 测试 \")])],1)],1),_c('div',{staticClass:\"modal-footer\"},[_c('g-btn',{attrs:{\"text\":\"确认\",\"type\":\"primary\"},on:{\"callback\":_vm.close}}),_c('g-btn',{attrs:{\"text\":\"取消\",\"type\":\"default\"},on:{\"callback\":_vm.close}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"modal\">\r\n    <div class=\"modal-content\">\r\n      <a-tabs default-active-key=\"1\" @change=\"callback\">\r\n        <a-tab-pane key=\"1\" tab=\"基本信息\">\r\n          <base-user-info :entity=\"entity\"></base-user-info>\r\n        </a-tab-pane>\r\n        <a-tab-pane key=\"2\" tab=\"其它\" force-render> 测试 </a-tab-pane>\r\n      </a-tabs>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <g-btn text=\"确认\" @callback=\"close\" type=\"primary\"></g-btn>\r\n\r\n      <g-btn text=\"取消\" @callback=\"close\" type=\"default\"></g-btn>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\n\r\nimport BaseUserInfo from \"../base-user-info/base-user-info.vue\";\r\nexport default defineComponent({\r\n  props: {\r\n    entity: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n  components: {\r\n    BaseUserInfo,\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit(\"closeModal\");\r\n    },\r\n    callback() {},\r\n  },\r\n});\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./create-edit-user.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./create-edit-user.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./create-edit-user.vue?vue&type=template&id=5d8d6730\"\nimport script from \"./create-edit-user.vue?vue&type=script&lang=js\"\nexport * from \"./create-edit-user.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-user\"},[_c('div',{staticStyle:{\"background-color\":\"#fff\",\"margin-bottom\":\"10px\",\"padding\":\"12px 24px\",\"box-sizing\":\"border-box\",\"border-radius\":\"4px\"}},[_c('a-form',{attrs:{\"form\":_vm.form,\"layout\":\"vertical\"}},[_c('a-row',{attrs:{\"gutter\":24}},[_c('a-col',{attrs:{\"span\":4}},[_c('a-form-item',{attrs:{\"label\":\"用户\"}},[_c('a-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.form.userName),callback:function ($$v) {_vm.$set(_vm.form, \"userName\", $$v)},expression:\"form.userName\"}})],1)],1),_c('a-col',{attrs:{\"span\":4}},[_c('a-form-item',{attrs:{\"label\":'\\u00a0'}},[_c('g-btn',{attrs:{\"text\":\"查询\"}})],1)],1)],1)],1)],1),_c('div',{staticStyle:{\"background-color\":\"#fff\",\"padding\":\"12px 24px 0\",\"box-sizing\":\"border-box\",\"overflow-y\":\"hidden\",\"border-radius\":\"4px\",\"flex\":\"1\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"margin-bottom\":\"10px\"}},[_c('g-btn',{staticClass:\"mr-1\",attrs:{\"text\":\"添加\"},on:{\"callback\":_vm.addOrEditUser}}),_c('g-btn',{staticClass:\"mr-1\",attrs:{\"text\":\"批量删除\",\"type\":\"danger\"}}),_c('g-btn',{staticClass:\"mr-1\",attrs:{\"text\":\"导出excel\"}})],1),_c('a-table',{attrs:{\"id\":\"tables\",\"columns\":_vm.columns,\"data-source\":_vm.dataList,\"scroll\":{ y: _vm.tableheight },\"row-key\":(record) => record.id,\"pagination\":_vm.pagination,\"rowSelection\":_vm.rowSelection,\"loading\":_vm.isTableLoading},on:{\"change\":_vm.tableChange},scopedSlots:_vm._u([{key:\"avatar\",fn:function(text){return _c('span',{},[_c('a-avatar',{attrs:{\"src\":text}})],1)}},{key:\"status\",fn:function(text){return _c('span',{},[_c('a-tag',{attrs:{\"color\":text ? 'green' : 'red'}},[_vm._v(_vm._s(text ? \"启用\" : \"禁用\"))])],1)}},{key:\"action\",fn:function(text, record){return _c('span',{},[_c('a',{staticClass:\"mr-1\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.addOrEditUser(record)}}},[_vm._v(\"编辑\")]),_c('a',{staticClass:\"del\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.delUser(record)}}},[_vm._v(\"删除\")])])}}])})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"flex-user\">\r\n    <div\r\n      style=\"\r\n        background-color: #fff;\r\n        margin-bottom: 10px;\r\n        padding: 12px 24px;\r\n        box-sizing: border-box;\r\n        border-radius: 4px;\r\n      \"\r\n    >\r\n      <a-form :form=\"form\" layout=\"vertical\">\r\n        <a-row :gutter=\"24\">\r\n          <a-col :span=\"4\">\r\n            <a-form-item label=\"用户\">\r\n              <a-input\r\n                placeholder=\"请输入用户名\"\r\n                v-model=\"form.userName\"\r\n              ></a-input>\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :span=\"4\">\r\n            <a-form-item :label=\"'\\u00a0'\">\r\n              <g-btn text=\"查询\"></g-btn>\r\n            </a-form-item>\r\n          </a-col>\r\n        </a-row>\r\n      </a-form>\r\n    </div>\r\n\r\n    <div\r\n      style=\"\r\n        background-color: #fff;\r\n        padding: 12px 24px 0;\r\n        box-sizing: border-box;\r\n        overflow-y: hidden;\r\n        border-radius: 4px;\r\n        flex: 1;\r\n      \"\r\n    >\r\n      <div\r\n        style=\"display: flex; justify-content: flex-end; margin-bottom: 10px\"\r\n      >\r\n        <g-btn text=\"添加\" class=\"mr-1\" @callback=\"addOrEditUser\"></g-btn>\r\n        <g-btn text=\"批量删除\" type=\"danger\" class=\"mr-1\"></g-btn>\r\n        <g-btn text=\"导出excel\" class=\"mr-1\"></g-btn>\r\n      </div>\r\n      <a-table\r\n        id=\"tables\"\r\n        :columns=\"columns\"\r\n        :data-source=\"dataList\"\r\n        :scroll=\"{ y: tableheight }\"\r\n        :row-key=\"(record) => record.id\"\r\n        :pagination=\"pagination\"\r\n        :rowSelection=\"rowSelection\"\r\n        @change=\"tableChange\"\r\n        :loading=\"isTableLoading\"\r\n      >\r\n        <!-- 头像 -->\r\n        <span slot=\"avatar\" slot-scope=\"text\">\r\n          <a-avatar :src=\"text\"></a-avatar>\r\n        </span>\r\n        <!-- 帐号状态 -->\r\n        <span slot=\"status\" slot-scope=\"text\">\r\n          <a-tag :color=\"text ? 'green' : 'red'\">{{\r\n            text ? \"启用\" : \"禁用\"\r\n          }}</a-tag>\r\n        </span>\r\n        <!-- 操作 -->\r\n        <span slot=\"action\" slot-scope=\"text, record\">\r\n          <a href=\"javascript:;\" class=\"mr-1\" @click=\"addOrEditUser(record)\"\r\n            >编辑</a\r\n          >\r\n          <a href=\"javascript:;\" class=\"del\" @click=\"delUser(record)\">删除</a>\r\n        </span>\r\n      </a-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTableScroll } from \"@/utils/getTableScroll\";\r\nimport createModal from \"@/utils/modal\";\r\nimport CreateEditUser from \"./create-edit-user/create-edit-user.vue\";\r\nimport { tableBase } from \"@/utils\";\r\nexport default {\r\n  name: \"user\",\r\n  mixins: [tableBase],\r\n  data() {\r\n    return {\r\n      tableheight: 0,\r\n      form: {\r\n        userName: \"\",\r\n      },\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.tableheight = getTableScroll({ id: \"tables\" });\r\n    });\r\n\r\n    this.columns = [\r\n      // 序号 index\r\n      {\r\n        title: \"序号\",\r\n        dataIndex: \"id\",\r\n        key: \"id\",\r\n        customRender: (text, record, index) => this.No(index),\r\n        width: 80,\r\n      },\r\n      {\r\n        title: \"头像\",\r\n        dataIndex: \"avatar\",\r\n        key: \"avatar\",\r\n        scopedSlots: { customRender: \"avatar\" },\r\n      },\r\n      {\r\n        title: \"用户名\",\r\n        dataIndex: \"userName\",\r\n        key: \"userName\",\r\n      },\r\n      {\r\n        title: \"角色\",\r\n        dataIndex: \"role\",\r\n        key: \"role\",\r\n        ellipsis: true,\r\n        // 自定义渲染\r\n        customRender: (text, record, index) => {\r\n          return text === \"admin\" ? \"管理员\" : \"普通用户\";\r\n        },\r\n      },\r\n\r\n      {\r\n        title: \"帐号状态\",\r\n        dataIndex: \"status\",\r\n        key: \"status\",\r\n        scopedSlots: { customRender: \"status\" },\r\n      },\r\n\r\n      {\r\n        title: \"创建时间\",\r\n        dataIndex: \"createTime\",\r\n        key: \"createTime\",\r\n        // 排序\r\n        sorter: true,\r\n        ellipsis: true,\r\n        width: 200,\r\n      },\r\n\r\n      {\r\n        title: \"操作\",\r\n        dataIndex: \"action\",\r\n        key: \"action\",\r\n        scopedSlots: { customRender: \"action\" },\r\n      },\r\n    ];\r\n  },\r\n\r\n  methods: {\r\n    addOrEditUser(r) {\r\n      createModal(\r\n        { title: r ? \"编辑用户\" : \"添加用户\", width: \"800px\" },\r\n        {\r\n          component: CreateEditUser,\r\n          props: {\r\n            entity: r,\r\n          },\r\n        }\r\n      );\r\n    },\r\n    // 删除用户\r\n    delUser(r) {\r\n      this.$confirm({\r\n        title: \"确认删除\",\r\n        content: \"确认删除吗?\",\r\n        onOk: () => {\r\n          this.$message.success(\"删除成功\");\r\n          this.refresh();\r\n        },\r\n      });\r\n    },\r\n\r\n    fetchData(request) {\r\n      // 手动循环生成数据 200条\r\n      this.isTableLoading = true;\r\n      var _data = [];\r\n      for (let i = 0; i < 200; i++) {\r\n        _data[i] = {\r\n          id: i,\r\n          avatar: localStorage.getItem(\"imageData\"),\r\n          role: \"admin\",\r\n          userName: \"admin\",\r\n          status: i % 2 == 0,\r\n          createTime: \"2022-01-01 00:00:00\",\r\n        };\r\n      }\r\n      setTimeout(() => {\r\n        request.finishedCallback && request.finishedCallback();\r\n        request.successCallback &&\r\n          request.successCallback({ items: _data, totalCount: 200 });\r\n      }, 300);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.flex-user {\r\n  box-sizing: border-box;\r\n  height: calc(100% - 10px);\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./user.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./user.vue?vue&type=template&id=692aae2a&scoped=true\"\nimport script from \"./user.vue?vue&type=script&lang=js\"\nexport * from \"./user.vue?vue&type=script&lang=js\"\nimport style0 from \"./user.vue?vue&type=style&index=0&id=692aae2a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"692aae2a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","form","staticClass","beforeUpload","on","handleChange","avatar","loading","_v","userName","model","value","callback","$$v","$set","expression","status","staticRenderFns","getBase64","img","reader","FileReader","addEventListener","result","readAsDataURL","props","entity","type","Object","default","data","methods","info","file","originFileObj","imageUrl","isJpgOrPng","$message","error","isLt2M","size","component","_setupProxy","key","close","components","BaseUserInfo","$emit","addOrEditUser","columns","dataList","y","tableheight","record","id","pagination","rowSelection","isTableLoading","tableChange","scopedSlots","_u","fn","text","_s","$event","delUser","name","mixins","mounted","$nextTick","getTableScroll","title","dataIndex","customRender","index","No","width","ellipsis","sorter","r","$confirm","content","onOk","success","refresh","fetchData","request","_data","i","localStorage","getItem","role","createTime","setTimeout","finishedCallback","successCallback","items","totalCount"],"sourceRoot":""}