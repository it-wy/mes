"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[66],{50066:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var s=function(){var e=this,t=e._self._c;return t("a-spin",{attrs:{spinning:e.loading}},[t("a-form-model",{ref:"form",attrs:{model:e.entity,rules:e.rules,autocomplete:"off",layout:"vertical"}},[t("div",{staticClass:"card"},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"reasonCode",attrs:{label:"原因代码",prop:"reasonCode"}},[t("a-input",{attrs:{placeholder:"请输入原因代码",name:"reasonCode",disabled:!!e.id},model:{value:e.entity.reasonCode,callback:function(t){e.$set(e.entity,"reasonCode",t)},expression:"entity.reasonCode"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"reasonName",attrs:{label:"原因名称",prop:"reasonName"}},[t("a-input",{attrs:{placeholder:"请输入原因名称",name:"reasonName"},model:{value:e.entity.reasonName,callback:function(t){e.$set(e.entity,"reasonName",t)},expression:"entity.reasonName"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"relatedStatusCode",attrs:{label:"关联状态码",prop:"relatedStatusCode"}},[t("a-select",{attrs:{placeholder:"请选择关联状态码",name:"relatedStatusCode"},on:{change:e.onStatusCodeChange},model:{value:e.entity.relatedStatusCode,callback:function(t){e.$set(e.entity,"relatedStatusCode",t)},expression:"entity.relatedStatusCode"}},e._l(e.statusCodeList,(function(a){return t("a-select-option",{key:a.code,attrs:{value:a.code}},[e._v(" "+e._s(a.code)+" - "+e._s(a.name)+" ")])})),1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"status",attrs:{label:"状态",prop:"status"}},[t("a-radio-group",{model:{value:e.entity.status,callback:function(t){e.$set(e.entity,"status",t)},expression:"entity.status"}},[t("a-radio",{attrs:{value:"启用"}},[e._v("启用")]),t("a-radio",{attrs:{value:"禁用"}},[e._v("禁用")])],1)],1)],1),t("a-col",{attrs:{sm:12}},[t("a-form-model-item",{ref:"description",attrs:{label:"描述",prop:"description"}},[t("a-textarea",{attrs:{placeholder:"请输入描述信息",rows:4,maxLength:1e3,name:"description"},model:{value:e.entity.description,callback:function(t){e.$set(e.entity,"description",t)},expression:"entity.description"}})],1)],1),t("a-col",{attrs:{sm:12}},[t("a-form-model-item",{ref:"suggestedAction",attrs:{label:"建议操作",prop:"suggestedAction"}},[t("a-textarea",{attrs:{placeholder:"请输入建议操作",rows:4,maxLength:1e3,name:"suggestedAction"},model:{value:e.entity.suggestedAction,callback:function(t){e.$set(e.entity,"suggestedAction",t)},expression:"entity.suggestedAction"}})],1)],1)],1)],1),e.id?t("g-collapse",{attrs:{headerName:"详细信息"},scopedSlots:e._u([{key:"content",fn:function(){return[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建人"}},[t("span",[e._v(e._s(e.entity.createdBy||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建时间"}},[t("span",[e._v(e._s(e.entity.createdTime||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"修改人"}},[t("span",[e._v(e._s(e.entity.modifiedBy||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"修改时间"}},[t("span",[e._v(e._s(e.entity.modifiedTime||"未知"))])])],1)],1)]},proxy:!0}],null,!1,338966643)}):e._e()],1)],1)},o=[],r=a(36026),i={name:"CreateOrEditResourceStatusReason",mixins:[r.GE],data(){return{entity:{reasonCode:"",reasonName:"",relatedStatusCode:void 0,relatedStatusName:"",status:"启用",description:"",suggestedAction:"",createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""},statusCodeList:[{code:"E001",name:"设备离线"},{code:"E002",name:"连接超时"},{code:"E003",name:"认证失败"},{code:"E004",name:"硬件故障"},{code:"E005",name:"软件异常"}],rules:{reasonCode:[{required:!0,message:"原因代码不能为空",trigger:"change"},{pattern:/^R[0-9]{3}$/,message:"原因代码格式不正确，应为R开头加3位数字",trigger:"change"}],reasonName:[{required:!0,message:"原因名称不能为空",trigger:"change"},{pattern:/^[^\s]+(\s+[^\s]+)*$/,message:"原因名称不能包含前后空格",trigger:"change"}],relatedStatusCode:[{required:!0,message:"关联状态码不能为空",trigger:"change"}],status:[{required:!0,message:"状态不能为空",trigger:"change"}]}}},methods:{onStatusCodeChange(e){const t=this.statusCodeList.find((t=>t.code===e));t&&(this.entity.relatedStatusName=t.name)},init(){console.log(this.id,"初始化"),this.loading=!0,this.id?setTimeout((()=>{this.loading=!1,this.entity={reasonCode:"R001",reasonName:"网络断开原因",relatedStatusCode:"E001",relatedStatusName:"设备离线",status:"启用",description:"由于网络断开导致的设备离线问题",suggestedAction:"建议检查网络连接并重启设备",createdBy:"admin",createdTime:"2024-03-18 10:00:00",modifiedBy:"admin",modifiedTime:"2024-03-18 11:55"}}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={reasonCode:"",reasonName:"",relatedStatusCode:void 0,relatedStatusName:"",status:"启用",description:"",suggestedAction:"",createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""}},async save(){let e=await this.checkError();e&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.reasonName),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})}),500))}}},n=i,d=a(1001),l=(0,d.Z)(n,s,o,!1,null,"7cd44bec",null),m=l.exports}}]);
//# sourceMappingURL=66.400ee0ad.js.map