"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[4695,9076],{9076:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var r=function(){var e=this,t=e._self._c;return t("a-spin",{attrs:{spinning:e.loading}},[t("a-form-model",{ref:"form",attrs:{model:e.entity,rules:e.rules,autocomplete:"off",layout:"vertical"}},[t("div",{staticClass:"card"},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"需求编码",prop:"requirementCode"}},[t("a-input",{attrs:{placeholder:"请输入需求编码",disabled:!!e.id},on:{change:e.inChange},model:{value:e.entity.requirementCode,callback:function(t){e.$set(e.entity,"requirementCode",t)},expression:"entity.requirementCode"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"需求名称",prop:"requirementName"}},[t("a-input",{attrs:{placeholder:"请输入需求名称"},on:{change:e.inChange},model:{value:e.entity.requirementName,callback:function(t){e.$set(e.entity,"requirementName",t)},expression:"entity.requirementName"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"电子签名服务",prop:"service"}},[t("a-select",{attrs:{placeholder:"请选择电子签名服务"},model:{value:e.entity.service,callback:function(t){e.$set(e.entity,"service",t)},expression:"entity.service"}},[t("a-select-option",{attrs:{value:"审批流程"}},[e._v("审批流程")]),t("a-select-option",{attrs:{value:"操作确认"}},[e._v("操作确认")]),t("a-select-option",{attrs:{value:"质量检查"}},[e._v("质量检查")])],1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"角色组",prop:"roleGroup"}},[t("a-select",{attrs:{placeholder:"请选择角色组"},model:{value:e.entity.roleGroup,callback:function(t){e.$set(e.entity,"roleGroup",t)},expression:"entity.roleGroup"}},[t("a-select-option",{attrs:{value:"管理组"}},[e._v("管理组")]),t("a-select-option",{attrs:{value:"操作组"}},[e._v("操作组")]),t("a-select-option",{attrs:{value:"质检组"}},[e._v("质检组")])],1)],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"签名原因",prop:"reason"}},[t("a-select",{attrs:{placeholder:"请选择签名原因"},model:{value:e.entity.reason,callback:function(t){e.$set(e.entity,"reason",t)},expression:"entity.reason"}},[t("a-select-option",{attrs:{value:"操作确认"}},[e._v("操作确认")]),t("a-select-option",{attrs:{value:"审核确认"}},[e._v("审核确认")]),t("a-select-option",{attrs:{value:"质量确认"}},[e._v("质量确认")])],1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"状态",prop:"status"}},[t("a-select",{attrs:{placeholder:"请选择状态"},model:{value:e.entity.status,callback:function(t){e.$set(e.entity,"status",t)},expression:"entity.status"}},[t("a-select-option",{attrs:{value:"启用"}},[e._v("启用")]),t("a-select-option",{attrs:{value:"禁用"}},[e._v("禁用")])],1)],1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:24}},[t("a-form-model-item",{attrs:{label:"描述",prop:"description"}},[t("a-textarea",{attrs:{rows:4,placeholder:"请输入描述"},model:{value:e.entity.description,callback:function(t){e.$set(e.entity,"description",t)},expression:"entity.description"}})],1)],1)],1)],1),t("g-collapse",{attrs:{headerName:"其他信息"},scopedSlots:e._u([{key:"content",fn:function(){return[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建人"}},[t("span",[e._v(e._s(e.entity.creator||"admin"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建时间"}},[t("span",[e._v(e._s(e.entity.createTime||"2024-01-01 12:00:00"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"最后修改人"}},[t("span",[e._v(e._s(e.entity.modifier||"admin"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"最后修改时间"}},[t("span",[e._v(e._s(e.entity.modifyTime||"2024-01-01 12:00:00"))])])],1)],1)]},proxy:!0}])})],1)],1)},i=[],s=a(36026),n={name:"CreateOrEditESignRequirement",mixins:[s.GE],data(){return{entity:{requirementCode:"",requirementName:"",service:void 0,roleGroup:void 0,reason:void 0,status:"启用",description:"",creator:"",createTime:"",modifier:"",modifyTime:""},rules:{requirementCode:[{required:!0,message:"需求编码不能为空",trigger:"change"},{pattern:/^[A-Z0-9]+$/,message:"需求编码只能包含大写字母和数字",trigger:"change"}],requirementName:[{required:!0,message:"需求名称不能为空",trigger:"change"},{pattern:/^[^\s]+(\s+[^\s]+)*$/,message:"名称不能包含前后空格",trigger:"change"}],service:[{required:!0,message:"请选择电子签名服务",trigger:"change"}],roleGroup:[{required:!0,message:"请选择角色组",trigger:"change"}],reason:[{required:!0,message:"请选择签名原因",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}}},methods:{init(){this.loading=!0,this.id?setTimeout((()=>{this.loading=!1,this.entity={requirementCode:"ESR1001",requirementName:"测试电子签名需求",service:"审批流程",roleGroup:"管理组",reason:"操作确认",status:"启用",description:"这是一个测试电子签名需求",creator:"admin",createTime:"2024-01-01 12:00:00",modifier:"admin",modifyTime:"2024-01-01 12:00:00"}}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={requirementCode:"",requirementName:"",service:void 0,roleGroup:void 0,reason:void 0,status:"启用",description:"",creator:"",createTime:"",modifier:"",modifyTime:""}},async save(){let e=await this.checkError();e&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.requirementName),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})}),500))},inChange(e){console.log(e.target.value)}}},o=n,l=a(1001),c=(0,l.Z)(o,r,i,!1,null,"ffe1a818",null),u=c.exports},24695:function(e,t,a){a.r(t),a.d(t,{default:function(){return m}});var r=function(){var e=this,t=e._self._c;return t("g-body-layout",{attrs:{pageIndex:e.pageNumber,pageSize:e.pageSize,total:e.total,filterText:e.filterText},on:{"update:filterText":function(t){e.filterText=t},"update:filter-text":function(t){e.filterText=t},pageIndexChange:e.pageIndexChange,pageSizeChange:e.pageSizeChange,suffixSearchCallback:e.onFilterReady},scopedSlots:e._u([{key:"btnGroup",fn:function(){return[t("g-btn-group",{attrs:{buttonLists:e.btnList},on:{btnCallBack:e.btnGroupClick}})]},proxy:!0},{key:"table",fn:function(){return[t("g-ndo-table",{attrs:{id:e.id,handName:"电子签名需求",dataList:e.dataList,isTableLoading:e.loading,total:e.total},on:{rowClick:e.rowClick}})]},proxy:!0},{key:"content",fn:function(){return[e.isShowEdit?t("create-or-edit-e-sign-requirement",{attrs:{ndoEditParams:e.ndoEditParams,refreshTag:e.refreshTag,saveTag:e.saveTag,resetTag:e.resetTag},on:{childRefresh:function(t){return e.childRefresh(t)},rowClick:function(t){return e.rowClick(t)}}}):t("g-empty")]},proxy:!0}])})},i=[],s=a(9076),n=a(36026),o={name:"ESignRequirement",mixins:[n.He],components:{CreateOrEditESignRequirement:s["default"]},data(){return{isTableLoading:!1,filterText:""}},created(){this.getBtnList()},methods:{fetchData(e){this.loading=!0,setTimeout((()=>{e.finishedCallback();let t=[];for(let e=0;e<25;e++)t[e]={id:e+1,requirementCode:"ESR"+(1e3+e),name:"电子签名需求"+(e+1),service:["审批流程","操作确认","质量检查"][e%3],roleGroup:["管理组","操作组","质检组"][e%3],reason:["操作确认","审核确认","质量确认"][e%3],status:["启用","禁用"][e%2],createTime:"2024-"+(e%12+1)+"-"+(e%28+1)};this.filterText&&(t=t.filter((e=>e.requirementCode.indexOf(this.filterText)>-1||e.name.indexOf(this.filterText)>-1))),e.successCallback({items:t,totalCount:2*t.length})}),1e3)}}},l=o,c=a(1001),u=(0,c.Z)(l,r,i,!1,null,"2001d90f",null),m=u.exports}}]);
//# sourceMappingURL=4695.536fd366.js.map