"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[5032],{35032:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("a-spin",{attrs:{spinning:e.loading}},[t("a-form-model",{ref:"form",attrs:{model:e.entity,rules:e.rules,autocomplete:"off",layout:"vertical"}},[t("div",{staticClass:"card"},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"projectCode",attrs:{label:"项目代码",prop:"projectCode"}},[t("a-input",{attrs:{placeholder:"请输入项目代码",name:"projectCode",disabled:!!e.id},model:{value:e.entity.projectCode,callback:function(t){e.$set(e.entity,"projectCode",t)},expression:"entity.projectCode"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"projectName",attrs:{label:"项目名称",prop:"projectName"}},[t("a-input",{attrs:{placeholder:"请输入项目名称",name:"projectName"},model:{value:e.entity.projectName,callback:function(t){e.$set(e.entity,"projectName",t)},expression:"entity.projectName"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"applicableDevices",attrs:{label:"适用设备类型",prop:"applicableDevices"}},[t("a-select",{attrs:{placeholder:"请选择适用设备类型",mode:"multiple",name:"applicableDevices"},model:{value:e.entity.applicableDevices,callback:function(t){e.$set(e.entity,"applicableDevices",t)},expression:"entity.applicableDevices"}},e._l(e.deviceTypeOptions,(function(a){return t("a-select-option",{key:a.value,attrs:{value:a.value}},[e._v(" "+e._s(a.label)+" ")])})),1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"repairLevel",attrs:{label:"维修级别",prop:"repairLevel"}},[t("a-select",{attrs:{placeholder:"请选择维修级别",name:"repairLevel"},model:{value:e.entity.repairLevel,callback:function(t){e.$set(e.entity,"repairLevel",t)},expression:"entity.repairLevel"}},e._l(e.repairLevelOptions,(function(a){return t("a-select-option",{key:a.value,attrs:{value:a.value}},[e._v(" "+e._s(a.label)+" ")])})),1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"averageDuration",attrs:{label:"平均工时(小时)",prop:"averageDuration"}},[t("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入平均工时",name:"averageDuration",min:.1,max:999,step:.1,precision:1},model:{value:e.entity.averageDuration,callback:function(t){e.$set(e.entity,"averageDuration",t)},expression:"entity.averageDuration"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"status",attrs:{label:"状态",prop:"status"}},[t("a-radio-group",{model:{value:e.entity.status,callback:function(t){e.$set(e.entity,"status",t)},expression:"entity.status"}},[t("a-radio",{attrs:{value:"启用"}},[e._v("启用")]),t("a-radio",{attrs:{value:"禁用"}},[e._v("禁用")])],1)],1)],1),t("a-col",{attrs:{sm:12}},[t("a-form-model-item",{ref:"requiredParts",attrs:{label:"所需配件",prop:"requiredParts"}},[t("a-textarea",{attrs:{placeholder:"请输入所需配件，如无则填'无'",rows:3,maxLength:500,name:"requiredParts"},model:{value:e.entity.requiredParts,callback:function(t){e.$set(e.entity,"requiredParts",t)},expression:"entity.requiredParts"}})],1)],1),t("a-col",{attrs:{sm:24}},[t("a-form-model-item",{ref:"repairSteps",attrs:{label:"维修步骤",prop:"repairSteps"}},[t("a-textarea",{attrs:{placeholder:"请输入详细维修步骤，建议使用编号区分不同步骤",rows:6,maxLength:2e3,name:"repairSteps"},model:{value:e.entity.repairSteps,callback:function(t){e.$set(e.entity,"repairSteps",t)},expression:"entity.repairSteps"}})],1)],1),t("a-col",{attrs:{sm:24}},[t("a-form-model-item",{ref:"precautions",attrs:{label:"注意事项",prop:"precautions"}},[t("a-textarea",{attrs:{placeholder:"请输入维修注意事项",rows:4,maxLength:1e3,name:"precautions"},model:{value:e.entity.precautions,callback:function(t){e.$set(e.entity,"precautions",t)},expression:"entity.precautions"}})],1)],1)],1)],1),e.id?t("g-collapse",{attrs:{headerName:"详细信息"},scopedSlots:e._u([{key:"content",fn:function(){return[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建人"}},[t("span",[e._v(e._s(e.entity.createdBy||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建时间"}},[t("span",[e._v(e._s(e.entity.createdTime||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"修改人"}},[t("span",[e._v(e._s(e.entity.modifiedBy||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"修改时间"}},[t("span",[e._v(e._s(e.entity.modifiedTime||"未知"))])])],1)],1)]},proxy:!0}],null,!1,338966643)}):e._e()],1)],1)},i=[],s=a(36026),l={name:"CreateOrEditRepairProject",mixins:[s.GE],data(){return{entity:{projectCode:"",projectName:"",applicableDevices:[],repairLevel:void 0,averageDuration:1,requiredParts:"",repairSteps:"",precautions:"",status:"启用",createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""},deviceTypeOptions:[{value:"交换机",label:"交换机"},{value:"路由器",label:"路由器"},{value:"服务器",label:"服务器"},{value:"存储设备",label:"存储设备"},{value:"防火墙",label:"防火墙"}],repairLevelOptions:[{value:"一级",label:"一级（简单维修）"},{value:"二级",label:"二级（中等维修）"},{value:"三级",label:"三级（复杂维修）"}],rules:{projectCode:[{required:!0,message:"项目代码不能为空",trigger:"change"},{pattern:/^RP[0-9]{3}$/,message:"项目代码格式不正确，应为RP开头加3位数字",trigger:"change"}],projectName:[{required:!0,message:"项目名称不能为空",trigger:"change"},{pattern:/^[^\s]+(\s+[^\s]+)*$/,message:"项目名称不能包含前后空格",trigger:"change"}],applicableDevices:[{required:!0,message:"适用设备类型不能为空",trigger:"change"}],repairLevel:[{required:!0,message:"维修级别不能为空",trigger:"change"}],averageDuration:[{required:!0,message:"平均工时不能为空",trigger:"change"},{type:"number",message:"平均工时必须为数字",trigger:"change"}],repairSteps:[{required:!0,message:"维修步骤不能为空",trigger:"change"}],status:[{required:!0,message:"状态不能为空",trigger:"change"}]}}},methods:{init(){console.log(this.id,"初始化"),this.loading=!0,this.id?setTimeout((()=>{this.loading=!1,this.entity={projectCode:"RP001",projectName:"交换机故障排除项目",applicableDevices:["交换机"],repairLevel:"二级",averageDuration:2.5,requiredParts:"网络测试仪、螺丝刀套装、备用电源模块",repairSteps:"1. 检查电源连接\n2. 测试网络接口\n3. 检查配置文件\n4. 更新固件版本\n5. 重置系统\n6. 更换故障部件（如需要）\n7. 测试系统功能",precautions:"1. 维修前必须断电\n2. 注意防静电措施\n3. 保存原有配置",status:"启用",createdBy:"admin",createdTime:"2024-03-18 10:00:00",modifiedBy:"admin",modifiedTime:"2024-03-18 11:55"}}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={projectCode:"",projectName:"",applicableDevices:[],repairLevel:void 0,averageDuration:1,requiredParts:"",repairSteps:"",precautions:"",status:"启用",createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""}},async save(){let e=await this.checkError();e&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.projectName),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})}),500))}}},o=l,n=a(1001),p=(0,n.Z)(o,r,i,!1,null,"0662a2d0",null),c=p.exports}}]);
//# sourceMappingURL=5032.515370fb.js.map