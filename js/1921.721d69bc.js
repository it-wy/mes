"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[1921],{81921:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("a-spin",{attrs:{spinning:e.loading}},[t("a-form-model",{ref:"form",attrs:{model:e.entity,rules:e.rules,autocomplete:"off",layout:"vertical"}},[t("div",{staticClass:"card"},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"参数卡名称",prop:"name"}},[t("a-input",{attrs:{placeholder:"请输入参数卡名称",name:"name"},model:{value:e.entity.name,callback:function(t){e.$set(e.entity,"name",t)},expression:"entity.name"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"版本",prop:"version"}},[t("a-input",{attrs:{placeholder:"请输入版本号",name:"version"},model:{value:e.entity.version,callback:function(t){e.$set(e.entity,"version",t)},expression:"entity.version"}})],1)],1),t("a-col",{attrs:{sm:12}},[t("a-form-model-item",{attrs:{label:"描述",prop:"description"}},[t("a-textarea",{attrs:{placeholder:"请输入描述信息",rows:4,"max-length":1e3,name:"description"},model:{value:e.entity.description,callback:function(t){e.$set(e.entity,"description",t)},expression:"entity.description"}})],1)],1)],1)],1),t("g-collapse",{attrs:{headerName:"参数"},scopedSlots:e._u([{key:"content",fn:function(){return[t("a-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"dashed"},on:{click:e.addParameter}},[e._v("添加参数")]),t("a-table",{attrs:{columns:e.parameterColumns,"row-key":e=>e.id,"data-source":e.entity.parameters,pagination:!1,bordered:""},scopedSlots:e._u([{key:"key",fn:function(a,r){return[t("a-input",{attrs:{placeholder:"参数名"},model:{value:a.key,callback:function(t){e.$set(a,"key",t)},expression:"record.key"}})]}},{key:"value",fn:function(a,r){return[t("a-input",{attrs:{placeholder:"参数值"},model:{value:a.value,callback:function(t){e.$set(a,"value",t)},expression:"record.value"}})]}},{key:"operation",fn:function(a,r){return[t("a-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){return e.removeParameter(r)}}},[e._v("删除")])]}}])})]},proxy:!0}])})],1)],1)},i=[],n=a(36026),s={name:"CreateOrEditProcessParameterCard",mixins:[n.GE],data(){return{entity:{name:"",version:"",description:"",parameters:[]},rules:{name:[{required:!0,message:"请输入参数卡名称",trigger:"change"}],version:[{required:!0,message:"请输入版本号",trigger:"change"}]},parameterColumns:[{title:"参数名",dataIndex:"key",key:"key",scopedSlots:{customRender:"key"}},{title:"参数值",dataIndex:"value",key:"value",scopedSlots:{customRender:"value"}},{title:"操作",dataIndex:"operation",key:"operation",scopedSlots:{customRender:"operation"}}]}},methods:{init(){this.id?(this.loading=!0,setTimeout((()=>{this.entity={id:this.id,name:"参数卡"+this.id,version:"v1."+this.id,description:"描述"+this.id,parameters:[{key:"param1",value:"value1"+this.id},{key:"param2",value:"value2"+this.id}]},this.loading=!1}),500)):(this.reset(),this.loading=!1)},resetFormData(){this.entity={name:"",version:"",description:"",parameters:[]}},async save(){let e=await this.checkError();e&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.name),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})})))},addParameter(){this.entity.parameters.push({key:"",value:"",id:(new Date).getTime()})},removeParameter(e){this.entity.parameters.splice(e,1)}}},o=s,l=a(1001),d=(0,l.Z)(o,r,i,!1,null,"0bb69b62",null),c=d.exports}}]);
//# sourceMappingURL=1921.721d69bc.js.map