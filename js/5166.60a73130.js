"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[5166,5839],{45166:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("g-body-layout",{attrs:{pageIndex:t.pageNumber,pageSize:t.pageSize,total:t.total,filterText:t.filterText},on:{"update:filterText":function(e){t.filterText=e},"update:filter-text":function(e){t.filterText=e},pageIndexChange:t.pageIndexChange,pageSizeChange:t.pageSizeChange,suffixSearchCallback:t.onFilterReady},scopedSlots:t._u([{key:"btnGroup",fn:function(){return[e("g-btn-group",{attrs:{buttonLists:t.btnList},on:{btnCallBack:t.btnGroupClick}})]},proxy:!0},{key:"table",fn:function(){return[e("g-rdo-table",{attrs:{expendResetTag:t.expendResetTag,rdoId:t.rdoId,handName:"测试表格",dataList:t.dataList,isTableLoading:t.loading,total:t.total},on:{rowClick:t.rowClick}})]},proxy:!0},{key:"content",fn:function(){return[t.isShowEdit?e("create-or-edit-compRdo",{attrs:{rdoEditParams:t.rdoEditParams,refreshTag:t.refreshTag,saveTag:t.saveTag,resetTag:t.resetTag},on:{childRefresh:function(e){return t.childRefresh(e)},rowClick:t.rowClick}}):e("g-empty")]},proxy:!0}])})},a=[],o=s(36026),n=s(25839),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("a-form-model",{ref:"copyForms",attrs:{layout:"vertical",rules:t.rules,model:t.copyForm}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{span:12}},[e("a-form-model-item",{staticClass:"labelStyle",attrs:{name:"value",label:"数据"}},[e("a-input",{staticStyle:{width:"200px"},attrs:{name:"value",type:"text",disabled:""},model:{value:t.copyForm.value,callback:function(e){t.$set(t.copyForm,"value",e)},expression:"copyForm.value"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{staticClass:"labelStyle",attrs:{label:"复制数据",prop:"copyValue"}},[e("a-input",{staticStyle:{width:"200px"},attrs:{name:"copyValue",type:"text","max-length":200},model:{value:t.copyForm.copyValue,callback:function(e){t.$set(t.copyForm,"copyValue",e)},expression:"copyForm.copyValue"}})],1)],1)],1)],1)],1),e("div",{staticClass:"modal-footer"},[e("g-btn",{attrs:{text:"确认",type:"primary"},on:{callback:t.save}}),e("g-btn",{attrs:{text:"取消"},on:{callback:function(e){return t.$emit("closeModal")}}})],1)])},l=[],c=(s(54612),{name:"GCopyRdo",props:{entity:{type:Object,default:()=>({})}},data(){return{copyForm:{value:"",copyValue:""},rules:{copyValue:[{required:!0,message:"请输入目标实例名称",trigger:"change"}]}}},mounted(){this.copyForm=this.entity,this.copyForm.copyValue=`Copy-of-${this.copyForm.value}`},methods:{save(){this.$refs.copyForms.validate().then((t=>{t&&(this.$emit("success",this.copyForm),this.$emit("closeModal"))}))}}}),d=c,p=s(1001),u=(0,p.Z)(d,r,l,!1,null,"c7eacf80",null),m=u.exports,h={name:"CompRdo",mixins:[o.jS],components:{CreateOrEditCompRdo:n["default"]},data(){return{}},mounted(){},methods:{getBtnList(){this.btnList=[{text:this.AppConst.button.create,icon:this.AppConst.icon.create,eventName:this.AppConst.button.create,display:!0},{text:this.AppConst.button.createVersion,icon:this.AppConst.icon.createVersion,eventName:this.AppConst.button.createVersion,display:this.rdoBaseId},{text:this.AppConst.button.copy,icon:this.AppConst.icon.copy,eventName:this.AppConst.button.copy,display:!!this.rdoId},{text:this.AppConst.button.copyVersion,icon:this.AppConst.icon.copyVersion,eventName:this.AppConst.button.copyVersion,display:!!this.rdoId},{text:this.AppConst.button.delete,icon:this.AppConst.icon.delete,eventName:this.AppConst.button.delete,display:this.rdoBaseId&&this.isRevOfRcdId},{text:this.AppConst.button.deleteVersion,icon:this.AppConst.icon.deleteVersion,eventName:this.AppConst.button.deleteVersion,display:!!this.rdoId&&!this.isRevOfRcdId},{text:this.AppConst.button.refresh,icon:this.AppConst.icon.refresh,eventName:this.AppConst.button.refresh,right:!0,display:this.isShowEdit},{text:this.AppConst.button.save,icon:this.AppConst.icon.save,eventName:this.AppConst.button.save,display:this.isShowEdit,right:!0,type:"primary"}]},fetchData(t){this.loading=!0,setTimeout((()=>{t.finishedCallback();let e=[];for(let t=0;t<25;t++){let s=`${Math.floor(1e4*Math.random())}-${Math.floor(1e4*Math.random())}`;e[t]={id:t+1,name:"测试数据"+(t*this.pageNumber+1),revOfRcdId:s,rdoList:[{revision:"默认版本"+(t*this.pageNumber+1),id:s},{revision:"测试版本"+(t*this.pageNumber+1),id:t+2}]}}this.filterText&&(e=e.filter((t=>t.name.indexOf(this.filterText)>-1))),t.successCallback({items:e,totalCount:2*e.length})}),1e3)},copy(){this.createModal({title:"复制",width:"600px"},{component:m,props:{entity:{copyValue:this.dataList[0].name,value:this.dataList[0].name}},on:{success:t=>{console.log(t),this.loading=!0,setTimeout((()=>{this.loading=!1,this.copySuccess(t.value,t.copyValue),this.refreshGoFirstPage()}),500)}}})},copyVersion(){this.rdoId;this.createModal({title:"复制版本",width:"600px"},{component:m,props:{entity:{copyValue:this.dataList[0].name,value:this.dataList[0].name}},on:{success:t=>{console.log(t),this.loading=!0,setTimeout((()=>{this.loading=!1,this.copySuccess(t.value,t.copyValue),this.refreshGoFirstPage()}),500)}}})},delete(){this.$confirm({title:"确认删除",content:"确认删除吗?",onOk:()=>{this.loading=!0,setTimeout((()=>{this.loading=!1,this.deleteSuccess(),this.refresh()}),500)}})},deleteRev(){this.$confirm({title:"确认删除",content:"确认删除吗?",onOk:()=>{this.loading=!0,setTimeout((()=>{this.loading=!1,this.deleteSuccess(),this.refresh()}),500)}})}}},y=h,f=(0,p.Z)(y,i,a,!1,null,"7dc2730f",null),v=f.exports},25839:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("a-spin",{attrs:{spinning:t.loading}},[e("a-form-model",{ref:"form",attrs:{model:t.entity,rules:t.rules,autocomplete:"off",layout:"vertical"}},[e("div",{staticClass:"card"},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"设备家族名称",prop:"resourceFamilyName"}},[e("a-input",{attrs:{placeholder:"dddddd",name:"resourceFamilyName"},model:{value:t.entity.resourceFamilyName,callback:function(e){t.$set(t.entity,"resourceFamilyName",e)},expression:"entity.resourceFamilyName"}})],1),e("a-row",{staticClass:"special-row"},[e("a-col",{attrs:{sm:10}},[e("a-form-model-item",{attrs:{label:"",prop:"revision"}},[e("a-input",{attrs:{placeholder:"版本",name:"version"},model:{value:t.entity.revision,callback:function(e){t.$set(t.entity,"revision",e)},expression:"entity.revision"}})],1)],1),e("a-col",{staticClass:"special-col",attrs:{sm:14}},[e("a-form-item",{attrs:{label:""}},[e("a-checkbox",{attrs:{name:"isDefault",disabled:t.isRevOfRcdId},model:{value:t.entity.isRevOfRcdId,callback:function(e){t.$set(t.entity,"isRevOfRcdId",e)},expression:"entity.isRevOfRcdId"}},[t._v("默认版本")])],1)],1)],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"描述",prop:"description"}},[e("a-textarea",{attrs:{placeholder:"描述",rows:4,"max-length":1e3,name:"description"},model:{value:t.entity.description,callback:function(e){t.$set(t.entity,"description",e)},expression:"entity.description"}})],1)],1)],1)],1),e("g-collapse",{attrs:{headerName:"测试"},scopedSlots:t._u([{key:"content",fn:function(){return[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"创建人"}},[e("span",[t._v("admin")])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"修改时间"}},[e("span",[t._v(" 2025-04-20 15:00")])])],1)],1)]},proxy:!0}])})],1)],1)},a=[],o=s(36026),n={name:"DataV2CreateOrEditCompRdo",mixins:[o.bp],data(){return{entity:{resourceFamilyName:"",description:"",isRevOfRcdId:!1},rules:{resourceFamilyName:[{required:!0,message:"必填项",trigger:"change"}],revision:[{required:!0,trigger:"change",message:"必填项"}]}}},mounted(){},methods:{init(){console.log("init"),this.loading=!0,this.rdoId?setTimeout((()=>{this.entity={resourceFamilyName:"测试",description:"描述",isRevOfRcdId:this.rdoEditParams?.isRevOfRcdId,revision:1},this.loading=!1}),500):(this.reset(),this.loading=!1)},async save(){let t=await this.checkError();t&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.resourceFamilyName),this.handleSaveEndBackView({id:"ssss",rdoBaseId:"ssss",rdoId:this.rdoId,name:"result.name",version:this.entity.revision,isRevOfRcdId:this.entity.isRevOfRcdId}),this.refreshParent({reset:null})})))}}},r=n,l=s(1001),c=(0,l.Z)(r,i,a,!1,null,"2285cbb7",null),d=c.exports}}]);
//# sourceMappingURL=5166.60a73130.js.map