"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[1403,8184],{99319:function(t,e,a){a.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("a-form-model",{ref:"copyForms",attrs:{layout:"vertical",rules:t.rules,model:t.copyForm}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{span:12}},[e("a-form-model-item",{staticClass:"labelStyle",attrs:{name:"value",label:"数据"}},[e("a-input",{staticStyle:{width:"200px"},attrs:{name:"value",type:"text",disabled:""},model:{value:t.copyForm.value,callback:function(e){t.$set(t.copyForm,"value",e)},expression:"copyForm.value"}})],1)],1),e("a-col",{attrs:{span:12}},[e("a-form-model-item",{staticClass:"labelStyle",attrs:{label:"复制数据",prop:"copyValue"}},[e("a-input",{staticStyle:{width:"200px"},attrs:{name:"copyValue",type:"text","max-length":200},model:{value:t.copyForm.copyValue,callback:function(e){t.$set(t.copyForm,"copyValue",e)},expression:"copyForm.copyValue"}})],1)],1)],1)],1)],1),e("div",{staticClass:"modal-footer"},[e("g-btn",{attrs:{text:"确认",type:"primary"},on:{callback:t.save}}),e("g-btn",{attrs:{text:"取消"},on:{callback:function(e){return t.$emit("closeModal")}}})],1)])},i=[],o=(a(54612),{name:"GCopyNdo",props:{entity:{type:Object,default:()=>({})}},data(){return{copyForm:{value:"",copyValue:""},rules:{copyValue:[{required:!0,message:"请输入目标实例名称",trigger:"change"}]}}},mounted(){this.copyForm=this.entity,this.copyForm.copyValue=`Copy-of-${this.copyForm.value}`},methods:{save(){this.$refs.copyForms.validate().then((t=>{t&&(this.$emit("success",this.copyForm),this.$emit("closeModal"))}))}}}),r=o,n=a(1001),l=(0,n.Z)(r,s,i,!1,null,"04e98444",null),c=l.exports},8184:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("a-spin",{attrs:{spinning:t.loading}},[e("a-form-model",{ref:"form",attrs:{model:t.entity,rules:t.rules,autocomplete:"off",layout:"vertical"}},[e("div",{staticClass:"card"},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{ref:"statusCode",attrs:{label:"状态码",prop:"statusCode"}},[e("a-input",{attrs:{placeholder:"请输入状态码",name:"statusCode",disabled:!!t.id},model:{value:t.entity.statusCode,callback:function(e){t.$set(t.entity,"statusCode",e)},expression:"entity.statusCode"}})],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{ref:"statusName",attrs:{label:"状态名称",prop:"statusName"}},[e("a-input",{attrs:{placeholder:"请输入状态名称",name:"statusName"},model:{value:t.entity.statusName,callback:function(e){t.$set(t.entity,"statusName",e)},expression:"entity.statusName"}})],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{ref:"category",attrs:{label:"状态分类",prop:"category"}},[e("a-select",{attrs:{placeholder:"请选择状态分类",name:"category"},model:{value:t.entity.category,callback:function(e){t.$set(t.entity,"category",e)},expression:"entity.category"}},t._l(t.categoryOptions,(function(a){return e("a-select-option",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{ref:"severity",attrs:{label:"严重程度",prop:"severity"}},[e("a-select",{attrs:{placeholder:"请选择严重程度",name:"severity"},model:{value:t.entity.severity,callback:function(e){t.$set(t.entity,"severity",e)},expression:"entity.severity"}},t._l(t.severityOptions,(function(a){return e("a-select-option",{key:a.value,attrs:{value:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{ref:"status",attrs:{label:"状态",prop:"status"}},[e("a-radio-group",{model:{value:t.entity.status,callback:function(e){t.$set(t.entity,"status",e)},expression:"entity.status"}},[e("a-radio",{attrs:{value:"启用"}},[t._v("启用")]),e("a-radio",{attrs:{value:"禁用"}},[t._v("禁用")])],1)],1)],1),e("a-col",{attrs:{sm:24}},[e("a-form-model-item",{ref:"description",attrs:{label:"描述",prop:"description"}},[e("a-textarea",{attrs:{placeholder:"请输入描述信息",rows:4,maxLength:1e3,name:"description"},model:{value:t.entity.description,callback:function(e){t.$set(t.entity,"description",e)},expression:"entity.description"}})],1)],1),e("a-col",{attrs:{sm:24}},[e("a-form-model-item",{ref:"solution",attrs:{label:"解决方案",prop:"solution"}},[e("a-textarea",{attrs:{placeholder:"请输入解决方案",rows:4,maxLength:1e3,name:"solution"},model:{value:t.entity.solution,callback:function(e){t.$set(t.entity,"solution",e)},expression:"entity.solution"}})],1)],1)],1)],1),t.id?e("g-collapse",{attrs:{headerName:"详细信息"},scopedSlots:t._u([{key:"content",fn:function(){return[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"创建人"}},[e("span",[t._v(t._s(t.entity.createdBy||"未知"))])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"创建时间"}},[e("span",[t._v(t._s(t.entity.createdTime||"未知"))])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"修改人"}},[e("span",[t._v(t._s(t.entity.modifiedBy||"未知"))])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"修改时间"}},[e("span",[t._v(t._s(t.entity.modifiedTime||"未知"))])])],1)],1)]},proxy:!0}],null,!1,338966643)}):t._e()],1)],1)},i=[],o=a(36026),r={name:"CreateOrEditResourceStatusCode",mixins:[o.GE],data(){return{entity:{statusCode:"",statusName:"",category:void 0,severity:void 0,status:"启用",description:"",solution:"",createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""},categoryOptions:[{value:"HARDWARE",label:"硬件故障"},{value:"SOFTWARE",label:"软件故障"},{value:"NETWORK",label:"网络故障"},{value:"SYSTEM",label:"系统故障"},{value:"OTHER",label:"其他"}],severityOptions:[{value:"CRITICAL",label:"严重"},{value:"MAJOR",label:"重要"},{value:"MINOR",label:"次要"},{value:"WARNING",label:"警告"},{value:"INFO",label:"提示"}],rules:{statusCode:[{required:!0,message:"状态码不能为空",trigger:"change"},{pattern:/^[A-Z][0-9]{3}$/,message:"状态码格式不正确，应为1个大写字母后跟3个数字",trigger:"change"}],statusName:[{required:!0,message:"状态名称不能为空",trigger:"change"},{pattern:/^[^\s]+(\s+[^\s]+)*$/,message:"状态名称不能包含前后空格",trigger:"change"}],category:[{required:!0,message:"状态分类不能为空",trigger:"change"}],severity:[{required:!0,message:"严重程度不能为空",trigger:"change"}],status:[{required:!0,message:"状态不能为空",trigger:"change"}]}}},methods:{init(){console.log(this.id,"初始化"),this.loading=!0,this.id?setTimeout((()=>{this.loading=!1,this.entity={statusCode:"E001",statusName:"设备离线",category:"NETWORK",severity:"CRITICAL",status:"启用",description:"设备无法连接到网络",solution:"检查网络连接和设备电源",createdBy:"admin",createdTime:"2024-03-18 10:00:00",modifiedBy:"admin",modifiedTime:"2024-03-18 11:55"}}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={statusCode:"",statusName:"",category:void 0,severity:void 0,status:"启用",description:"",solution:"",createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""}},async save(){let t=await this.checkError();t&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.statusName),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})}),500))}}},n=r,l=a(1001),c=(0,l.Z)(n,s,i,!1,null,"f30af5e6",null),u=c.exports},41403:function(t,e,a){a.r(e),a.d(e,{default:function(){return m}});var s=function(){var t=this,e=t._self._c;return e("g-body-layout",{attrs:{pageIndex:t.pageNumber,pageSize:t.pageSize,total:t.total,filterText:t.filterText},on:{"update:filterText":function(e){t.filterText=e},"update:filter-text":function(e){t.filterText=e},pageIndexChange:t.pageIndexChange,pageSizeChange:t.pageSizeChange,suffixSearchCallback:t.onFilterReady},scopedSlots:t._u([{key:"btnGroup",fn:function(){return[e("g-btn-group",{attrs:{buttonLists:t.btnList},on:{btnCallBack:t.btnGroupClick}})]},proxy:!0},{key:"table",fn:function(){return[e("g-ndo-table",{attrs:{id:t.id,handName:"设备状态码",dataList:t.dataList,isTableLoading:t.loading,total:t.total},on:{rowClick:t.rowClick}})]},proxy:!0},{key:"content",fn:function(){return[t.isShowEdit?e("create-or-edit-resource-status-code",{attrs:{ndoEditParams:t.ndoEditParams,refreshTag:t.refreshTag,saveTag:t.saveTag,resetTag:t.resetTag},on:{childRefresh:function(e){return t.childRefresh(e)},rowClick:function(e){return t.rowClick(e)}}}):e("g-empty")]},proxy:!0}])})},i=[],o=a(8184),r=a(99319),n=a(36026),l={name:"DataV2ResourceStatusCode",mixins:[n.He],components:{CreateOrEditResourceStatusCode:o["default"]},data(){return{isTableLoading:!1,filterText:""}},mounted(){},created(){this.getBtnList()},methods:{getBtnList(){this.btnList=[{text:this.AppConst.button.create,icon:this.AppConst.icon.create,eventName:this.AppConst.button.create,display:!0},{text:this.AppConst.button.copy,icon:this.AppConst.icon.copy,eventName:this.AppConst.button.copy,display:!!this.id},{text:this.AppConst.button.delete,icon:this.AppConst.icon.delete,eventName:this.AppConst.button.delete,display:!!this.id},{text:this.AppConst.button.refresh,icon:this.AppConst.icon.refresh,eventName:this.AppConst.button.refresh,right:!0,display:this.isShowEdit},{text:this.AppConst.button.save,icon:this.AppConst.icon.save,eventName:this.AppConst.button.save,right:!0,type:"primary",display:this.isShowEdit}]},copy(){this.createModal({title:"复制",width:"600px"},{component:r.Z,props:{entity:{copyValue:this.dataList[0].name,value:this.dataList[0].name}},on:{success:t=>{console.log(t),this.loading=!0,setTimeout((()=>{this.loading=!1,this.copySuccess(t.value,t.copyValue),this.refreshGoFirstPage()}),500)}}})},delete(){this.$confirm({title:"确认删除",content:"确认删除该状态码吗？删除后无法恢复。",onOk:()=>{this.loading=!0,setTimeout((()=>{this.loading=!1,this.deleteSuccess(),this.refresh()}),500)}})},fetchData(t){this.loading=!0,setTimeout((()=>{t.finishedCallback();let e=[];const a=["硬件故障","软件故障","网络故障","系统故障","其他"],s=["严重","重要","次要","警告","提示"],i=["启用","禁用"];for(let t=0;t<25;t++)e[t]={id:t+1,statusCode:`${String.fromCharCode(69+t%5)}${String(t+1).padStart(3,"0")}`,name:`${a[t%5]}状态${t+1}`,category:a[t%5],severity:s[t%5],description:`这是一个${a[t%5]}相关的状态码，用于表示${s[t%5]}级别的问题`,solution:"建议采取以下措施：\n1. 检查相关设备\n2. 进行必要维护\n3. 联系技术支持",status:i[t%2],createdBy:"admin",createdTime:"2024-03-18 "+(10+t%10)+":"+t%60};this.filterText&&(console.log(this.filterText),e=e.filter((t=>t.statusCode.indexOf(this.filterText)>-1||t.statusName.indexOf(this.filterText)>-1||t.category.indexOf(this.filterText)>-1||t.severity.indexOf(this.filterText)>-1||t.description.indexOf(this.filterText)>-1||t.solution.indexOf(this.filterText)>-1))),t.successCallback({items:e,totalCount:2*e.length})}),1e3)}}},c=l,u=a(1001),d=(0,u.Z)(c,s,i,!1,null,"e2bfc27a",null),m=d.exports}}]);
//# sourceMappingURL=1403.69fa5817.js.map