"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[4461,1422],{51422:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var o=function(){var t=this,e=t._self._c;return e("a-spin",{attrs:{spinning:t.loading}},[e("a-form-model",{ref:"form",attrs:{model:t.entity,rules:t.rules,"label-col":{span:6},"wrapper-col":{span:18}}},[e("g-collapse",{attrs:{headerName:"基本信息"},scopedSlots:t._u([{key:"content",fn:function(){return[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"模板编码",prop:"modelCode"}},[e("a-input",{attrs:{placeholder:"请输入模板编码",disabled:!!t.id},model:{value:t.entity.modelCode,callback:function(e){t.$set(t.entity,"modelCode",e)},expression:"entity.modelCode"}})],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"模板名称",prop:"modelName"}},[e("a-input",{attrs:{placeholder:"请输入模板名称"},model:{value:t.entity.modelName,callback:function(e){t.$set(t.entity,"modelName",e)},expression:"entity.modelName"}})],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"签名要求",prop:"requirement"}},[e("a-select",{attrs:{placeholder:"请选择签名要求"},model:{value:t.entity.requirement,callback:function(e){t.$set(t.entity,"requirement",e)},expression:"entity.requirement"}},[e("a-select-option",{attrs:{value:"ESR1001"}},[t._v(" ESR1001-操作确认需求 ")]),e("a-select-option",{attrs:{value:"ESR1002"}},[t._v(" ESR1002-审核确认需求 ")]),e("a-select-option",{attrs:{value:"ESR1003"}},[t._v(" ESR1003-质量确认需求 ")])],1)],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"状态",prop:"status"}},[e("a-select",{attrs:{placeholder:"请选择状态"},model:{value:t.entity.status,callback:function(e){t.$set(t.entity,"status",e)},expression:"entity.status"}},[e("a-select-option",{attrs:{value:"启用"}},[t._v("启用")]),e("a-select-option",{attrs:{value:"禁用"}},[t._v("禁用")])],1)],1)],1)],1)]},proxy:!0}])}),e("g-collapse",{attrs:{headerName:"签名设置"},scopedSlots:t._u([{key:"content",fn:function(){return[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:24}},[e("div",{staticClass:"sign-board-container"},[e("h4",[t._v("签名区域")]),e("g-sign",{ref:"signBoard",attrs:{"line-width":t.entity.lineWidth,"line-color":t.entity.lineColor,"background-color":t.entity.backgroundColor,"save-format":t.entity.saveFormat},on:{save:t.handleSignSave,clear:t.handleSignClear}})],1)]),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"线条宽度",prop:"lineWidth"}},[e("a-input-number",{attrs:{min:1,max:10},model:{value:t.entity.lineWidth,callback:function(e){t.$set(t.entity,"lineWidth",e)},expression:"entity.lineWidth"}})],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"线条颜色",prop:"lineColor"}},[e("a-input",{attrs:{type:"color"},model:{value:t.entity.lineColor,callback:function(e){t.$set(t.entity,"lineColor",e)},expression:"entity.lineColor"}})],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"背景颜色",prop:"backgroundColor"}},[e("a-input",{attrs:{type:"color"},model:{value:t.entity.backgroundColor,callback:function(e){t.$set(t.entity,"backgroundColor",e)},expression:"entity.backgroundColor"}})],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"保存格式",prop:"saveFormat"}},[e("a-select",{model:{value:t.entity.saveFormat,callback:function(e){t.$set(t.entity,"saveFormat",e)},expression:"entity.saveFormat"}},[e("a-select-option",{attrs:{value:"png"}},[t._v("PNG")]),e("a-select-option",{attrs:{value:"jpeg"}},[t._v("JPEG")]),e("a-select-option",{attrs:{value:"svg"}},[t._v("SVG")])],1)],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"签名位置",prop:"position"}},[e("a-select",{model:{value:t.entity.position,callback:function(e){t.$set(t.entity,"position",e)},expression:"entity.position"}},[e("a-select-option",{attrs:{value:"top-left"}},[t._v("左上")]),e("a-select-option",{attrs:{value:"top-right"}},[t._v("右上")]),e("a-select-option",{attrs:{value:"bottom-left"}},[t._v("左下")]),e("a-select-option",{attrs:{value:"bottom-right"}},[t._v("右下")])],1)],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"签名大小",prop:"size"}},[e("a-select",{model:{value:t.entity.size,callback:function(e){t.$set(t.entity,"size",e)},expression:"entity.size"}},[e("a-select-option",{attrs:{value:"small"}},[t._v("小")]),e("a-select-option",{attrs:{value:"medium"}},[t._v("中")]),e("a-select-option",{attrs:{value:"large"}},[t._v("大")])],1)],1)],1)],1)]},proxy:!0}])}),e("g-collapse",{attrs:{headerName:"高级设置"},scopedSlots:t._u([{key:"content",fn:function(){return[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"水印",prop:"watermark"}},[e("a-switch",{model:{value:t.entity.watermark,callback:function(e){t.$set(t.entity,"watermark",e)},expression:"entity.watermark"}})],1)],1),e("a-col",{attrs:{sm:12}},[e("a-form-model-item",{attrs:{label:"时间戳",prop:"timestamp"}},[e("a-switch",{model:{value:t.entity.timestamp,callback:function(e){t.$set(t.entity,"timestamp",e)},expression:"entity.timestamp"}})],1)],1),e("a-col",{attrs:{sm:24}},[t.entity.watermark?e("a-form-model-item",{attrs:{label:"水印文字",prop:"watermarkText"}},[e("a-input",{attrs:{placeholder:"请输入水印文字"},model:{value:t.entity.watermarkText,callback:function(e){t.$set(t.entity,"watermarkText",e)},expression:"entity.watermarkText"}})],1):t._e()],1),e("a-col",{attrs:{sm:24}},[e("a-form-model-item",{attrs:{label:"描述",prop:"description"}},[e("a-textarea",{attrs:{rows:4,placeholder:"请输入描述信息"},model:{value:t.entity.description,callback:function(e){t.$set(t.entity,"description",e)},expression:"entity.description"}})],1)],1)],1)]},proxy:!0}])}),e("g-collapse",{attrs:{headerName:"其他信息"},scopedSlots:t._u([{key:"content",fn:function(){return[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"创建人"}},[e("span",[t._v(t._s(t.entity.creator||"admin"))])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"创建时间"}},[e("span",[t._v(t._s(t.entity.createTime||"2024-01-01 12:00:00"))])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"最后修改人"}},[e("span",[t._v(t._s(t.entity.modifier||"admin"))])])],1),e("a-col",{attrs:{sm:6}},[e("a-form-model-item",{attrs:{label:"最后修改时间"}},[e("span",[t._v(t._s(t.entity.modifyTime||"2024-01-01 12:00:00"))])])],1)],1)]},proxy:!0}])})],1)],1)},i=[],r=a(36026),s={name:"CreateOrEditModelESign",mixins:[r.GE],data(){return{entity:{modelCode:"",modelName:"",requirement:void 0,status:"启用",lineWidth:2,lineColor:"#000000",backgroundColor:"#ffffff",saveFormat:"png",position:"bottom-right",size:"medium",watermark:!1,watermarkText:"",timestamp:!0,description:"",creator:"",createTime:"",modifier:"",modifyTime:""},rules:{modelCode:[{required:!0,message:"模板编码不能为空",trigger:"change"},{pattern:/^[A-Z0-9]+$/,message:"模板编码只能包含大写字母和数字",trigger:"change"}],modelName:[{required:!0,message:"模板名称不能为空",trigger:"change"},{pattern:/^[^\s]+(\s+[^\s]+)*$/,message:"名称不能包含前后空格",trigger:"change"}],requirement:[{required:!0,message:"请选择签名要求",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}}},methods:{init(){this.loading=!0,this.id?setTimeout((()=>{this.loading=!1,this.entity={modelCode:"ESM1001",modelName:"测试电子签名模板",requirement:"ESR1001",status:"启用",lineWidth:2,lineColor:"#000000",backgroundColor:"#ffffff",saveFormat:"png",position:"bottom-right",size:"medium",watermark:!0,watermarkText:"测试水印",timestamp:!0,description:"这是一个测试电子签名模板",creator:"admin",createTime:"2024-01-01 12:00:00",modifier:"admin",modifyTime:"2024-01-01 12:00:00"}}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={modelCode:"",modelName:"",requirement:void 0,status:"启用",lineWidth:2,lineColor:"#000000",backgroundColor:"#ffffff",saveFormat:"png",position:"bottom-right",size:"medium",watermark:!1,watermarkText:"",timestamp:!0,description:"",creator:"",createTime:"",modifier:"",modifyTime:""}},handleSignSave(t){console.log("签名保存成功",t)},handleSignClear(){console.log("签名已清空")}}},n=s,l=a(1001),m=(0,l.Z)(n,o,i,!1,null,"a860eb10",null),c=m.exports},54461:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var o=function(){var t=this,e=t._self._c;return e("g-body-layout",{attrs:{pageIndex:t.pageNumber,pageSize:t.pageSize,total:t.total,filterText:t.filterText},on:{"update:filterText":function(e){t.filterText=e},"update:filter-text":function(e){t.filterText=e},pageIndexChange:t.pageIndexChange,pageSizeChange:t.pageSizeChange,suffixSearchCallback:t.onFilterReady},scopedSlots:t._u([{key:"btnGroup",fn:function(){return[e("g-btn-group",{attrs:{buttonLists:t.btnList},on:{btnCallBack:t.btnGroupClick}})]},proxy:!0},{key:"table",fn:function(){return[e("g-ndo-table",{attrs:{id:t.id,handName:"电子签名模板",dataList:t.dataList,isTableLoading:t.loading,total:t.total},on:{rowClick:t.rowClick}})]},proxy:!0},{key:"content",fn:function(){return[t.isShowEdit?e("create-or-edit-model-e-sign",{attrs:{ndoEditParams:t.ndoEditParams,refreshTag:t.refreshTag,saveTag:t.saveTag,resetTag:t.resetTag},on:{childRefresh:function(e){return t.childRefresh(e)},rowClick:function(e){return t.rowClick(e)}}}):e("g-empty")]},proxy:!0}])})},i=[],r=a(51422),s=a(36026),n={name:"ModelESign",mixins:[s.He],components:{CreateOrEditModelESign:r["default"]},data(){return{isTableLoading:!1,filterText:""}},created(){this.getBtnList()},methods:{getBtnList(){this.btnList=[{text:this.AppConst.button.create,icon:this.AppConst.icon.create,eventName:this.AppConst.button.create,display:!0},{text:this.AppConst.button.copy,icon:this.AppConst.icon.copy,eventName:this.AppConst.button.copy,display:!!this.id},{text:this.AppConst.button.delete,icon:this.AppConst.icon.delete,eventName:this.AppConst.button.delete,display:!!this.id},{text:this.AppConst.button.refresh,icon:this.AppConst.icon.refresh,eventName:this.AppConst.button.refresh,right:!0,display:this.isShowEdit},{text:this.AppConst.button.save,icon:this.AppConst.icon.save,eventName:this.AppConst.button.save,right:!0,type:"primary",display:this.isShowEdit}]},fetchData(t){this.loading=!0,setTimeout((()=>{t.finishedCallback();let e=[];for(let t=0;t<25;t++)e[t]={id:t+1,modelCode:"ESM"+(1e3+t),name:"电子签名模板"+(t+1),requirement:["操作确认需求","审核确认需求","质量确认需求"][t%3],position:["左上","右上","左下","右下"][t%4],size:["小","中","大"][t%3],status:["启用","禁用"][t%2],createTime:"2024-"+(t%12+1)+"-"+(t%28+1)};this.filterText&&(e=e.filter((t=>t.modelCode.indexOf(this.filterText)>-1||t.name.indexOf(this.filterText)>-1))),t.successCallback({items:e,totalCount:2*e.length})}),1e3)}}},l=n,m=a(1001),c=(0,m.Z)(l,o,i,!1,null,"1d62911e",null),d=c.exports}}]);
//# sourceMappingURL=4461.a5c0330e.js.map