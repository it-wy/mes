"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[6508],{30403:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var r=function(){var e=this,t=e._self._c;return t("a-spin",{attrs:{spinning:e.loading}},[t("a-form-model",{ref:"form",attrs:{model:e.entity,rules:e.rules,autocomplete:"off",layout:"vertical"}},[t("div",{staticClass:"card"},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"resourceName",attrs:{label:"设备名称",prop:"resourceName"}},[t("a-input",{attrs:{placeholder:"请输入设备名称",name:"resourceName"},on:{change:e.inChange},model:{value:e.entity.resourceName,callback:function(t){e.$set(e.entity,"resourceName",t)},expression:"entity.resourceName"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"resourceFamilyId",attrs:{label:"所属设备家族",prop:"resourceFamilyId"}},[t("a-select",{attrs:{placeholder:"请选择所属设备家族",name:"resourceFamilyId"},on:{change:e.onFamilyChange},model:{value:e.entity.resourceFamilyId,callback:function(t){e.$set(e.entity,"resourceFamilyId",t)},expression:"entity.resourceFamilyId"}},e._l(e.familyList,(function(a){return t("a-select-option",{key:a.id,attrs:{value:a.id}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"resourceGroupId",attrs:{label:"所属设备组",prop:"resourceGroupId"}},[t("a-select",{attrs:{placeholder:"请选择所属设备组",name:"resourceGroupId",disabled:!e.entity.resourceFamilyId},model:{value:e.entity.resourceGroupId,callback:function(t){e.$set(e.entity,"resourceGroupId",t)},expression:"entity.resourceGroupId"}},e._l(e.groupList,(function(a){return t("a-select-option",{key:a.id,attrs:{value:a.id}},[e._v(" "+e._s(a.name)+" ")])})),1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"ipAddress",attrs:{label:"IP地址",prop:"ipAddress"}},[t("a-input",{attrs:{placeholder:"请输入IP地址",name:"ipAddress"},model:{value:e.entity.ipAddress,callback:function(t){e.$set(e.entity,"ipAddress",t)},expression:"entity.ipAddress"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"model",attrs:{label:"设备型号",prop:"model"}},[t("a-input",{attrs:{placeholder:"请输入设备型号",name:"model"},model:{value:e.entity.model,callback:function(t){e.$set(e.entity,"model",t)},expression:"entity.model"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"serialNumber",attrs:{label:"序列号",prop:"serialNumber"}},[t("a-input",{attrs:{placeholder:"请输入序列号",name:"serialNumber"},model:{value:e.entity.serialNumber,callback:function(t){e.$set(e.entity,"serialNumber",t)},expression:"entity.serialNumber"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"status",attrs:{label:"设备状态",prop:"status"}},[t("a-select",{attrs:{placeholder:"请选择状态",name:"status"},model:{value:e.entity.status,callback:function(t){e.$set(e.entity,"status",t)},expression:"entity.status"}},[t("a-select-option",{attrs:{value:"在线"}},[e._v("在线")]),t("a-select-option",{attrs:{value:"离线"}},[e._v("离线")]),t("a-select-option",{attrs:{value:"维护中"}},[e._v("维护中")]),t("a-select-option",{attrs:{value:"故障"}},[e._v("故障")])],1)],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{ref:"manufacturer",attrs:{label:"制造商",prop:"manufacturer"}},[t("a-input",{attrs:{placeholder:"请输入制造商",name:"manufacturer"},model:{value:e.entity.manufacturer,callback:function(t){e.$set(e.entity,"manufacturer",t)},expression:"entity.manufacturer"}})],1)],1),t("a-col",{attrs:{sm:12}},[t("a-form-model-item",{attrs:{label:"描述",prop:"description"}},[t("a-textarea",{attrs:{placeholder:"请输入描述信息",rows:4,"max-length":1e3,name:"description"},model:{value:e.entity.description,callback:function(t){e.$set(e.entity,"description",t)},expression:"entity.description"}})],1)],1)],1)],1),t("g-collapse",{attrs:{headerName:"详细信息"},scopedSlots:e._u([{key:"content",fn:function(){return[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"购买日期",prop:"purchaseDate"}},[t("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择购买日期"},model:{value:e.entity.purchaseDate,callback:function(t){e.$set(e.entity,"purchaseDate",t)},expression:"entity.purchaseDate"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"保修期至",prop:"warrantyDate"}},[t("a-date-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择保修期至"},model:{value:e.entity.warrantyDate,callback:function(t){e.$set(e.entity,"warrantyDate",t)},expression:"entity.warrantyDate"}})],1)],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建人"}},[t("span",[e._v(e._s(e.entity.createdBy||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"创建时间"}},[t("span",[e._v(e._s(e.entity.createdTime||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"修改人"}},[t("span",[e._v(e._s(e.entity.modifiedBy||"未知"))])])],1),t("a-col",{attrs:{sm:6}},[t("a-form-model-item",{attrs:{label:"修改时间"}},[t("span",[e._v(e._s(e.entity.modifiedTime||"未知"))])])],1)],1)]},proxy:!0}])})],1)],1)},s=[],i=a(36026),l={name:"CreateOrEditResource",mixins:[i.GE],data(){return{entity:{resourceName:"",resourceFamilyId:"",resourceGroupId:"",ipAddress:"",model:"",serialNumber:"",status:"在线",manufacturer:"",description:"",purchaseDate:null,warrantyDate:null,createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""},familyList:[],groupList:[],rules:{resourceName:[{required:!0,message:"设备名称不能为空",trigger:"change"},{pattern:/^[^\s]+(\s+[^\s]+)*$/,trigger:"change",message:"名称格式不正确，不能包含前后空格"}],resourceFamilyId:[{required:!0,message:"所属设备家族不能为空",trigger:"change"}],resourceGroupId:[{required:!0,message:"所属设备组不能为空",trigger:"change"}],ipAddress:[{required:!0,message:"IP地址不能为空",trigger:"change"},{pattern:/^(\d{1,3}\.){3}\d{1,3}$/,message:"IP地址格式不正确",trigger:"change"}],serialNumber:[{required:!0,message:"序列号不能为空",trigger:"change"}],status:[{required:!0,message:"设备状态不能为空",trigger:"change"}]}}},mounted(){this.getFamilyList()},methods:{getFamilyList(){setTimeout((()=>{this.familyList=[{id:1,name:"交换机"},{id:2,name:"路由器"},{id:3,name:"服务器"},{id:4,name:"存储设备"},{id:5,name:"防火墙"}]}),300)},onFamilyChange(e){this.entity.resourceGroupId="",this.getGroupList(e)},getGroupList(e){e&&setTimeout((()=>{const t=[{id:1,name:"核心交换组",familyId:1},{id:2,name:"接入交换组",familyId:1},{id:3,name:"边界路由组",familyId:2},{id:4,name:"核心路由组",familyId:2},{id:5,name:"应用服务器组",familyId:3},{id:6,name:"数据库服务器组",familyId:3},{id:7,name:"主存储组",familyId:4},{id:8,name:"备份存储组",familyId:4},{id:9,name:"边界防火墙组",familyId:5},{id:10,name:"内网防火墙组",familyId:5}];this.groupList=t.filter((t=>t.familyId===e))}),300)},init(){console.log(this.id,"初始化"),this.loading=!0,this.id?setTimeout((()=>{this.loading=!1,this.entity={resourceName:"核心交换机01",resourceFamilyId:1,resourceGroupId:1,ipAddress:"192.168.1.1",model:"S5820-32C-EI",serialNumber:"21023ABCDE12345",status:"在线",manufacturer:"华为",description:"数据中心核心交换设备，负责汇聚网络流量",purchaseDate:"2025-01-15",warrantyDate:"2028-01-15",createdBy:"admin",createdTime:"2025-03-18 10:30",modifiedBy:"admin",modifiedTime:"2025-03-18 11:55"},this.getGroupList(this.entity.resourceFamilyId)}),500):(this.reset(),this.loading=!1)},resetFormData(){this.entity={resourceName:"",resourceFamilyId:"",resourceGroupId:"",ipAddress:"",model:"",serialNumber:"",status:"在线",manufacturer:"",description:"",purchaseDate:null,warrantyDate:null,createdBy:"",createdTime:"",modifiedBy:"",modifiedTime:""},this.groupList=[]},async save(){let e=await this.checkError();e&&(this.loading=!0,setTimeout((()=>{this.loading=!1,this.saveSuccess(this.entity.resourceName),this.handleSaveEndBackView(this.id),this.refreshParent({reset:null})}),500))},inChange(e){console.log(e.target.value)}}},o=l,n=a(1001),m=(0,n.Z)(o,r,s,!1,null,"2851ab22",null),d=m.exports}}]);
//# sourceMappingURL=6508.0f951a5e.js.map