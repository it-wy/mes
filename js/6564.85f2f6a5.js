"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[6564],{76564:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-user"},[e("div",{staticStyle:{"background-color":"#fff","margin-bottom":"10px",padding:"12px 24px","box-sizing":"border-box","border-radius":"4px"}},[e("a-form",{attrs:{form:t.form,layout:"vertical"}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{span:4}},[e("a-form-item",{attrs:{label:"批次编号"}},[e("a-input",{attrs:{placeholder:"请输入批次编号"},model:{value:t.form.containerCode,callback:function(e){t.$set(t.form,"containerCode",e)},expression:"form.containerCode"}})],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-item",{attrs:{label:"批次名称"}},[e("a-input",{attrs:{placeholder:"请输入批次名称"},model:{value:t.form.containerName,callback:function(e){t.$set(t.form,"containerName",e)},expression:"form.containerName"}})],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-item",{attrs:{label:"批次类型"}},[e("a-select",{attrs:{placeholder:"请选择批次类型"},model:{value:t.form.containerType,callback:function(e){t.$set(t.form,"containerType",e)},expression:"form.containerType"}},[e("a-select-option",{attrs:{value:"生产批次"}},[t._v("生产批次")]),e("a-select-option",{attrs:{value:"质检批次"}},[t._v("质检批次")]),e("a-select-option",{attrs:{value:"库存批次"}},[t._v("库存批次")]),e("a-select-option",{attrs:{value:"运输批次"}},[t._v("运输批次")]),e("a-select-option",{attrs:{value:"销售批次"}},[t._v("销售批次")])],1)],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-item",{attrs:{label:"状态"}},[e("a-select",{attrs:{placeholder:"请选择状态"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[e("a-select-option",{attrs:{value:"进行中"}},[t._v("进行中")]),e("a-select-option",{attrs:{value:"已完成"}},[t._v("已完成")]),e("a-select-option",{attrs:{value:"已取消"}},[t._v("已取消")]),e("a-select-option",{attrs:{value:"已暂停"}},[t._v("已暂停")])],1)],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-item",{attrs:{label:"优先级"}},[e("a-select",{attrs:{placeholder:"请选择优先级"},model:{value:t.form.priority,callback:function(e){t.$set(t.form,"priority",e)},expression:"form.priority"}},[e("a-select-option",{attrs:{value:"高"}},[t._v("高")]),e("a-select-option",{attrs:{value:"中"}},[t._v("中")]),e("a-select-option",{attrs:{value:"低"}},[t._v("低")])],1)],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-item",{attrs:{label:" "}},[e("g-btn",{staticClass:"mr-2",attrs:{text:"查询",type:"primary"},on:{callback:t.refresh}}),e("g-btn",{attrs:{text:"重置"},on:{callback:t.resetForm}})],1)],1)],1)],1)],1),e("div",{staticStyle:{"background-color":"#fff",padding:"12px 24px 0","box-sizing":"border-box","overflow-y":"hidden","border-radius":"4px"}},[e("g-table-bar",{attrs:{spacing:t.tableSize,columns:t.columns,virtualColumns:t.virtualColumns},on:{"update:spacing":function(e){t.tableSize=e},"update:columns":function(e){t.columns=e},refreshTable:t.refresh}},[e("g-btn",{staticStyle:{"margin-right":"10px"},attrs:{text:"添加"},on:{callback:t.addOrEditContainer}}),e("g-btn",{staticStyle:{"margin-right":"10px"},attrs:{text:"批量删除",type:"danger"}}),e("g-btn",{staticStyle:{"margin-right":"10px"},attrs:{text:"导出excel"}})],1),e("a-table",{attrs:{id:"tables",columns:t.columns,"data-source":t.dataList,scroll:{y:t.tableheight},"row-key":t=>t.id,pagination:t.pagination,rowSelection:t.rowSelection,loading:t.isTableLoading,size:t.tableSize},on:{change:t.tableChange},scopedSlots:t._u([{key:"status",fn:function(a){return e("span",{},[e("a-tag",{attrs:{color:t.getStatusColor(a)}},[t._v(t._s(a))])],1)}},{key:"priority",fn:function(a){return e("span",{},[e("a-tag",{attrs:{color:t.getPriorityColor(a)}},[t._v(t._s(a))])],1)}},{key:"action",fn:function(a,r){return e("span",{},[e("a",{staticClass:"mr-1",attrs:{href:"javascript:;"},on:{click:function(e){return t.addOrEditContainer(r)}}},[t._v("编辑")]),e("a",{staticClass:"del",attrs:{href:"javascript:;"},on:{click:function(e){return t.delContainer(r)}}},[t._v("删除")])])}}])})],1)])},i=[],o=a(37491),n=a(2136),s=a(36026),l={name:"container-list",mixins:[s.tL],data(){return{tableheight:0,form:{containerCode:"",containerName:"",containerType:void 0,status:void 0,priority:void 0}}},mounted(){this.columns=[{title:"序号",dataIndex:"id",key:"id",customRender:(t,e,a)=>`${a+1}`,width:80},{title:"批次编号",dataIndex:"containerCode",key:"containerCode",ellipsis:!0},{title:"批次名称",dataIndex:"name",key:"name",ellipsis:!0},{title:"批次类型",dataIndex:"containerType",key:"containerType"},{title:"状态",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"优先级",dataIndex:"priority",key:"priority",scopedSlots:{customRender:"priority"}},{title:"开始时间",dataIndex:"startTime",key:"startTime",ellipsis:!0},{title:"结束时间",dataIndex:"endTime",key:"endTime",ellipsis:!0},{title:"创建时间",dataIndex:"createdTime",key:"createdTime",sorter:!0,ellipsis:!0,width:180},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"},width:150}],this.virtualColumns=JSON.parse(JSON.stringify(this.columns)).map((t=>(t.checked=!0,t))),this.$nextTick((()=>{this.tableheight=(0,o.W)({id:"tables"})}))},methods:{getStatusColor(t){const e={"进行中":"blue","已完成":"green","已取消":"red","已暂停":"orange"};return e[t]||"blue"},getPriorityColor(t){const e={"高":"red","中":"orange","低":"green"};return e[t]||"blue"},resetForm(){this.form={containerCode:"",containerName:"",containerType:void 0,status:void 0,priority:void 0},this.refresh()},addOrEditContainer(t){(0,n.Z)({title:t?"编辑批次":"添加批次",width:"800px"},{component:CreateOrEditContainer,props:{record:t}})},fetchData(t){this.isTableLoading=!0,setTimeout((()=>{let e=[];const a=["生产批次","质检批次","库存批次","运输批次","销售批次"],r=["进行中","已完成","已取消","已暂停"],i=["高","中","低"];for(let t=0;t<200;t++){const o=t%5,n=t%4,s=t%3,l=new Date(2024,2,1+t%28),c=new Date(2024,3+t%6,1+t%28),d=`${l.getFullYear()}-${(l.getMonth()+1).toString().padStart(2,"0")}-${l.getDate().toString().padStart(2,"0")}`,m=`${c.getFullYear()}-${(c.getMonth()+1).toString().padStart(2,"0")}-${c.getDate().toString().padStart(2,"0")}`;e[t]={id:t+1,containerCode:`CT${String(t+1).padStart(4,"0")}`,name:`${a[o]}${t%9+1}`,containerType:a[o],status:r[n],priority:i[s],startTime:d,endTime:m,description:`${a[o]}用于${r[n]}状态的管理`,createdBy:"admin",createdTime:"2024-03-19 "+(10+t%10)+":"+t%60,modifiedBy:"admin",modifiedTime:"2024-03-"+(20+t%8)+" "+(13+t%10)+":"+t%60}}this.form.containerCode&&(e=e.filter((t=>t.containerCode.includes(this.form.containerCode)))),this.form.containerName&&(e=e.filter((t=>t.name.includes(this.form.containerName)))),this.form.containerType&&(e=e.filter((t=>t.containerType===this.form.containerType))),this.form.status&&(e=e.filter((t=>t.status===this.form.status))),this.form.priority&&(e=e.filter((t=>t.priority===this.form.priority))),t.finishedCallback&&t.finishedCallback(),t.successCallback&&t.successCallback({items:e,totalCount:200}),this.isTableLoading=!1}),500)},delContainer(t){this.$confirm({title:"确认删除",content:`确认删除批次 "${t.name}" 吗?`,onOk:()=>{this.isTableLoading=!0,setTimeout((()=>{this.refresh()}),500)}})}}},c=l,d=a(1001),m=(0,d.Z)(c,r,i,!1,null,"05dba3fd",null),u=m.exports}}]);
//# sourceMappingURL=6564.85f2f6a5.js.map