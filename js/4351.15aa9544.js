"use strict";(self["webpackChunkdata_v2"]=self["webpackChunkdata_v2"]||[]).push([[4351],{24351:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex-user"},[t("div",{staticStyle:{"background-color":"#fff","margin-bottom":"10px",padding:"12px 24px","box-sizing":"border-box","border-radius":"4px"}},[t("a-form",{attrs:{form:e.form,layout:"vertical"}},[t("a-row",{attrs:{gutter:24}},[t("a-col",{attrs:{span:4}},[t("a-form-item",{attrs:{label:"模型名称"}},[t("a-input",{attrs:{placeholder:"请输入模型名称"},model:{value:e.form.modelName,callback:function(t){e.$set(e.form,"modelName",t)},expression:"form.modelName"}})],1)],1),t("a-col",{attrs:{span:4}},[t("a-form-item",{attrs:{label:"设计者"}},[t("a-input",{attrs:{placeholder:"请输入设计者"},model:{value:e.form.designer,callback:function(t){e.$set(e.form,"designer",t)},expression:"form.designer"}})],1)],1),t("a-col",{attrs:{span:4}},[t("a-form-item",{attrs:{label:"审核者"}},[t("a-input",{attrs:{placeholder:"请输入审核者"},model:{value:e.form.reviewer,callback:function(t){e.$set(e.form,"reviewer",t)},expression:"form.reviewer"}})],1)],1),t("a-col",{attrs:{span:4}},[t("a-form-item",{attrs:{label:" "}},[t("g-btn",{staticClass:"mr-2",attrs:{text:"查询",type:"primary"}}),t("g-btn",{attrs:{text:"重置"}})],1)],1)],1)],1)],1),t("div",{staticStyle:{"background-color":"#fff",padding:"12px 24px 0","box-sizing":"border-box","overflow-y":"hidden","border-radius":"4px"}},[t("g-table-bar",{attrs:{spacing:e.tableSize,columns:e.columns,virtualColumns:e.virtualColumns},on:{"update:spacing":function(t){e.tableSize=t},"update:columns":function(t){e.columns=t},refreshTable:e.refresh}},[t("g-btn",{staticStyle:{"margin-right":"10px"},attrs:{text:"添加"},on:{callback:e.addOrEditSpec}}),t("g-btn",{staticStyle:{"margin-right":"10px"},attrs:{text:"批量删除",type:"danger"}}),t("g-btn",{staticStyle:{"margin-right":"10px"},attrs:{text:"导出excel"}})],1),t("a-table",{attrs:{id:"tables",columns:e.columns,"data-source":e.dataList,scroll:{y:e.tableheight},"row-key":e=>e.id,pagination:e.pagination,rowSelection:e.rowSelection,loading:e.isTableLoading,size:e.tableSize},on:{change:e.tableChange},scopedSlots:e._u([{key:"role",fn:function(a){return t("span",{},[t("a-tag",{attrs:{color:"blue"}},[e._v(e._s(a))])],1)}},{key:"action",fn:function(a,i){return t("span",{},[t("a",{staticClass:"mr-1",attrs:{href:"javascript:;"},on:{click:function(t){return e.addOrEditSpec(i)}}},[e._v("编辑")]),t("a",{staticClass:"del",attrs:{href:"javascript:;"},on:{click:function(t){return e.delSpec(i)}}},[e._v("删除")])])}}])})],1)])},r=[],s=a(37491),n=a(2136),l=a(36026),o={name:"model-design-infoTrace",mixins:[l.tL],data(){return{tableheight:0,form:{modelName:"",designer:"",reviewer:""}}},mounted(){this.columns=[{title:"序号",dataIndex:"id",key:"id",customRender:(e,t,a)=>`${a+1}`,width:80},{title:"模型名称",dataIndex:"modelName",key:"modelName"},{title:"模型版本",dataIndex:"modelVersion",key:"modelVersion"},{title:"设计者",dataIndex:"designer",key:"designer"},{title:"设计时间",dataIndex:"designTime",key:"designTime",sorter:!0,ellipsis:!0,width:200},{title:"审核者",dataIndex:"reviewer",key:"reviewer"},{title:"审核时间",dataIndex:"reviewTime",key:"reviewTime",sorter:!0,ellipsis:!0,width:200},{title:"变更描述",dataIndex:"changeDescription",key:"changeDescription",ellipsis:!0},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],this.virtualColumns=JSON.parse(JSON.stringify(this.columns)).map((e=>(e.checked=!0,e))),this.$nextTick((()=>{this.tableheight=(0,s.W)({id:"tables"})}))},methods:{addOrEditSpec(e){(0,n.Z)({title:e?"编辑建模设计信息":"添加建模设计信息",width:"800px"},{component:CreateOrEditSpecConfig})},fetchData(e){this.isTableLoading=!0,setTimeout((()=>{var t=[];for(let e=0;e<200;e++)t[e]={id:e,modelName:"模型"+e,modelVersion:"V1.0",designer:"设计者"+e,designTime:"2022-01-01 00:00:00",reviewer:"审核者"+e,reviewTime:"2022-01-02 00:00:00",changeDescription:"变更描述"+e};e.finishedCallback&&e.finishedCallback(),e.successCallback&&e.successCallback({items:t,totalCount:200})}),200)},delSpec(e){this.$confirm({title:"确认删除",content:"确认删除吗?",onOk:()=>{this.isTableLoading=!0,setTimeout((()=>{this.refresh()}),500)}})}}},d=o,c=a(1001),m=(0,c.Z)(d,i,r,!1,null,"eb9f509e",null),u=m.exports}}]);
//# sourceMappingURL=4351.15aa9544.js.map